function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var c=n[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{bZWr:function(e,n,t){"use strict";t.r(n);var c=t("ofXK"),i=t("3Pt+"),r=t("tyNb"),o=t("c7TG"),a=t("mrSG"),s=t("LTmD"),l=t("PKx9"),u=t("G6JS"),h=t("fXoL");function f(e,n){if(1&e){var t=h.fc();h.ec(0,"ion-item"),h.ec(1,"ion-label"),h.Ic(2,"\u540d\u5b57\uff1a"),h.dc(),h.ec(3,"ion-input",11),h.mc("ngModelChange",(function(e){return h.Bc(t),h.pc().SearchName=e})),h.dc(),h.dc()}if(2&e){var c=h.pc();h.Nb(3),h.vc("ngModel",c.SearchName)}}function d(e,n){if(1&e){var t=h.fc();h.ec(0,"ion-chip",4),h.mc("click",(function(){h.Bc(t);var e=n.$implicit;return h.pc(2).SearchRole=e.value})),h.ec(1,"ion-avatar"),h.ac(2,"img",14),h.dc(),h.ec(3,"ion-text",15),h.Ic(4),h.dc(),h.dc()}if(2&e){var c=n.$implicit,i=h.pc(2);h.Nb(2),h.vc("src",c.icon,h.Dc),h.Nb(1),h.vc("color",i.SearchRole===c.value?"success":"medium"),h.Nb(1),h.Jc(c.name)}}function m(e,n){if(1&e&&(h.ec(0,"ion-item"),h.ec(1,"ion-label",12),h.Gc(2,d,5,3,"ion-chip",13),h.dc(),h.dc()),2&e){var t=h.pc();h.Nb(2),h.vc("ngForOf",t.Roles)}}function v(e,n){if(1&e&&(h.ec(0,"ion-chip"),h.ec(1,"ion-avatar"),h.ac(2,"img",14),h.dc(),h.ec(3,"ion-text"),h.Ic(4),h.dc(),h.dc()),2&e){var t=n.$implicit;h.Nb(2),h.vc("src",t.icon,h.Dc),h.Nb(2),h.Jc(t.name)}}function g(e,n){if(1&e){var t=h.fc();h.ec(0,"ion-item"),h.ec(1,"ion-thumbnail",1),h.ac(2,"img",14),h.dc(),h.ec(3,"ion-label",12),h.ec(4,"ion-text",16),h.mc("click",(function(){h.Bc(t);var e=n.$implicit;return h.pc().ShowUserInfo(e.id)})),h.Ic(5),h.dc(),h.Gc(6,v,5,2,"ion-chip",10),h.dc(),h.dc()}if(2&e){var c=n.$implicit,i=h.pc();h.Nb(2),h.vc("src",c.avatar,h.Dc),h.Nb(3),h.Kc(" ",c.id," "),h.Nb(1),h.vc("ngForOf",i.GetRoles(c.roller))}}var p,b=((p=function(){function e(n,t,c,i){_classCallCheck(this,e),this.settings=n,this.forumservice=t,this.modalCtrl=c,this.loadingController=i,this.SearchMode="name",this.SearchName="",this.SearchRole=4,this.Resultes=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"Execute",value:function(){"name"===this.SearchMode&&""!==this.SearchName?this.SearchSingle(this.SearchName):this.SearchRoller(this.SearchRole)}},{key:"SearchSingle",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.showLoading();case 2:this.forumservice.GetUserInfo(e).then((function(e){console.log("SearchSingle",e),e&&(t.Resultes=[e],t.initalUser())})).finally((function(){t.closeLoading()}));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"SearchRoller",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.showLoading();case 2:this.forumservice.GetUserInfo(null,e).then((function(e){console.log("SearchRoller",e),e&&Array.isArray(e)&&(t.Resultes=e,t.initalUser())})).finally((function(){t.closeLoading()}));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"ShowUserInfo",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:u.a,componentProps:{Uerid:e}});case 2:return t=n.sent,n.next=5,t.present();case 5:return n.next=7,t.onWillDismiss();case 7:case"end":return n.stop()}}),n,this)})))}},{key:"GetRoles",value:function(e){return this.settings.UserRolers(e)}},{key:"initalUser",value:function(){var e=this;this.Resultes.forEach((function(n){n.avatar&&""!==n.avatar||(n.avatar=e.settings.Avatar(n.gender))}))}},{key:"showLoading",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.loadingView,e.t0){e.next=5;break}return e.next=4,this.loadingController.create({message:"\u6b63\u5728\u67e5\u627e...",duration:6e4});case 4:this.loadingView=e.sent;case 5:return e.next=7,this.loadingView.present();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"closeLoading",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.loadingView,!e.t0){e.next=5;break}return e.next=4,this.loadingView.dismiss();case 4:this.loadingView=null;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"Roles",get:function(){return this.settings.UserRolers(508)}}]),e}()).\u0275fac=function(e){return new(e||p)(h.Zb(s.a),h.Zb(l.a),h.Zb(o.cb),h.Zb(o.bb))},p.\u0275cmp=h.Tb({type:p,selectors:[["app-searchuser"]],decls:21,vars:4,consts:[["color","primary"],["slot","start"],["defaulthref","","text","\u8fd4\u56de"],["slot","end"],[3,"click"],["name","search"],[3,"ngModel","ngModelChange"],["value","name"],["value","role"],[4,"ngIf"],[4,"ngFor","ngForOf"],["placeholder","\u8f93\u5165\u7528\u6237\u540d\u5b57",3,"ngModel","ngModelChange"],[1,"ion-text-wrap"],[3,"click",4,"ngFor","ngForOf"],[3,"src"],[3,"color"],["color","primary",3,"click"]],template:function(e,n){1&e&&(h.ec(0,"ion-header"),h.ec(1,"ion-toolbar",0),h.ec(2,"ion-buttons",1),h.ac(3,"ion-back-button",2),h.dc(),h.ec(4,"ion-title"),h.Ic(5,"\u67e5\u627e\u7528\u6237"),h.dc(),h.dc(),h.dc(),h.ec(6,"ion-content"),h.ec(7,"ion-item"),h.ec(8,"ion-buttons",3),h.ec(9,"ion-button",4),h.mc("click",(function(){return n.Execute()})),h.ac(10,"ion-icon",5),h.Ic(11," \u6267\u884c "),h.dc(),h.dc(),h.ec(12,"ion-buttons",1),h.ec(13,"ion-segment",6),h.mc("ngModelChange",(function(e){return n.SearchMode=e})),h.ec(14,"ion-segment-button",7),h.Ic(15,"\u6309\u540d\u5b57"),h.dc(),h.ec(16,"ion-segment-button",8),h.Ic(17,"\u6309\u89d2\u8272"),h.dc(),h.dc(),h.dc(),h.dc(),h.Gc(18,f,4,1,"ion-item",9),h.Gc(19,m,3,1,"ion-item",9),h.Gc(20,g,7,3,"ion-item",10),h.dc()),2&e&&(h.Nb(13),h.vc("ngModel",n.SearchMode),h.Nb(5),h.vc("ngIf","name"===n.SearchMode),h.Nb(1),h.vc("ngIf","role"===n.SearchMode),h.Nb(1),h.vc("ngForOf",n.Resultes))},directives:[o.t,o.Y,o.j,o.f,o.g,o.W,o.n,o.x,o.i,o.u,o.O,o.hb,i.f,i.g,o.P,c.j,c.i,o.D,o.w,o.ib,o.l,o.e,o.T,o.V],styles:[""]}),p);t.d(n,"SearchuserPageModule",(function(){return S}));var w,k=[{path:"",component:b}],S=((w=function e(){_classCallCheck(this,e)}).\u0275mod=h.Xb({type:w}),w.\u0275inj=h.Wb({factory:function(e){return new(e||w)},imports:[[c.b,i.c,o.Z,r.j.forChild(k)]]}),w)}}]);