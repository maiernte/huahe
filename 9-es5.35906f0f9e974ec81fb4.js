function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{L99X:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("mrSG"),i=n("c7TG"),o=n("LTmD"),s=n("2Vo4"),a=n("Y6BA"),c=(n("xPBH"),n("fXoL")),u=n("e8h1"),l=n("tk/3"),f=function(){var e=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.settings=t,this.plateform=n,this.storage=r,this.http=i,this.dbReady=new s.a(!1),this.LoadBooks().then((function(e){if(o.nodes=e||[],0===o.Nodes.length)return o.CreateNode(void 0,"\u4e34\u65f6\u6848\u4f8b",32)})).finally((function(){o.dbReady.next(!0)}))}return _createClass(e,[{key:"ReloadBooks",value:function(){var e=this;this.dbReady.next(!1),this.LoadBooks().then((function(t){e.nodes=t||[]})).finally((function(){e.dbReady.next(!0)}))}},{key:"GetAllNodes",value:function(){var e=this;return new Promise((function(t,n){e.DatabaseState.subscribe((function(n){n&&t(e.Nodes)}))}))}},{key:"SaveNodes",value:function(){var t=this,n=this.settings.HasUser?"".concat(e.DB_NODES,"_").concat(this.settings.User.id):e.DB_NODES;return new Promise((function(e,r){var i=JSON.stringify(t.nodes);t.storage.set(n,i).then((function(t){e(!0)})).catch((function(e){r(!1)}))}))}},{key:"CreateNode",value:function(e,t,n){var r=this;return new Promise((function(i,o){var s={id:Object(a.createGuid)(8),created:0,modified:0,parent:e,name:t||"\u4e34\u65f6\u6848\u4f8b",comment:"",type:n||1,size:0,sync:0};r.nodes=r.nodes||[],r.nodes.push(s),r.SaveNodes().then((function(e){i(r.Nodes)})).catch((function(e){o(e)}))}))}},{key:"ChangeNode",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i,o){var s=n.nodes.where((function(t){return t.id===e}));if(s&&1===s.length){var a=s[0];a.name=t||a.name,a.parent=r||a.parent,n.SaveNodes().then((function(e){i(n.Nodes)})).catch((function(e){o(!1)}))}}))}},{key:"DeleteNodes",value:function(e){var t=this,n=Date.now();return new Promise((function(r,i){var o=[];t.nodes.forEach((function(t){e.includes(t.id)&&(t.size=-1,t.modified=n,32===t.type&&o.push(t.id))})),t.SaveNodes().then((function(e){r(t.Nodes)})).catch((function(e){i(!1)}))}))}},{key:"SyncNodes",value:function(e){var t=this,n=this.nodes.map((function(e){return e.id})),r=[],i=[];return e.forEach((function(e){if(n.includes(e.id)){if(t.nodes.find((function(t){return t.id===e.id})).modified<e.modified){var i=t.nodes.findIndex((function(t){return t.id===e.id}));t.nodes.splice(i,1,Object(o.b)(e)),r.push(e.id)}}else t.nodes.push(Object(o.b)(e)),r.push(e.id)})),this.CleanNodes(),this.nodes.forEach((function(t){var n=e.find((function(e){return e.id===t.id}));t.name.startsWith("\u516d\u723b")&&console.log("...",n,t),(!n||n.modified<t.modified)&&i.push(t.id)})),r.length>0?(console.log("new Booktree will be saved.",this.nodes),this.SaveNodes().then((function(){return[r,i]}))):Promise.resolve([r,i])}},{key:"CleanNodes",value:function(){var e=Date.now()-2592e6;this.nodes=this.nodes.filter((function(t){return t.size<0&&t.modified<e||t.size>=0}))}},{key:"GetRecordes",value:function(e){var t=this;return new Promise((function(n,r){t.storage.get("Book_".concat(e)).then((function(i){if(i){var o=JSON.parse(i);n(o.filter((function(e){return e.size>=0})))}else 0===t.Nodes.find((function(t){return t.id===e})).sync?(t.SaveRecordes(e,[]),n([])):r([])})).catch((function(e){r(e)}))}))}},{key:"SaveRecordes",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log("save recordes of ",e);var r=JSON.stringify(t);if(this.storage.set("Book_".concat(e),r),n){var i=this.nodes.find((function(t){return t.id===e}));i.created=0===i.created?Date.now():i.created,i.modified=Date.now(),i.size=r.length,this.SaveNodes()}}},{key:"CreateRecord",value:function(e,t,n,r){return{id:Object(a.createGuid)(8),node:e,created:Date.now(),modified:Date.now(),type:n,titel:t,arg:r,content:"",size:0,sync:0}}},{key:"SaveRecord",value:function(e,t,n,r){var i=this;return new Promise((function(o,s){i.storage.get("Book_".concat(e)).then((function(s){var a=JSON.parse(s),c=i.CreateRecord(e,t,n,r);a.push(c),i.SaveRecordes(e,a),o(c)}))}))}},{key:"DeleteRecordes",value:function(e,t){var n=this;return new Promise((function(r,i){n.storage.get("Book_".concat(e)).then((function(i){var o=JSON.parse(i);o.forEach((function(e){t.includes(e.id)&&(e.size=-1,e.content="",e.arg="",e.modified=Date.now())})),n.SaveRecordes(e,o),r(o.filter((function(e){return e.size>=0})))}))}))}},{key:"MoveRecordes",value:function(e,t,n){var r=this;return new Promise((function(i,o){var s=r.storage.get("Book_".concat(e)).then((function(e){return JSON.parse(e)||[]})),a=r.storage.get("Book_".concat(t)).then((function(e){return JSON.parse(e)||[]}));Promise.all([s,a]).then((function(o){var s=o[0],a=o[1],c=!0,u=!1,l=void 0;try{for(var f,d=function(){var e=f.value,n=s.find((function(t){return t.id===e}));n.node=t,a.push(n),s=s.filter((function(t){return t.id!==e}))},h=n[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)d()}catch(b){u=!0,l=b}finally{try{c||null==h.return||h.return()}finally{if(u)throw l}}console.log("move finish",s,a,n),r.SaveRecordes(e,s),r.SaveRecordes(t,a),i(s.filter((function(e){return e.size>=0})))}))}))}},{key:"ChangeBooktreeOfAnonym",value:function(t){var n=this,r="".concat(e.DB_NODES,"_").concat(t);return this.storage.keys().then((function(t){return t.includes(r)?Promise.reject("".concat(r," is already hier.")):n.storage.get(e.DB_NODES)})).then((function(e){return e?(console.log("umschreiben booktree to ",r),n.storage.set("".concat(r),e)):Promise.reject("booktree can not founde.")})).then((function(){return console.log("umschreiben erfolg!"),n.storage.remove(e.DB_NODES)})).then((function(){return console.log("Record ".concat(e.DB_NODES," will deleted")),!0})).catch((function(e){return console.log("ChangeBooktreeOfAnonym denied: ",e),!1}))}},{key:"test",value:function(e){var t=this;return this.storage.get("...").then((function(n){return console.log("get ...",n),t.storage.get(e)})).then((function(t){return console.log("get ".concat(e),t),Promise.resolve(!0)}))}},{key:"WaitInit",value:function(){var e=this;return new Promise((function(t,n){e.DatabaseState.subscribe((function(e){e&&t(!0)}))}))}},{key:"LoadBooks",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.settings.WaitInit();case 2:return n=this.settings.HasUser?"".concat(e.DB_NODES,"_").concat(this.settings.User.id):e.DB_NODES,t.abrupt("return",(console.log("loadbooks of ".concat(n)),this.storage.get(n).then((function(e){return Promise.resolve(Object(o.d)(e))})).catch((function(e){return console.error("LoadBooks() error:",e),Promise.resolve([])}))));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"DatabaseState",get:function(){return this.dbReady.asObservable()}},{key:"Nodes",get:function(){return this.nodes.filter((function(e){return e.size>=0}))}},{key:"NodesAlle",get:function(){return this.nodes}},{key:"NodeModified",get:function(){return Math.max.apply(Math,_toConsumableArray(this.nodes.map((function(e){return e.modified}))))}}]),e}();return e.DB_NODES="booktree",e.\u0275fac=function(t){return new(t||e)(c.dc(o.a),c.dc(i.Y),c.dc(u.b),c.dc(l.b))},e.\u0275prov=c.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},hBK9:function(e,t,n){"use strict";n.r(t);var r,i,o,s,a=n("ofXK"),c=n("3Pt+"),u=n("tyNb"),l=n("c7TG"),f=n("mrSG"),d=n("fXoL"),h=function(){var e={arrayBuffer:0,binaryString:1,dataURL:2,text:3};return e[e.arrayBuffer]="arrayBuffer",e[e.binaryString]="binaryString",e[e.dataURL]="dataURL",e[e.text]="text",e}(),b=function(){function e(t,n,r){_classCallCheck(this,e),this._underlyingFile=t,this._readMode=n,this._content=r}return _createClass(e,[{key:"name",get:function(){return this._underlyingFile.name}},{key:"size",get:function(){return this._underlyingFile.size}},{key:"type",get:function(){return this._underlyingFile.type}},{key:"readMode",get:function(){return this._readMode}},{key:"content",get:function(){return this._content}},{key:"underlyingFile",get:function(){return this._underlyingFile}}]),e}(),p=((o=function(){function e(){_classCallCheck(this,e),this.filter=function(){return!0},this.readStart=new d.s,this.readEnd=new d.s}return _createClass(e,[{key:"readFiles",value:function(e,t){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Array.from(e).filter(this.filter),i=r.length,this.readStart.emit(i),n.next=4,Promise.all(r.map((function(e){return Object(f.b)(o,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(e,t){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var i=new FileReader;switch(i.onload=function(r){var i=new b(e,t,r.target.result);n(i)},i.onerror=function(e){r(e)},t){case h.arrayBuffer:i.readAsArrayBuffer(e);break;case h.binaryString:i.readAsBinaryString(e);break;case h.text:i.readAsText(e);break;case h.dataURL:default:i.readAsDataURL(e)}})));case 1:case"end":return n.stop()}}),n)})))}(e,this.readMode);case 2:r=n.sent,t(r);case 4:case"end":return n.stop()}}),n,this)})))})));case 4:this.readEnd.emit(i);case 5:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275dir=d.Rb({type:o,inputs:{filter:"filter",readMode:"readMode"},outputs:{readStart:"readStart",readEnd:"readEnd"}}),o),v=((i=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).el=e,r.renderer=n,r.accept="",r.filePick=new d.s,r}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){var e=this;this._input=this.renderer.createElement("input"),this.renderer.appendChild(this.el.nativeElement,this._input),this.renderer.setAttribute(this._input,"type","file"),this.renderer.setAttribute(this._input,"accept",this.accept),this.renderer.setStyle(this._input,"display","none"),this.multiple&&this.renderer.setAttribute(this._input,"multiple","multiple"),this.renderer.listen(this._input,"change",(function(t){return e._onListen(t)}))}},{key:"reset",value:function(){this._input?this._input.value=null:console.error("It seems that ngOnInit() has not been executed or that the hidden _input element is null. Did you mess with the DOM?")}},{key:"browse",value:function(){this._input?this._input.click():console.error("It seems that ngOnInit() has not been executed or that the hidden _input element is null. Did you mess with the DOM?")}},{key:"_onListen",value:function(e){var t=this;this.readFiles(e.target.files,(function(e){return t.filePick.emit(e)}))}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=function(e){return null!=e&&"false"!=="".concat(e)}(e)}}]),t}(p)).\u0275fac=function(e){return new(e||i)(d.Wb(d.q),d.Wb(d.M))},i.\u0275dir=d.Rb({type:i,selectors:[["","ngxFilePicker",""]],hostBindings:function(e,t){1&e&&d.hc("click",(function(e){return t.browse()}))},inputs:{accept:"accept",multiple:"multiple"},outputs:{filePick:"filePick"},exportAs:["ngxFilePicker"],features:[d.Jb]}),i),y=((r=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ub({type:r}),r.\u0275inj=d.Tb({factory:function(e){return new(e||r)},imports:[[]]}),r),g=n("LTmD"),m=n("B8lH"),k=n("L99X"),w=n("lEof"),S=n("tk/3"),_=["filePicker"],x=((s=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.settings=t,this.dbservice=n,this.host=r,this.alertController=i,this.modalController=o,this.http=s,this.readMode=h.arrayBuffer,this.webapp="",this.document="",this.server=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"CleanMemory",value:function(e){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u6e05\u7a7a\u7f13\u5b58",message:"\u53ea\u6e05\u7a7a\u672c\u5730\u7684\u7528\u6237\u6570\u636e\u3002\u53ef\u91cd\u65b0\u4e0b\u8f7d\u5728\u670d\u52a1\u5668\u4fdd\u5b58\u7684\u7528\u6237\u6570\u636e\u548c\u6848\u4f8b\u3002",buttons:[{text:"\u786e\u5b9a",handler:function(){r.settings.ResetDB(e).then((function(e){r.dbservice.ReloadBooks()}))}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:function(){}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"LoadLocalFile",value:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(){console.log("read file:",n.result);var e=new Uint8Array(n.result),t=new SQL.Database(e).exec("SELECT * From node");console.log(t)},n.readAsArrayBuffer(t)}},{key:"onReadStart",value:function(e){}},{key:"onFilePicked",value:function(e){var t=new Uint8Array(e.content),n=new SQL.Database(t).exec("SELECT * From node");console.log(n)}},{key:"onReadEnd",value:function(e){this.filePicker.reset()}},{key:"UpdateServer",value:function(){var e=this;this.http.get("https://huaheapp.oss-cn-hangzhou.aliyuncs.com/app/huahe.config.json").subscribe((function(t){var n=t;console.log("new conf",n),console.log("current",e.settings.AppConfig),e.document=n.document,e.webapp=n.website,n.servers.filter((function(t){return t.version===e.settings.AppConfig.app.version}))?console.log("Found Server!!!!!!!!!!!!"):console.log("not found Server!!!!")}),(function(e){console.log("err",e)}))}},{key:"SettingConfig",value:function(e){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:m.a,componentProps:{SettingComponent:e,Global:!0,OnlyGlobal:!0,Config:"bazi"===e?Object(g.b)(this.settings.Bazi):Object(g.b)(this.settings.Gua)}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.next=7,n.onWillDismiss();case 7:r=t.sent,i=r.data,console.log(i);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"ShowRecord",value:function(){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,this.alertController.create({header:"Show Record",inputs:[{name:"keyid",type:"text",label:"Key",value:"*",placeholder:"enter key"}],buttons:[{text:"\u5220\u9664",role:"destructive",handler:function(){t=!1}},{text:"\u67e5\u770b",role:"cancel",cssClass:"secondary",handler:function(){}}]});case 3:return n=e.sent,e.next=6,n.present();case 6:return e.next=8,n.onWillDismiss();case 8:if(r=e.sent,i=r.data){e.next=12;break}return e.abrupt("return");case 12:o=i.values.keyid,t?this.settings.ShowData(o.trim()):this.settings.ResetDB(o.trim());case 14:case"end":return e.stop()}}),e,this)})))}},{key:"UmschreibenBook",value:function(){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,this.alertController.create({header:"\u6539\u5199",inputs:[{name:"keyid",type:"text",label:"Key",placeholder:"enter key"}],buttons:[{text:"\u6539\u5199",handler:function(){t=!1}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:function(){}}]});case 3:return n=e.sent,e.next=6,n.present();case 6:return e.next=8,n.onWillDismiss();case 8:r=e.sent,(i=r.data)&&(t||console.log("test = ",this.dbservice.test(i.values.keyid.trim())));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"Ticket",value:function(){var e,t;return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o,s,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!0,i=this.settings.User,n.next=4,this.alertController.create({header:"\u62a5\u544a\u95ee\u9898",inputs:[{name:"user",type:"text",label:"\u7528\u6237\u540d",value:null===(e=i)||void 0===e?void 0:e.id,placeholder:"\u7528\u6237\u540d"},{name:"mail",type:"text",label:"\u6ce8\u518c\u90ae\u7bb1",value:null===(t=i)||void 0===t?void 0:t.email,placeholder:"user@mail.com"},{name:"titel",type:"text",label:"\u95ee\u9898",placeholder:"\u4f60\u7684\u95ee\u9898\uff0f\u610f\u89c1"},{name:"comment",type:"text",label:"\u5907\u6ce8",placeholder:"\u5907\u6ce8"}],buttons:[{text:"\u53d1\u9001",handler:function(){r=!1}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:function(){}}]});case 4:return o=n.sent,n.next=7,o.present();case 7:return n.next=9,o.onWillDismiss();case 9:s=n.sent,a=s.data,console.log(a),a&&a.values&&(a.values.user?a.values.mail?a.values.titel?r||this.host.SendTicket(a.values):this.presentAlert("\u8868\u5355\u9519\u8bef","\u95ee\u9898","\u8bf7\u8f93\u5165\u60a8\u7684\u95ee\u9898\u3002"):this.presentAlert("\u8868\u5355\u9519\u8bef","\u6ce8\u518c\u90ae\u7bb1","\u8bf7\u8f93\u5165\u60a8\u7684\u6ce8\u518c\u90ae\u7bb1, \u5426\u5219\u6211\u4eec\u65e0\u6cd5\u56de\u590d\u3002"):this.presentAlert("\u8868\u5355\u9519\u8bef","\u7528\u6237\u540d","\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d, \u5426\u5219\u6211\u4eec\u65e0\u6cd5\u6838\u5b9e\u8d44\u6599\u3002"));case 12:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert",value:function(e,t,n){return Object(f.b)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({header:e||"\u9519\u8bef",subHeader:t||"",message:n,buttons:["\u786e\u5b9a"]});case 2:return i=r.sent,r.next=5,i.present();case 5:case"end":return r.stop()}}),r,this)})))}}]),e}()).\u0275fac=function(e){return new(e||s)(d.Wb(g.a),d.Wb(k.a),d.Wb(w.a),d.Wb(l.b),d.Wb(l.W),d.Wb(S.b))},s.\u0275cmp=d.Qb({type:s,selectors:[["app-setting"]],viewQuery:function(e,t){var n;1&e&&d.Ac(_,!0),2&e&&d.qc(n=d.ic())&&(t.filePicker=n.first)},decls:38,vars:3,consts:[["slot","start"],["ngxFilePicker","","fill","outline",3,"readMode","readStart","filePick","readEnd"],["filePicker","ngxFilePicker"],["type","file",3,"change"],["fill","outline",3,"click"],["slot","end"],[3,"href"],[3,"click"],["color","danger","fill","outline",3,"click"]],template:function(e,t){1&e&&(d.Zb(0,"ion-header"),d.Zb(1,"ion-toolbar"),d.Zb(2,"ion-buttons",0),d.Xb(3,"ion-menu-button"),d.Yb(),d.Zb(4,"ion-title"),d.xc(5,"\u8bbe\u7f6e"),d.Yb(),d.Yb(),d.Yb(),d.Zb(6,"ion-content"),d.Zb(7,"ion-item"),d.Zb(8,"ion-button",1,2),d.hc("readStart",(function(e){return t.onReadStart(e)}))("filePick",(function(e){return t.onFilePicked(e)}))("readEnd",(function(e){return t.onReadEnd(e)})),d.xc(10,"\u5bfc\u5165\u6848\u4f8b"),d.Yb(),d.Zb(11,"ion-input",3),d.hc("change",(function(e){return t.LoadLocalFile(e)})),d.Yb(),d.Yb(),d.Zb(12,"ion-item"),d.Zb(13,"ion-button",4),d.hc("click",(function(e){return t.UpdateServer()})),d.xc(14,"\u66f4\u65b0\u670d\u52a1\u5730\u5740"),d.Yb(),d.Zb(15,"ion-buttons",5),d.Zb(16,"ion-button",6),d.xc(17,"\u7f51\u9875\u7248APP"),d.Yb(),d.Zb(18,"ion-button",6),d.xc(19,"\u5728\u7ebf\u6587\u6863"),d.Yb(),d.Yb(),d.Yb(),d.Zb(20,"ion-item"),d.Zb(21,"ion-buttons"),d.Zb(22,"ion-button",7),d.hc("click",(function(e){return t.SettingConfig("gua")})),d.xc(23,"\u516d\u723b\u5168\u5c40\u8bbe\u7f6e"),d.Yb(),d.Zb(24,"ion-button",7),d.hc("click",(function(e){return t.SettingConfig("bazi")})),d.xc(25,"\u516b\u5b57\u5168\u5c40\u8bbe\u7f6e"),d.Yb(),d.Yb(),d.Yb(),d.Zb(26,"ion-item"),d.Zb(27,"ion-button",4),d.hc("click",(function(e){return t.Ticket()})),d.xc(28,"\u62a5\u544a\u95ee\u9898"),d.Yb(),d.Yb(),d.Zb(29,"ion-item"),d.Zb(30,"ion-button",8),d.hc("click",(function(e){return t.CleanMemory("recordes")})),d.xc(31,"\u6e05\u7a7a\u6848\u4f8b\u7f13\u5b58"),d.Yb(),d.Zb(32,"ion-button",8),d.hc("click",(function(e){return t.CleanMemory("all")})),d.xc(33,"\u6e05\u7a7a\u7528\u6237\u6570\u636e"),d.Yb(),d.Zb(34,"ion-button",4),d.hc("click",(function(e){return t.ShowRecord()})),d.xc(35,"\u67e5\u770b\uff0f\u5220\u9664"),d.Yb(),d.Zb(36,"ion-button",4),d.hc("click",(function(e){return t.UmschreibenBook()})),d.xc(37,"\u6539\u5199"),d.Yb(),d.Yb(),d.Yb()),2&e&&(d.Mb(8),d.oc("readMode",t.readMode),d.Mb(8),d.oc("href",t.webapp),d.Mb(2),d.oc("href",t.document))},directives:[l.p,l.T,l.i,l.y,l.R,l.l,l.t,l.h,v,l.s,l.cb],styles:[".spin[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;stroke:#444;fill:#222}"]}),s),C=n("KPWP");n.d(t,"SettingPageModule",(function(){return R}));var O,P=[{path:"",component:x}],R=((O=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ub({type:O}),O.\u0275inj=d.Tb({factory:function(e){return new(e||O)},imports:[[a.b,c.a,l.U,y,C.a,u.i.forChild(P)]]}),O)},xPBH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.Type=t,this.Title=n,this.ShowButton=!0,this.isExpanded=!1,this.isSelected=!1,this.url="",this.sub=[]}return _createClass(e,[{key:"SubNodesId",value:function(e){e.push(this.ID);var t=!0,n=!1,r=void 0;try{for(var i,o=this.Sub[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.SubNodesId(e)}}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"IsFile",get:function(){return 32===this.Type}},{key:"IsSelected",get:function(){return this.isSelected},set:function(e){this.isSelected=e}},{key:"IsExpanded",get:function(){return this.isExpanded},set:function(e){0!==this.Sub.length&&(this.isExpanded=e)}},{key:"Icon",get:function(){switch(this.Type){case 2:return"person";case 4:return"lock";case 8:return"menu";case 16:return"walk";case 32:return"document";case 1:default:return"folder"}}},{key:"Url",get:function(){return this.url}},{key:"Sub",get:function(){return this.sub},set:function(e){this.sub=e}},{key:"Color",get:function(){return this.isSelected?"tertiary":""}},{key:"ColorB",get:function(){return this.isSelected?"light":""}}],[{key:"getNodePath",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e?e.Sub:i;if((t||"").IsNullOrEmpty())return["\u6839\u76ee\u5f55"];if((null===(n=e)||void 0===n?void 0:n.ID)===t)return[e.Title];if(!(o.length>0))return null;var s=!0,a=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value,d=this.getNodePath(f,t);if(d)return d.insert(0,(null===(r=e)||void 0===r?void 0:r.Title)||""),d}}catch(h){a=!0,c=h}finally{try{s||null==l.return||l.return()}finally{if(a)throw c}}}},{key:"Examples",get:function(){var t=[],n=new e(1,"Folder 01"),r=new e(2,"Folder 02"),i=new e(4,"Folder 03"),o=new e(32,"file 01",!0),s=new e(8,"file 02",!0),a=new e(16,"file 03",!0),c=new e(8,"file 04",!0),u=new e(32,"file 05",!0),l=new e(16,"file 06",!0);return n.Sub.push(r),r.Sub.push(o),r.Sub.push(s),r.Sub.push(a),i.Sub.push(c),i.Sub.push(u),i.Sub.push(l),t.push(n),t.push(i),t}}]),e}()}}]);