function _classCallCheck(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function _createClass(i,n,t){return n&&_defineProperties(i.prototype,n),t&&_defineProperties(i,t),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{J4mY:function(i,n,t){"use strict";t.r(n);var e=t("ofXK"),o=t("3Pt+"),c=t("tyNb"),r=t("c7TG"),a=t("mrSG"),u=t("LTmD"),s=t("PKx9"),b=t("8/yo"),f=t("Y6BA"),l=t("G6JS"),h=t("fXoL"),m=t("ylIl"),g=t("gTpY");function p(i,n){1&i&&(h.Zb(0,"ion-text",26),h.xc(1,"[\u7cbe\u534e]"),h.Yb())}function d(i,n){1&i&&(h.Zb(0,"ion-text",26),h.xc(1,"[\u7f6e\u9876]"),h.Yb())}function v(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-item"),h.Zb(1,"ion-thumbnail",1),h.Xb(2,"img",27),h.Yb(),h.Zb(3,"ion-label",16),h.Zb(4,"ion-text",28),h.hc("click",(function(){h.rc(t);var i=h.jc();return i.ShowUserInfo(i.Topic.author)})),h.xc(5),h.Yb(),h.Xb(6,"br"),h.Zb(7,"ion-note"),h.Zb(8,"small"),h.xc(9),h.Yb(),h.Yb(),h.Xb(10,"br"),h.Zb(11,"ion-note"),h.Zb(12,"small"),h.xc(13),h.Yb(),h.Yb(),h.Xb(14,"br"),h.Yb(),h.Yb()}if(2&i){var e=h.jc();h.Mb(2),h.oc("src",e.Topic.avatar,h.tc),h.Mb(3),h.zc("\u4f5c\u8005\uff1a",e.Topic.author,""),h.Mb(4),h.zc("\u53d1\u5e16\u65f6\u95f4: ",e.DateText(e.Topic.created),""),h.Mb(4),h.zc("\u4fee\u6539\u65f6\u95f4: ",e.DateText(e.Topic.modified),"")}}function x(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){return h.rc(t),h.jc(2).AnswerTopic(null)})),h.xc(1,"[\u56de\u590d]"),h.Yb()}}function w(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc(2);return i.EditTopic(i.Topic)})),h.xc(1,"[\u4fee\u6539]"),h.Yb()}}function T(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc(2);return i.DeleteTopic(i.Topic.id,!0)})),h.xc(1,"[\u5220\u9664]"),h.Yb()}}function k(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc(2);return i.FrozenTopic(i.Topic)})),h.xc(1,"[\u5c01\u5b58]"),h.Yb()}}function Y(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",34),h.hc("click",(function(){h.rc(t);var i=h.jc(2);return i.ChangeShowModel(i.Topic,"gua")})),h.xc(1,"[\u5366\u76d8]"),h.Yb()}}function Z(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",34),h.hc("click",(function(){h.rc(t);var i=h.jc(2);return i.ChangeShowModel(i.Topic,"bazi")})),h.xc(1,"[\u547d\u76d8]"),h.Yb()}}function M(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",34),h.hc("click",(function(){h.rc(t);var i=h.jc(2);return i.ChangeShowModel(i.Topic,"img")})),h.xc(1,"[\u56fe\u7247]"),h.Yb()}}function I(i,n){if(1&i&&(h.Zb(0,"ion-item",29),h.Zb(1,"small"),h.Zb(2,"ion-label",16),h.Zb(3,"ion-text",30),h.xc(4,"0 \u697c"),h.Yb(),h.wc(5,x,2,0,"ion-text",31),h.wc(6,w,2,0,"ion-text",31),h.wc(7,T,2,0,"ion-text",31),h.wc(8,k,2,0,"ion-text",31),h.wc(9,Y,2,0,"ion-text",32),h.wc(10,Z,2,0,"ion-text",32),h.wc(11,M,2,0,"ion-text",32),h.Yb(),h.Yb(),h.Yb()),2&i){var t=h.jc();h.Mb(5),h.oc("ngIf",t.CheckAction(t.Topic,"anwser")),h.Mb(1),h.oc("ngIf",t.CheckAction(t.Topic,"modify")),h.Mb(1),h.oc("ngIf",t.CheckAction(t.Topic,"delete")),h.Mb(1),h.oc("ngIf",t.CheckAction(t.Topic,"frozen")),h.Mb(1),h.oc("ngIf",t.Topic.gua),h.Mb(1),h.oc("ngIf",t.Topic.bazi),h.Mb(1),h.oc("ngIf",t.Topic.img)}}function C(i,n){if(1&i&&(h.Zb(0,"ion-item"),h.Xb(1,"ion-img",27),h.Yb()),2&i){var t=h.jc();h.Mb(1),h.oc("src",t.Topic.img)}}function z(i,n){if(1&i&&(h.Zb(0,"ion-item",15),h.Xb(1,"app-guaview",35),h.Yb()),2&i){var t=h.jc();h.Mb(1),h.oc("Config",t.GuaConfig)("GuaText",t.Topic.gua)}}function j(i,n){if(1&i&&(h.Zb(0,"ion-item",15),h.Xb(1,"app-baziview",36),h.Yb()),2&i){var t=h.jc();h.Mb(1),h.oc("Config",t.BaziConfig)("BaziText",t.Topic.bazi)}}function y(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().AnswerTopic(i)})),h.xc(1,"[\u56de\u590d]"),h.Yb()}}function P(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().EditTopic(i)})),h.xc(1,"[\u4fee\u6539]"),h.Yb()}}function S(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().DeleteTopic(i.id,!1)})),h.xc(1,"[\u5220\u9664]"),h.Yb()}}function A(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",33),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().FrozenTopic(i)})),h.xc(1,"[\u5c01\u5b58]"),h.Yb()}}function O(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",34),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().ChangeShowModel(i,"gua")})),h.xc(1,"[\u5366\u76d8]"),h.Yb()}}function X(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",34),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().ChangeShowModel(i,"bazi")})),h.xc(1,"[\u547d\u76d8]"),h.Yb()}}function G(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-text",34),h.hc("click",(function(){h.rc(t);var i=h.jc().$implicit;return h.jc().ChangeShowModel(i,"img")})),h.xc(1,"[\u56fe\u7247]"),h.Yb()}}function R(i,n){if(1&i&&(h.Zb(0,"ion-item"),h.Xb(1,"ion-img",27),h.Yb()),2&i){var t=h.jc().$implicit;h.Mb(1),h.oc("src",t.img)}}function D(i,n){if(1&i&&(h.Zb(0,"ion-item",15),h.Xb(1,"app-guaview",35),h.Yb()),2&i){var t=h.jc().$implicit,e=h.jc();h.Mb(1),h.oc("Config",e.GuaConfig)("GuaText",t.gua)}}function F(i,n){if(1&i&&(h.Zb(0,"ion-item",15),h.Xb(1,"app-baziview",36),h.Yb()),2&i){var t=h.jc().$implicit,e=h.jc();h.Mb(1),h.oc("Config",e.BaziConfig)("BaziText",t.bazi)}}function U(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-item"),h.Zb(1,"div",11),h.Zb(2,"ion-item"),h.Zb(3,"ion-thumbnail",1),h.Xb(4,"img",27),h.Yb(),h.Zb(5,"ion-label",16),h.Zb(6,"ion-text",28),h.hc("click",(function(){h.rc(t);var i=n.$implicit;return h.jc().ShowUserInfo(i.author)})),h.xc(7),h.Yb(),h.Xb(8,"br"),h.Zb(9,"ion-note"),h.Zb(10,"small"),h.xc(11),h.Yb(),h.Yb(),h.Xb(12,"br"),h.Zb(13,"ion-note"),h.Zb(14,"small"),h.xc(15),h.Yb(),h.Yb(),h.Xb(16,"br"),h.Yb(),h.Yb(),h.Zb(17,"ion-item",29),h.Zb(18,"ion-label",16),h.Zb(19,"ion-text",30),h.xc(20),h.Yb(),h.wc(21,y,2,0,"ion-text",31),h.wc(22,P,2,0,"ion-text",31),h.wc(23,S,2,0,"ion-text",31),h.wc(24,A,2,0,"ion-text",31),h.wc(25,O,2,0,"ion-text",32),h.wc(26,X,2,0,"ion-text",32),h.wc(27,G,2,0,"ion-text",32),h.Yb(),h.Yb(),h.wc(28,R,2,1,"ion-item",12),h.wc(29,D,2,2,"ion-item",14),h.wc(30,F,2,2,"ion-item",14),h.Zb(31,"ion-item",15),h.Zb(32,"ion-label",16),h.Xb(33,"ion-text",17),h.Yb(),h.Yb(),h.Yb(),h.Yb()}if(2&i){var e=n.$implicit,o=n.index,c=h.jc();h.Mb(4),h.oc("src",e.avatar,h.tc),h.Mb(3),h.zc("\u4f5c\u8005\uff1a",e.author,""),h.Mb(4),h.zc("\u53d1\u5e16\u65f6\u95f4: ",c.DateText(e.created),""),h.Mb(4),h.zc("\u4fee\u6539\u65f6\u95f4: ",c.DateText(e.modified),""),h.Mb(5),h.zc("",o+1,"\u697c"),h.Mb(1),h.oc("ngIf",c.CheckAction(e,"anwser")),h.Mb(1),h.oc("ngIf",c.CheckAction(e,"modify")),h.Mb(1),h.oc("ngIf",c.CheckAction(e,"delete")),h.Mb(1),h.oc("ngIf",c.CheckAction(e,"frozen")),h.Mb(1),h.oc("ngIf",e.gua),h.Mb(1),h.oc("ngIf",e.bazi),h.Mb(1),h.oc("ngIf",c.Topic.img),h.Mb(1),h.oc("ngIf",c.ShowMe(e,"img")),h.Mb(1),h.oc("ngIf",c.ShowMe(e,"gua")),h.Mb(1),h.oc("ngIf",c.ShowMe(e,"bazi")),h.Mb(3),h.oc("innerHtml",e.content,h.sc)}}function W(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-button",37),h.hc("click",(function(){h.rc(t);var i=h.jc();return i.ShowPanfu(i.Topic.gua)})),h.xc(1,"\u5366\u76d8"),h.Yb()}}function $(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-button",37),h.hc("click",(function(){h.rc(t);var i=h.jc();return i.ShowPanfu(i.Topic.bazi)})),h.xc(1,"\u547d\u76d8"),h.Yb()}}function B(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-button",38),h.hc("click",(function(){return h.rc(t),h.jc().SetTopOrGood("\u7cbe\u534e")})),h.xc(1,"[\u7cbe\u534e]"),h.Yb()}if(2&i){var e=h.jc();h.oc("color",null!=e.Topic&&e.Topic.good?"primary":"danger")}}function L(i,n){if(1&i){var t=h.ac();h.Zb(0,"ion-button",38),h.hc("click",(function(){return h.rc(t),h.jc().SetTopOrGood("\u7f6e\u9876")})),h.xc(1,"[\u7f6e\u9876]"),h.Yb()}if(2&i){var e=h.jc();h.oc("color",null!=e.Topic&&e.Topic.top?"primary":"danger")}}function E(i,n){if(1&i&&(h.Zb(0,"ion-select-option",39),h.xc(1),h.Yb()),2&i){var t=n.$implicit;h.oc("value",t),h.Mb(1),h.zc("\u7b2c",t+1,"\u9875")}}var H,V=((H=function(){function i(n,t,e,o,c,r,a){var u=this;_classCallCheck(this,i),this.loadingController=n,this.alertController=t,this.settings=e,this.forumservice=o,this.modalCtrl=c,this.route=r,this.router=a,this.pageindex=0,this.Pages=[0],this.Titel="Topic Titel",this.VTopic=[],this.route.params.subscribe((function(i){u.forumid=i.forumid,u.topicid=i.topicid}))}return _createClass(i,[{key:"ngOnInit",value:function(){var i;return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.settings.WaitInit();case 2:if(n.t0=this.forumservice.ForumMG.Forumlist,n.t0){n.next=6;break}return n.next=6,this.forumservice.LoadForumList();case 6:return this.forum=this.forumservice.ForumMG.Forumlist.find((function(i){return i.id===t.forumid})),this.Titel=(null===(i=this.forum)||void 0===i?void 0:i.name)||this.forumid,this.user=this.settings.User||f.a,this.GuaConfig=this.settings.Gua,this.BaziConfig=this.settings.Bazi,n.next=13,this.loadingController.create({message:"\u6b63\u5728\u83b7\u53d6\u8bba\u575b\u5e16\u5b50...",duration:6e4});case 13:return this.loadingView=n.sent,n.next=16,this.forumservice.GetTopic(this.forumid,this.topicid);case 16:this.Topic=n.sent,this.PageIndex=0;case 18:case"end":return n.stop()}}),n,this)})))}},{key:"LoadAnswors",value:function(i){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.forumservice.LoadAnswerList(this.topicid,this.forumid,i).then((function(i){i&&Array.isArray(i.data)&&(t.BuildPages(i.sum),t.VTopic=i.data,t.updateUserAvatar())})).catch((function(i){console.log("LoadAnswors Error",i)}));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"DateText",value:function(i){if(!i)return"\u65e0";var n=new Date(i);return n.toChinaStr()+" ".concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds())}},{key:"ShowMe",value:function(i,n){return"img"===n?i&&i.img&&i.showimg:"gua"===n?i&&i.gua&&i.showgua:"bazi"===n&&i&&i.bazi&&i.showbazi}},{key:"ChangeShowModel",value:function(i,n){if(i){var t=this.settings.ForumSetting;if("img"===n)t.imgOut?this.ShowPanfu({img:btoa(i.img)}):i.showimg=!i.showimg;else if("gua"===n)t.guaOut?this.ShowPanfu(i.gua):i.showgua=!i.showgua;else{if("bazi"!==n)return!1;t.baziOut?this.ShowPanfu(i.bazi):i.showbazi=!i.showbazi}}}},{key:"GetRoles",value:function(i){return i?this.settings.UserRolers(i):[]}},{key:"CheckAction",value:function(i,n){if(!i||!this.HasUser)return!1;var t=!1;return"modify"===n?t=(t=this.user.id===i.author||this.IsAdmin)&&!0!==i.frozen:"delete"===n?t=(t=this.user.id===i.author||this.IsAdmin)&&!0!==i.frozen:"frozen"===n?t=(t=this.user.id===i.author||this.IsAdmin)&&!0!==i.frozen:"anwser"===n&&(t=!0),t&&!(!0===i.deleted)}},{key:"ShowPanfu",value:function(i){this.router.navigate(["menu/topicpanfu/".concat(JSON.stringify(i))])}},{key:"EditTopic",value:function(i){var n;return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,o,c,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0!==i.forumid,(o=e?null===(n=this.forum)||void 0===n?void 0:n.name:this.Topic.title)||(o=i.forumid||this.forumid),t.next=5,this.modalCtrl.create({component:b.a,componentProps:{MainTopic:e?i:null,VTopic:e?null:i,forumid:this.forumid,forumname:o,Private:!this.forum}});case 5:return c=t.sent,t.next=8,c.present();case 8:return t.next=10,c.onWillDismiss();case 10:r=t.sent,a=r.data,console.log("new Topic return ",a);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"DeleteTopic",value:function(i,n){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.presentConfirm("\u5220\u9664",null,"\u786e\u5b9a\u5220\u9664\u6b64\u5e16\u5b50/\u53d1\u8a00\uff1f").then((function(t){return!0===t&&e.forumservice.DeleteTopic(i,n?null:e.Topic.id)})).then((function(i){i&&e.router.navigateByUrl(n?"menu/forum":"menu/topiclist/".concat(e.forumid))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"AnswerTopic",value:function(i){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.CreateTopic(i),n.next=3,this.modalCtrl.create({component:b.a,componentProps:{VTopic:t,forumid:this.forumid,forumname:this.Topic.title}});case 3:return e=n.sent,n.next=6,e.present();case 6:return n.next=8,e.onWillDismiss();case 8:case"end":return n.stop()}}),n,this)})))}},{key:"FrozenTopic",value:function(i){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=!i,i=i||this.Topic,this.presentConfirm("\u5c01\u5b58",null,"\u5c01\u5b58\u53d1\u8a00\u540e\uff0c\u4e0d\u5141\u8bb8\u518d\u4fee\u6539\u3001\u5220\u9664\u3002\u5168\u697c\u5c01\u5b58\u540e\u4e0d\u5141\u8bb8\u8ddf\u8d34\u3002\u786e\u5b9a\u5c01\u5b58\u5417\uff1f").then((function(n){if(!0===n)return e.forumservice.UpdateTopic({frozen:!0},i.id,!e.forum)})).then((function(n){n&&(i.frozen=!0,i.deleted=!!t||i.deleted)})).catch((function(i){e.presentConfirm("\u64cd\u4f5c\u5931\u8d25",null,"\u5c01\u697c/\u53d1\u8a00\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff0c \u6216\u8005\u5411\u7248\u4e3b\u62a5\u544a\u3002")}));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"SetTopOrGood",value:function(i){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t={},"\u7cbe\u534e"===i?t.good=!this.Topic.good:"\u7f6e\u9876"===i&&(t.top=(this.Topic.top+1)%2),this.forumservice.UpdateTopic(t,this.Topic.id,!this.forum).then((function(n){n&&("\u7cbe\u534e"===i?e.Topic.good=!e.Topic.good:"\u7f6e\u9876"===i&&(e.Topic.top=(e.Topic.top+1)%2))}));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"ShowUserInfo",value:function(i){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:l.a,componentProps:{Uerid:i}});case 2:return t=n.sent,n.next=5,t.present();case 5:return n.next=7,t.onWillDismiss();case 7:case"end":return n.stop()}}),n,this)})))}},{key:"CreateTopic",value:function(i){var n=Date.now();return{id:"",created:n,modified:n,author:this.user.id,topic:this.Topic.id,gua:null,bazi:null,img:null,content:"",feedback:i||"",frozen:!1}}},{key:"updateUserAvatar",value:function(){var i=this,n=this.settings.ForumSetting;this.VTopic.forEach((function(t){i.forumservice.GetUserInfo(t.author).then((function(e){var o=(e||f.a).avatar||"";t.avatar=o.IsNullOrEmpty()?i.settings.Avatar(e.gender):o,t.showimg=n.showimg&&!n.imgOut,t.showgua=n.showgua&&!n.guaOut,t.showbazi=n.showbazi&&!n.baziOut}))}))}},{key:"presentConfirm",value:function(i,n,t){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.next=3,this.alertController.create({header:i||"\u63d0\u793a",subHeader:n||"",message:t,buttons:[{text:"\u786e\u5b9a",handler:function(){o=!0}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:function(){}}]});case 3:return c=e.sent,e.next=6,c.present();case 6:return e.next=8,c.onWillDismiss();case 8:return e.abrupt("return",Promise.resolve(o));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"BuildPages",value:function(i){if(0===this.PageIndex)if(0!==i){this.Pages=[];for(var n=Math.ceil(i/20),t=0;t<n;t++)this.Pages.push(t)}else this.Pages=[0]}},{key:"HasUser",get:function(){return this.settings.HasUser&&this.user!==f.a}},{key:"PageIndex",get:function(){return this.pageindex},set:function(i){this.pageindex=i,this.LoadAnswors(i)}},{key:"IsAdmin",get:function(){if(!this.user||!this.forum)return!1;var i=256===this.user.roller;return this.forum&&this.Topic&&(i=i||this.forum.admin.includes(this.user.id)),i}}]),i}()).\u0275fac=function(i){return new(i||H)(h.Wb(r.bb),h.Wb(r.b),h.Wb(u.a),h.Wb(s.a),h.Wb(r.cb),h.Wb(c.a),h.Wb(c.g))},H.\u0275cmp=h.Qb({type:H,selectors:[["app-topicviewer"]],decls:46,vars:20,consts:[["color","primary"],["slot","start"],["defaulthref","","text","\u8fd4\u56de"],["slot","end"],["routerLink","/menu/forum"],["icon-only","","name","home"],["color","medium"],["ion-no-padding",""],["color","danger",4,"ngIf"],[3,"disabled","click"],["lines","full"],[2,"padding-bottom","3px"],[4,"ngIf"],["lines","none","class","ion-no-margin",4,"ngIf"],["lines","none",4,"ngIf"],["lines","none"],[1,"ion-text-wrap"],["ion-padding-vertical","","color","success",2,"margin-bottom","1px",3,"innerHtml"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"color","click",4,"ngIf"],["name","arrow-back"],["cancelText","\u53d6\u6d88","doneText","\u786e\u5b9a",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"small",3,"disabled","click"],["name","arrow-forward"],["color","danger"],[3,"src"],["color","primary",3,"click"],["lines","none",1,"ion-no-margin"],["slot","end",1,"ion-margin-end"],["color","secondary","class","ion-margin-end",3,"click",4,"ngIf"],["color","warning","class","ion-margin-end",3,"click",4,"ngIf"],["color","secondary",1,"ion-margin-end",3,"click"],["color","warning",1,"ion-margin-end",3,"click"],[3,"Config","GuaText"],[3,"Config","BaziText"],[3,"click"],[3,"color","click"],[3,"value"]],template:function(i,n){1&i&&(h.Zb(0,"ion-header"),h.Zb(1,"ion-toolbar",0),h.Zb(2,"ion-buttons",1),h.Xb(3,"ion-back-button",2),h.Yb(),h.Zb(4,"ion-title"),h.xc(5),h.Yb(),h.Zb(6,"ion-buttons",3),h.Zb(7,"ion-button",4),h.Xb(8,"ion-icon",5),h.Yb(),h.Yb(),h.Yb(),h.Yb(),h.Xb(9,"ion-text",6),h.Zb(10,"ion-item-divider",7),h.Zb(11,"ion-label",1),h.Zb(12,"ion-text"),h.xc(13),h.Yb(),h.wc(14,p,2,0,"ion-text",8),h.wc(15,d,2,0,"ion-text",8),h.Yb(),h.Zb(16,"ion-buttons",3),h.Zb(17,"ion-button",9),h.hc("click",(function(){return n.FrozenTopic(null)})),h.xc(18,"\u5c01\u697c"),h.Yb(),h.Yb(),h.Yb(),h.Zb(19,"ion-content"),h.Zb(20,"ion-item",10),h.Zb(21,"div",11),h.wc(22,v,15,4,"ion-item",12),h.wc(23,I,12,7,"ion-item",13),h.wc(24,C,2,1,"ion-item",12),h.wc(25,z,2,2,"ion-item",14),h.wc(26,j,2,2,"ion-item",14),h.Zb(27,"ion-item",15),h.Zb(28,"ion-label",16),h.Xb(29,"ion-text",17),h.Yb(),h.Yb(),h.Yb(),h.Yb(),h.wc(30,U,34,16,"ion-item",18),h.Yb(),h.Zb(31,"ion-footer"),h.Zb(32,"small"),h.Zb(33,"ion-toolbar"),h.Zb(34,"ion-buttons",1),h.wc(35,W,2,0,"ion-button",19),h.wc(36,$,2,0,"ion-button",19),h.wc(37,B,2,1,"ion-button",20),h.wc(38,L,2,1,"ion-button",20),h.Yb(),h.Zb(39,"ion-buttons",3),h.Zb(40,"ion-button",9),h.hc("click",(function(){return n.PageIndex=n.PageIndex-1})),h.Xb(41,"ion-icon",21),h.Yb(),h.Zb(42,"ion-select",22),h.hc("ngModelChange",(function(i){return n.PageIndex=i})),h.wc(43,E,2,2,"ion-select-option",23),h.Yb(),h.Zb(44,"ion-button",24),h.hc("click",(function(){return n.PageIndex=n.PageIndex+1})),h.Xb(45,"ion-icon",25),h.Yb(),h.Yb(),h.Yb(),h.Yb(),h.Yb()),2&i&&(h.Mb(5),h.yc(n.Titel),h.Mb(8),h.zc("\u9898\u76ee\uff1a",null==n.Topic?null:n.Topic.title,""),h.Mb(1),h.oc("ngIf",null==n.Topic?null:n.Topic.good),h.Mb(1),h.oc("ngIf",null==n.Topic?null:n.Topic.top),h.Mb(2),h.oc("disabled",!n.CheckAction(n.Topic,"frozen")),h.Mb(5),h.oc("ngIf",n.Topic),h.Mb(1),h.oc("ngIf",n.Topic),h.Mb(1),h.oc("ngIf",n.ShowMe(n.Topic,"img")),h.Mb(1),h.oc("ngIf",n.ShowMe(n.Topic,"gua")),h.Mb(1),h.oc("ngIf",n.ShowMe(n.Topic,"bazi")),h.Mb(3),h.oc("innerHtml",null==n.Topic?null:n.Topic.content,h.sc),h.Mb(1),h.oc("ngForOf",n.VTopic),h.Mb(5),h.oc("ngIf",null==n.Topic?null:n.Topic.gua),h.Mb(1),h.oc("ngIf",null==n.Topic?null:n.Topic.bazi),h.Mb(1),h.oc("ngIf",n.IsAdmin),h.Mb(1),h.oc("ngIf",n.IsAdmin),h.Mb(2),h.oc("disabled",0===n.PageIndex),h.Mb(2),h.oc("ngModel",n.PageIndex),h.Mb(1),h.oc("ngForOf",n.Pages),h.Mb(1),h.oc("disabled",n.PageIndex===n.Pages.length-1))},directives:[r.s,r.Y,r.k,r.g,r.h,r.W,r.j,r.gb,c.h,r.t,r.T,r.x,r.C,e.j,r.o,r.w,e.i,r.q,r.P,r.hb,o.c,o.d,r.V,r.I,r.u,m.a,g.a,r.Q],styles:[""]}),H),_=t("CGrG"),J=t("zioG"),N=t("uEAi"),Q=t("n7QD");t.d(n,"TopicviewerPageModule",(function(){return ii}));var K,q=[{path:"",component:V}],ii=((K=function i(){_classCallCheck(this,i)}).\u0275mod=h.Ub({type:K}),K.\u0275inj=h.Tb({factory:function(i){return new(i||K)},imports:[[N.a,Q.a,J.b,e.b,o.a,r.Z,_.b,c.i.forChild(q)]]}),K)}}]);