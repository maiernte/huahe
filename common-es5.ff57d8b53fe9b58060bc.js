function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var c=n[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function asyncGeneratorStep(e,n,t,c,i,o,r){try{var a=e[o](r),s=a.value}catch(u){return void t(u)}a.done?n(s):Promise.resolve(s).then(c,i)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(c,i){var o=e.apply(n,t);function r(e){asyncGeneratorStep(o,c,i,r,a,"next",e)}function a(e){asyncGeneratorStep(o,c,i,r,a,"throw",e)}r(void 0)}))}}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+veT":function(e,n,t){"use strict";t.d(n,"a",(function(){return y})),t.d(n,"b",(function(){return C})),t.d(n,"c",(function(){return p})),t.d(n,"d",(function(){return S})),t.d(n,"e",(function(){return o}));var c=t("dSyh"),i=t("kBU6"),o=function(e){return new Promise((function(n,t){Object(c.m)((function(){r(e),a(e).then((function(t){t.animation&&t.animation.destroy(),s(e),n(t)}),(function(n){s(e),t(n)}))}))}))},r=function(e){var n=e.enteringEl,t=e.leavingEl;k(n,t,e.direction),e.showGoBack?n.classList.add("can-go-back"):n.classList.remove("can-go-back"),S(n,!1),t&&S(t,!1)},a=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(n);case 2:return t=e.sent,e.abrupt("return",t?l(t,n):d(n));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(e){var n=e.leavingEl;e.enteringEl.classList.remove("ion-page-invisible"),void 0!==n&&n.classList.remove("ion-page-invisible")},u=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.leavingEl||!n.animated||0===n.duration){e.next=16;break}if(!n.animationBuilder){e.next=5;break}e.t0=n.animationBuilder,e.next=15;break;case 5:if("ios"!==n.mode){e.next=11;break}return e.next=8,t.e(117).then(t.bind(null,"Lu00"));case 8:e.t1=e.sent.iosTransitionAnimation,e.next=14;break;case 11:return e.next=13,t.e(118).then(t.bind(null,"wxTh"));case 13:e.t1=e.sent.mdTransitionAnimation;case 14:e.t0=e.t1;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n,c){var i,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(c,!0);case 2:return e.prev=2,e.next=5,t.e(14).then(t.bind(null,"gHMO"));case 5:return o=e.sent,e.next=8,o.create(n,c.baseEl,c);case 8:i=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),i=n(c.baseEl,c);case 14:return v(c.enteringEl,c.leavingEl),e.next=17,g(i,c);case 17:return r=e.sent,e.abrupt("return",(c.progressCallback&&c.progressCallback(void 0),r&&b(c.enteringEl,c.leavingEl),{hasCompleted:r,animation:i}));case 19:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n,t){return e.apply(this,arguments)}}(),d=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var t,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.enteringEl,c=n.leavingEl,e.next=3,f(n,!1);case 3:return v(t,c),b(t,c),e.abrupt("return",{hasCompleted:!0});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n,t){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(void 0!==n.deepWait?n.deepWait:t)?[y(n.enteringEl),y(n.leavingEl)]:[m(n.enteringEl),m(n.leavingEl)],e.next=3,Promise.all(c);case 3:return e.next=5,h(n.viewIsReady,n.enteringEl);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,!e.t0){e.next=4;break}return e.next=4,n(t);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(e,n){var t=n.progressCallback,c=new Promise((function(n){e.onFinish((function(t){"number"==typeof t?n(1===t):void 0!==e.hasCompleted&&n(e.hasCompleted)}))}));return t?(e.progressStart(!0),t(e)):e.play(),c},v=function(e,n){p(n,i.c),p(e,i.a)},b=function(e,n){p(e,i.b),p(n,i.d)},p=function(e,n){if(e){var t=new CustomEvent(n,{bubbles:!1,cancelable:!1});e.dispatchEvent(t)}},m=function(e){return e&&e.componentOnReady?e.componentOnReady():Promise.resolve()},y=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n)){e.next=12;break}if(e.t0=null!=t.componentOnReady,!e.t0){e.next=8;break}return e.next=6,t.componentOnReady();case 6:e.t1=e.sent,e.t0=null!=e.t1;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Promise.all(Array.from(t.children).map(y));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(e,n){n?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},k=function(e,n,t){void 0!==e&&(e.style.zIndex="back"===t?"99":"101"),void 0!==n&&(n.style.zIndex="100")},C=function(e){return e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e}},"9UMr":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var c=t("ofXK"),i=t("3Pt+"),o=t("c7TG"),r=(t("SRjL"),t("fXoL")),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(n){return new(n||e)},imports:[[c.b,i.c,o.X]]}),e}()},B8lH:function(e,n,t){"use strict";var c=t("c7TG"),i=(t("0eVs"),t("LTmD")),o=t("fXoL"),r=t("ofXK"),a=t("3Pt+");function s(e,n){if(1&e){var t=o.ec();o.dc(0,"ion-item"),o.dc(1,"ion-label"),o.Jc(2,"\u6b64\u8bbe\u7f6e\u5e94\u7528\u5230\u5168\u5c40"),o.cc(),o.dc(3,"ion-checkbox",10),o.lc("ngModelChange",(function(e){return o.Cc(t),o.oc().Global=e})),o.cc(),o.cc()}if(2&e){var c=o.oc();o.Nb(3),o.vc("ngModel",c.Global)}}var u,l=((u=function(){function e(n){_classCallCheck(this,e),this.settingService=n,this.OnlyGlobal=!1,this.ShowCommon=!0,this.ShowYuanju=!0,this.ShowShiyun=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.Settings=Object(i.b)(this.settingService.Bazi)}},{key:"GetChange",value:function(){return this.Global&&(this.settingService.Bazi=Object(i.b)(this.Settings)),this.Settings}}]),e}()).\u0275fac=function(e){return new(e||u)(o.Yb(i.a))},u.\u0275cmp=o.Sb({type:u,selectors:[["app-bazisettings"]],inputs:{Global:"Global",OnlyGlobal:"OnlyGlobal"},decls:52,vars:16,consts:[[4,"ngIf"],["color","light"],["size","small","fill","clear","slot","end",3,"click"],[3,"name"],[3,"hidden"],["min","10","max","20","color","secondary","slot","end",3,"ngModel","ngModelChange"],["slot","start"],["slot","end"],["min","3","max","8","color","secondary","slot","end",3,"ngModel","ngModelChange"],[2,"margin-right","10px",3,"hidden"],[3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(o.Hc(0,s,4,1,"ion-item",0),o.dc(1,"ion-item",1),o.dc(2,"ion-label"),o.Jc(3,"\u901a\u7528\u8bbe\u7f6e"),o.cc(),o.dc(4,"ion-button",2),o.lc("click",(function(){return n.ShowCommon=!n.ShowCommon})),o.Zb(5,"ion-icon",3),o.cc(),o.cc(),o.dc(6,"ion-list",4),o.dc(7,"ion-item"),o.dc(8,"ion-label"),o.Jc(9,"\u5b57\u4f53\u5927\u5c0f"),o.cc(),o.dc(10,"ion-text"),o.Jc(11),o.cc(),o.dc(12,"ion-range",5),o.lc("ngModelChange",(function(e){return n.Settings.fontsize=e})),o.dc(13,"ion-label",6),o.Jc(14,"10"),o.cc(),o.dc(15,"ion-label",7),o.Jc(16,"20"),o.cc(),o.cc(),o.cc(),o.dc(17,"ion-item"),o.dc(18,"ion-label"),o.Jc(19,"\u795e\u715e\u5217\u6570"),o.cc(),o.dc(20,"ion-text"),o.Jc(21),o.cc(),o.dc(22,"ion-range",8),o.lc("ngModelChange",(function(e){return n.Settings.shensha=e})),o.dc(23,"ion-label",6),o.Jc(24,"3"),o.cc(),o.dc(25,"ion-label",7),o.Jc(26,"8"),o.cc(),o.cc(),o.cc(),o.dc(27,"ion-item"),o.dc(28,"ion-label"),o.dc(29,"ion-text",9),o.Jc(30,"\u7b80\u6392"),o.cc(),o.dc(31,"ion-text",9),o.Jc(32,"\u5168\u6392"),o.cc(),o.cc(),o.dc(33,"ion-toggle",10),o.lc("ngModelChange",(function(e){return n.Settings.shortname=e})),o.cc(),o.cc(),o.dc(34,"ion-item"),o.dc(35,"ion-label"),o.dc(36,"ion-text",9),o.Jc(37,"\u6c34\u571f\u5171\u957f\u751f"),o.cc(),o.dc(38,"ion-text",9),o.Jc(39,"\u706b\u571f\u5171\u957f\u751f"),o.cc(),o.dc(40,"ion-text"),o.Jc(41,"(\u5168\u5c40\u8bbe\u5b9a)"),o.cc(),o.cc(),o.dc(42,"ion-toggle",10),o.lc("ngModelChange",(function(e){return n.Settings.shuitu=e})),o.cc(),o.cc(),o.dc(43,"ion-item"),o.dc(44,"ion-label"),o.dc(45,"ion-text",9),o.Jc(46,"\u534e\u9e64\u5341\u795e"),o.cc(),o.dc(47,"ion-text",9),o.Jc(48,"\u4f20\u7edf\u5341\u795e"),o.cc(),o.dc(49,"ion-text"),o.Jc(50,"(\u5168\u5c40\u8bbe\u5b9a)"),o.cc(),o.cc(),o.dc(51,"ion-toggle",10),o.lc("ngModelChange",(function(e){return n.Settings.huahecai=e})),o.cc(),o.cc(),o.cc()),2&e&&(o.vc("ngIf",!n.OnlyGlobal),o.Nb(5),o.vc("name",n.ShowCommon?"arrow-dropdown":"arrow-dropleft"),o.Nb(1),o.vc("hidden",!n.ShowCommon),o.Nb(5),o.Kc(n.Settings.fontsize),o.Nb(1),o.vc("ngModel",n.Settings.fontsize),o.Nb(9),o.Kc(n.Settings.shensha),o.Nb(1),o.vc("ngModel",n.Settings.shensha),o.Nb(7),o.vc("hidden",!n.Settings.shortname),o.Nb(2),o.vc("hidden",n.Settings.shortname),o.Nb(2),o.vc("ngModel",n.Settings.shortname),o.Nb(3),o.vc("hidden",!n.Settings.shuitu),o.Nb(2),o.vc("hidden",n.Settings.shuitu),o.Nb(4),o.vc("ngModel",n.Settings.shuitu),o.Nb(3),o.vc("hidden",!n.Settings.huahecai),o.Nb(2),o.vc("hidden",n.Settings.huahecai),o.Nb(4),o.vc("ngModel",n.Settings.huahecai))},directives:[r.j,c.w,c.C,c.h,c.t,c.D,c.S,c.H,c.fb,a.f,a.g,c.V,c.c,c.j],styles:[".alignleft[_ngcontent-%COMP%]{float:left;margin-left:10px}.alignright[_ngcontent-%COMP%]{float:right;margin-right:10px}"]}),u);function d(e,n){if(1&e){var t=o.ec();o.dc(0,"ion-item"),o.dc(1,"ion-label"),o.Jc(2,"\u6b64\u8bbe\u7f6e\u5e94\u7528\u5230\u5168\u5c40"),o.cc(),o.dc(3,"ion-checkbox",6),o.lc("ngModelChange",(function(e){return o.Cc(t),o.oc().Global=e})),o.cc(),o.cc()}if(2&e){var c=o.oc();o.Nb(3),o.vc("ngModel",c.Global)}}var f,h=((f=function(){function e(n){_classCallCheck(this,e),this.settingService=n,this.OnlyGlobal=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.Settings=Object(i.b)(this.settingService.Gua)}},{key:"GetChange",value:function(){return this.Global&&(this.settingService.Gua=Object(i.b)(this.Settings)),this.Settings}},{key:"OriginSymbol",get:function(){return 1!==this.Settings.symbol},set:function(e){this.Settings.symbol=e?0:1}}]),e}()).\u0275fac=function(e){return new(e||f)(o.Yb(i.a))},f.\u0275cmp=o.Sb({type:f,selectors:[["app-guasettings"]],inputs:{Global:"Global",OnlyGlobal:"OnlyGlobal"},decls:36,vars:11,consts:[[4,"ngIf"],["min","10","max","20","color","secondary","slot","end",3,"ngModel","ngModelChange"],["slot","start"],["slot","end"],["min","3","max","8","color","secondary","slot","end",3,"ngModel","ngModelChange"],[2,"margin-right","10px",3,"hidden"],[3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(o.dc(0,"ion-list"),o.Hc(1,d,4,1,"ion-item",0),o.dc(2,"ion-item"),o.dc(3,"ion-label"),o.Jc(4,"\u5b57\u4f53\u5927\u5c0f"),o.cc(),o.dc(5,"ion-text"),o.Jc(6),o.cc(),o.dc(7,"ion-range",1),o.lc("ngModelChange",(function(e){return n.Settings.fontsize=e})),o.dc(8,"ion-label",2),o.Jc(9,"10"),o.cc(),o.dc(10,"ion-label",3),o.Jc(11,"20"),o.cc(),o.cc(),o.cc(),o.dc(12,"ion-item"),o.dc(13,"ion-label"),o.Jc(14,"\u795e\u715e\u5217\u6570"),o.cc(),o.dc(15,"ion-text"),o.Jc(16),o.cc(),o.dc(17,"ion-range",4),o.lc("ngModelChange",(function(e){return n.Settings.shensha=e})),o.dc(18,"ion-label",2),o.Jc(19,"3"),o.cc(),o.dc(20,"ion-label",3),o.Jc(21,"8"),o.cc(),o.cc(),o.cc(),o.dc(22,"ion-item"),o.dc(23,"ion-label"),o.dc(24,"ion-text",5),o.Jc(25,"\u7b26\u53f7\uff1a \u25fc\ufe0e\u25fb\ufe0e\u25fc\ufe0e\u3001\u25fc\ufe0e\u25fc\ufe0e\u25fc\ufe0e"),o.cc(),o.dc(26,"ion-text",5),o.Jc(27,"\u7b26\u53f7\uff1a=\u3001-"),o.cc(),o.cc(),o.dc(28,"ion-toggle",6),o.lc("ngModelChange",(function(e){return n.OriginSymbol=e})),o.cc(),o.cc(),o.dc(29,"ion-item"),o.dc(30,"ion-label"),o.dc(31,"ion-text",5),o.Jc(32,"\u7b80\u6392"),o.cc(),o.dc(33,"ion-text",5),o.Jc(34,"\u5168\u6392"),o.cc(),o.cc(),o.dc(35,"ion-toggle",6),o.lc("ngModelChange",(function(e){return n.Settings.shortname=e})),o.cc(),o.cc(),o.cc()),2&e&&(o.Nb(1),o.vc("ngIf",!n.OnlyGlobal),o.Nb(5),o.Kc(n.Settings.fontsize),o.Nb(1),o.vc("ngModel",n.Settings.fontsize),o.Nb(9),o.Kc(n.Settings.shensha),o.Nb(1),o.vc("ngModel",n.Settings.shensha),o.Nb(7),o.vc("hidden",!n.OriginSymbol),o.Nb(2),o.vc("hidden",n.OriginSymbol),o.Nb(2),o.vc("ngModel",n.OriginSymbol),o.Nb(3),o.vc("hidden",!n.Settings.shortname),o.Nb(2),o.vc("hidden",n.Settings.shortname),o.Nb(2),o.vc("ngModel",n.Settings.shortname))},directives:[c.D,r.j,c.w,c.C,c.S,c.H,c.fb,a.f,a.g,c.V,c.c,c.j],styles:[""]}),f);function g(e,n){if(1&e&&o.Zb(0,"app-bazisettings",8),2&e){var t=o.oc();o.vc("Global",t.Global)("OnlyGlobal",t.OnlyGlobal)}}function v(e,n){if(1&e&&o.Zb(0,"app-guasettings",8),2&e){var t=o.oc();o.vc("Global",t.Global)("OnlyGlobal",t.OnlyGlobal)}}t.d(n,"a",(function(){return p}));var b,p=((b=function(){function e(n,t){_classCallCheck(this,e),this.modalCtrl=n,this.setting=t,this.OnlyGlobal=!1}return _createClass(e,[{key:"ngOnInit",value:function(){switch(this.settingComponent){case"bazi":this.Titel="\u516b\u5b57\u547d\u76d8\u8bbe\u7f6e";break;case"gua":this.Titel="\u516d\u723b\u5366\u76d8\u8bbe\u7f6e"}}},{key:"ngAfterViewInit",value:function(){}},{key:"onSave",value:function(){var e=(this.baziSettingView||this.guaSettingView).GetChange();this.close(e)}},{key:"onCancel",value:function(){this.close(null)}},{key:"close",value:function(e){this.modalCtrl.dismiss({result:e=e||{}})}},{key:"SettingComponent",set:function(e){this.settingComponent=e},get:function(){return this.settingComponent}}]),e}()).\u0275fac=function(e){return new(e||b)(o.Yb(c.ab),o.Yb(i.a))},b.\u0275cmp=o.Sb({type:b,selectors:[["app-settingdialog"]],viewQuery:function(e,n){var t;1&e&&(o.Oc(l,!0),o.Oc(h,!0)),2&e&&(o.yc(t=o.mc())&&(n.baziSettingView=t.first),o.yc(t=o.mc())&&(n.guaSettingView=t.first))},inputs:{Config:"Config",SettingComponent:"SettingComponent"},decls:17,vars:3,consts:[["color","secondary"],["slot","start"],[3,"click"],["name","close-circle"],["slot","end"],["name","save"],["scrollY","true"],[3,"Global","OnlyGlobal",4,"ngIf"],[3,"Global","OnlyGlobal"]],template:function(e,n){1&e&&(o.dc(0,"ion-header"),o.dc(1,"ion-toolbar",0),o.dc(2,"ion-buttons",1),o.dc(3,"ion-button",2),o.lc("click",(function(){return n.onCancel()})),o.Zb(4,"ion-icon",3),o.dc(5,"ion-text"),o.Jc(6,"\u53d6\u6d88"),o.cc(),o.cc(),o.cc(),o.dc(7,"ion-title"),o.Jc(8),o.cc(),o.dc(9,"ion-buttons",4),o.dc(10,"ion-button",2),o.lc("click",(function(){return n.onSave()})),o.Zb(11,"ion-icon",5),o.dc(12,"ion-text"),o.Jc(13,"\u786e\u5b9a"),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(14,"ion-content",6),o.Hc(15,g,1,2,"app-bazisettings",7),o.Hc(16,v,1,2,"app-guasettings",7),o.cc()),2&e&&(o.Nb(8),o.Kc(n.Titel),o.Nb(7),o.vc("ngIf","bazi"==n.SettingComponent),o.Nb(1),o.vc("ngIf","gua"==n.SettingComponent))},directives:[c.s,c.W,c.i,c.h,c.t,c.S,c.U,c.m,r.j,l,h],styles:[""]}),b)},Dl6n:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return c})),t.d(n,"d",(function(){return a}));var c=function(e,n){return null!==n.closest(e)},i=function(e){return"string"==typeof e&&e.length>0?_defineProperty({"ion-color":!0},"ion-color-".concat(e),!0):void 0},o=function(e){var n={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter((function(e){return null!=e})).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}(e).forEach((function(e){return n[e]=!0})),n},r=/^[a-z][a-z0-9+\-.]*:/,a=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n,t,c){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n||"#"===n[0]||r.test(n)){e.next=4;break}if(!(i=document.querySelector("ion-router"))){e.next=4;break}return e.abrupt("return",(null!=t&&t.preventDefault(),i.push(n,c)));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(n,t,c){return e.apply(this,arguments)}}()},Gfuc:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var c=t("ofXK"),i=t("3Pt+"),o=t("c7TG"),r=(t("LvB5"),t("fXoL")),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(n){return new(n||e)},imports:[[c.b,i.c,o.X]]}),e}()},KPWP:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var c=t("ofXK"),i=t("3Pt+"),o=t("c7TG"),r=(t("B8lH"),t("fXoL")),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(n){return new(n||e)},imports:[[c.b,i.c,o.X]]}),e}()},YtD4:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var c=function(e){try{if("string"!=typeof e||""===e)return e;var n=document.createDocumentFragment(),t=document.createElement("div");n.appendChild(t),t.innerHTML=e,a.forEach((function(e){for(var t=n.querySelectorAll(e),c=t.length-1;c>=0;c--){var r=t[c];r.parentNode?r.parentNode.removeChild(r):n.removeChild(r);for(var a=o(r),s=0;s<a.length;s++)i(a[s])}}));for(var c=o(n),r=0;r<c.length;r++)i(c[r]);var s=document.createElement("div");s.appendChild(n);var u=s.querySelector("div");return null!==u?u.innerHTML:s.innerHTML}catch(l){return console.error(l),""}},i=function e(n){if(!n.nodeType||1===n.nodeType){for(var t=n.attributes.length-1;t>=0;t--){var c=n.attributes.item(t),i=c.name;if(r.includes(i.toLowerCase())){var a=c.value;null!=a&&a.toLowerCase().includes("javascript:")&&n.removeAttribute(i)}else n.removeAttribute(i)}for(var s=o(n),u=0;u<s.length;u++)e(s[u])}},o=function(e){return null!=e.children?e.children:e.childNodes},r=["class","id","href","src","name","slot"],a=["script","style","iframe","meta","link","object","embed"]},m9yc:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return i}));var c=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n,t,c,i,o){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n.attachViewToDom(t,c,o,i));case 2:if("string"==typeof c||c instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:if(r="string"==typeof c?t.ownerDocument&&t.ownerDocument.createElement(c):c,i&&i.forEach((function(e){return r.classList.add(e)})),o&&Object.assign(r,o),t.appendChild(r),e.t0=r.componentOnReady,!e.t0){e.next=12;break}return e.next=12,r.componentOnReady();case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(n,t,c,i,o){return e.apply(this,arguments)}}(),i=function(e,n){if(n){if(e)return e.removeViewFromDom(n.parentElement,n);n.remove()}return Promise.resolve()}},mo90:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var c=t("HULg"),i=t("xPBH"),o=t("c7TG"),r=t("fXoL"),a=t("ofXK"),s=t("vBXD");function u(e,n){if(1&e&&(r.dc(0,"ion-item"),r.dc(1,"ion-text"),r.Jc(2,"\u539f\u76ee\u5f55\uff1a"),r.cc(),r.dc(3,"ion-text",5),r.Jc(4),r.cc(),r.cc()),2&e){var t=r.oc();r.Nb(4),r.Kc(t.From)}}var l=function(){var e=function(){function e(n,t){_classCallCheck(this,e),this.dbservice=n,this.modalCtrl=t,this.NodeID="",this.SelectDocument=!1,this.SelectedNode=null,this.To="\u6839\u76ee\u5f55",this.From=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dbservice.getNodes().then((function(n){e.Nodes=e.buildNodeTree(n,null),e.From=e.NodeID?i.a.getNodePath(null,e.NodeID,e.Nodes).join("/"):""}))}},{key:"onclose",value:function(e){var n,t={};e&&(t={nodeid:(null===(n=this.SelectedNode)||void 0===n?void 0:n.ID)||"root"}),this.modalCtrl.dismiss(t)}},{key:"onNodeSelecte",value:function(e){this.SelectDocument&&!e.IsFile||!this.SelectDocument&&e.IsFile||e.ID!==this.NodeID&&(e.Sub.select((function(e){return e.ID})).includes(this.NodeID)||(this.SelectedNode&&(this.SelectedNode.IsSelected=!1),e!==this.SelectedNode&&e&&(this.SelectedNode=e,this.SelectedNode.IsSelected=!0,this.To=i.a.getNodePath(null,this.SelectedNode.ID,this.Nodes).join("/"))))}},{key:"restore",value:function(){this.To="\u6839\u76ee\u5f55",this.SelectedNode&&(this.SelectedNode.IsSelected=!1,this.SelectedNode=null)}},{key:"buildNodeTree",value:function(e,n){var t=this,c=[];return(n||"").IsNullOrEmpty(),n=null!=n?n:"",(c=e.where((function(e){return(e.parent||"")===n})).sortByKey("created").select((function(e){var n=new i.a(e.type,e.name,e.id);return n.ID=e.id||null,n.ShowButton=!1,n}))).forEach((function(n){n.Sub=t.buildNodeTree(e,n.ID)})),c}}]),e}();return e.\u0275fac=function(n){return new(n||e)(r.Yb(c.a),r.Yb(o.ab))},e.\u0275cmp=r.Sb({type:e,selectors:[["app-picknode"]],inputs:{Titel:"Titel",NodeID:"NodeID",SelectDocument:"SelectDocument"},decls:21,vars:4,consts:[["color","secondary"],["slot","start"],[3,"click"],["slot","end"],[4,"ngIf"],["color","medium"],["slot","end",3,"click"],["name","md-backspace"],[3,"nodes","nodeSelected"]],template:function(e,n){1&e&&(r.dc(0,"ion-header"),r.dc(1,"ion-toolbar",0),r.dc(2,"ion-buttons",1),r.dc(3,"ion-button",2),r.lc("click",(function(){return n.onclose(!1)})),r.Jc(4," \u53d6\u6d88 "),r.cc(),r.cc(),r.dc(5,"ion-title"),r.Jc(6),r.cc(),r.dc(7,"ion-buttons",3),r.dc(8,"ion-button",2),r.lc("click",(function(){return n.onclose(!0)})),r.Jc(9," \u786e\u5b9a "),r.cc(),r.cc(),r.cc(),r.cc(),r.dc(10,"ion-content"),r.dc(11,"ion-list"),r.Hc(12,u,5,1,"ion-item",4),r.dc(13,"ion-item"),r.dc(14,"ion-text"),r.Jc(15,"\u76ee\u6807\u76ee\u5f55\uff1a"),r.cc(),r.dc(16,"ion-text",5),r.Jc(17),r.cc(),r.dc(18,"ion-button",6),r.lc("click",(function(){return n.restore()})),r.Zb(19,"ion-icon",7),r.cc(),r.cc(),r.dc(20,"app-tree-node",8),r.lc("nodeSelected",(function(e){return n.onNodeSelecte(e)})),r.cc(),r.cc(),r.cc()),2&e&&(r.Nb(6),r.Kc(n.Titel),r.Nb(6),r.vc("ngIf",""!==n.From),r.Nb(5),r.Kc(n.To),r.Nb(3),r.vc("nodes",n.Nodes))},directives:[o.s,o.W,o.i,o.h,o.U,o.m,o.D,a.j,o.w,o.S,o.t,s.a],styles:[""]}),e}()},"nN+u":function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return c}));var c=function(e,n,t){var c=new MutationObserver((function(e){t(i(e,n))}));return c.observe(e,{childList:!0,subtree:!0}),c},i=function(e,n){var t;return e.forEach((function(e){for(var c=0;c<e.addedNodes.length;c++)t=o(e.addedNodes[c],n)||t})),t},o=function(e,n){if(1===e.nodeType)return(e.tagName===n.toUpperCase()?[e]:Array.from(e.querySelectorAll(n))).find((function(e){return!0===e.checked}))}},opz7:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return c}));var c=function(){var e=window.TapticEngine;e&&e.selection()},i=function(){var e=window.TapticEngine;e&&e.gestureSelectionStart()},o=function(){var e=window.TapticEngine;e&&e.gestureSelectionChanged()},r=function(){var e=window.TapticEngine;e&&e.gestureSelectionEnd()}},qaSm:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return i}));var c=function e(n,t){_classCallCheck(this,e),this.x=n,this.y=t},i=function(e,n,t,c,i){var a=r(e.y,n.y,t.y,c.y,i);return o(e.x,n.x,t.x,c.x,a[0])},o=function(e,n,t,c,i){return i*(3*n*Math.pow(i-1,2)+i*(-3*t*i+3*t+c*i))-e*Math.pow(i-1,3)},r=function(e,n,t,c,i){return a((c-=i)-3*(t-=i)+3*(n-=i)-(e-=i),3*t-6*n+3*e,3*n-3*e,e).filter((function(e){return e>=0&&e<=1}))},a=function(e,n,t,c){if(0===e)return function(e,n,t){var c=n*n-4*e*t;return c<0?[]:[(-n+Math.sqrt(c))/(2*e),(-n-Math.sqrt(c))/(2*e)]}(n,t,c);var i=(3*(t/=e)-(n/=e)*n)/3,o=(2*n*n*n-9*n*t+27*(c/=e))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];var r=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===r)return[Math.pow(o/2,.5)-n/3];if(r>0)return[Math.pow(-o/2+Math.sqrt(r),1/3)-Math.pow(o/2+Math.sqrt(r),1/3)-n/3];var a=Math.sqrt(Math.pow(-i/3,3)),s=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),u=2*Math.pow(a,1/3);return[u*Math.cos(s/3)-n/3,u*Math.cos((s+2*Math.PI)/3)-n/3,u*Math.cos((s+4*Math.PI)/3)-n/3]}},vBXD:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var c=t("mrSG"),i=t("fXoL"),o=(t("xPBH"),t("ofXK")),r=t("c7TG");function a(e,n){if(1&e){var t=i.ec();i.dc(0,"ion-icon",9),i.lc("click",(function(){i.Cc(t);var e=i.oc().$implicit;return e.IsExpanded=!e.IsExpanded})),i.cc()}if(2&e){var c=i.oc().$implicit;i.vc("color",c.IsExpanded?"primary":"dark")("name",c.IsExpanded?"arrow-dropup":"arrow-dropdown")}}function s(e,n){if(1&e){var t=i.ec();i.dc(0,"ion-icon",10),i.lc("click",(function(){i.Cc(t);var e=i.oc().$implicit;return e.IsExpanded=!e.IsExpanded})),i.cc()}if(2&e){var c=i.oc().$implicit;i.vc("name",c.Icon)}}function u(e,n){if(1&e){var t=i.ec();i.dc(0,"app-tree-node",11),i.lc("nodeOpen",(function(e){return i.Cc(t),i.oc(2).onSubNodeOpen(e)}))("nodeSelected",(function(e){return i.Cc(t),i.oc(2).onSubNodeSelecte(e)}))("nodeAdd",(function(e){return i.Cc(t),i.oc(2).onSubNodeAdd(e)})),i.cc()}if(2&e){var c=i.oc().$implicit;i.vc("nodes",c.Sub)("hidden",!c.IsExpanded)}}var l=function(e){return{active:e}};function d(e,n){if(1&e){var t=i.ec();i.dc(0,"div",1),i.dc(1,"ion-item",2),i.lc("click",(function(){i.Cc(t);var e=n.$implicit;return i.oc().clickNode(e)})),i.dc(2,"ion-label"),i.Hc(3,a,1,2,"ion-icon",3),i.Hc(4,s,1,1,"ion-icon",4),i.dc(5,"ion-text",5),i.lc("click",(function(){var e=n.$implicit;return e.IsExpanded=!e.IsExpanded})),i.Jc(6),i.cc(),i.cc(),i.dc(7,"ion-buttons"),i.dc(8,"ion-button",6),i.lc("click",(function(){i.Cc(t);var e=n.$implicit;return i.oc().OpenBook(e)})),i.dc(9,"ion-text"),i.Jc(10,"\u6253\u5f00"),i.cc(),i.Zb(11,"ion-icon",7),i.cc(),i.cc(),i.cc(),i.Hc(12,u,1,2,"app-tree-node",8),i.cc()}if(2&e){var c=n.$implicit;i.Nb(1),i.vc("ngClass",i.xc(8,l,c.IsExpanded))("color",c.ColorB),i.Nb(2),i.vc("ngIf",!c.IsFile&&c.Sub.length>0),i.Nb(1),i.vc("ngIf",c.Icon),i.Nb(1),i.vc("color",c.Color),i.Nb(1),i.Lc(" ",c.Title," "),i.Nb(2),i.vc("hidden",!c.IsSelected),i.Nb(4),i.vc("ngIf",c.Sub.length>0)}}var f=function(){var e=function(){function e(){_classCallCheck(this,e),this.nodeSelected=new i.s,this.nodeAdd=new i.s,this.nodeOpen=new i.s}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"clickNode",value:function(e){this.nodeSelected.emit(e)}},{key:"CreateNode",value:function(e){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.nodeAdd.emit(e);case 1:case"end":return n.stop()}}),n,this)})))}},{key:"OpenBook",value:function(e){this.nodeOpen.emit(e)}},{key:"onSubNodeSelecte",value:function(e){this.nodeSelected.emit(e)}},{key:"onSubNodeAdd",value:function(e){this.nodeAdd.emit(e)}},{key:"onSubNodeOpen",value:function(e){this.nodeOpen.emit(e)}}]),e}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i.Sb({type:e,selectors:[["app-tree-node"]],inputs:{nodes:"nodes"},outputs:{nodeSelected:"nodeSelected",nodeAdd:"nodeAdd",nodeOpen:"nodeOpen"},decls:1,vars:1,consts:[["class","divitem",4,"ngFor","ngForOf"],[1,"divitem"],["detail","false","lines","none",3,"ngClass","color","click"],["slot","start",3,"color","name","click",4,"ngIf"],["class","iconNode","color","dark",3,"name","click",4,"ngIf"],[3,"color","click"],["color","primary",3,"hidden","click"],["name","arrow-dropright"],[3,"nodes","hidden","nodeOpen","nodeSelected","nodeAdd",4,"ngIf"],["slot","start",3,"color","name","click"],["color","dark",1,"iconNode",3,"name","click"],[3,"nodes","hidden","nodeOpen","nodeSelected","nodeAdd"]],template:function(e,n){1&e&&i.Hc(0,d,13,10,"div",0),2&e&&i.vc("ngForOf",n.nodes)},directives:[o.i,r.w,o.h,r.C,o.j,r.S,r.i,r.h,r.t,e],styles:[".spanCursor[_ngcontent-%COMP%]{min-width:1em}.divitem[_ngcontent-%COMP%]{padding:0 0 0 15px;margin:0}.iconNode[_ngcontent-%COMP%]{margin-right:.5em}.selectedNode[_ngcontent-%COMP%]{background-color:#5f9ea0}"]}),e}()},xPBH:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var c=function(){function e(n,t,c){arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),this.Type=n,this.Title=t,this.ShowButton=!0,this.Version=0,this.isExpanded=!1,this.isSelected=!1,this.url="",this.sub=[],this.ID=c}return _createClass(e,[{key:"SubNodesId",value:function(e){e.push(this.ID);var n=!0,t=!1,c=void 0;try{for(var i,o=this.Sub[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){i.value.SubNodesId(e)}}catch(r){t=!0,c=r}finally{try{n||null==o.return||o.return()}finally{if(t)throw c}}}},{key:"IsFile",get:function(){return 32===this.Type}},{key:"IsSelected",get:function(){return this.isSelected},set:function(e){this.isSelected=e}},{key:"IsExpanded",get:function(){return this.isExpanded||!1},set:function(e){0!==this.Sub.length&&(this.isExpanded=e)}},{key:"Icon",get:function(){switch(this.Type){case 2:return"person";case 4:return"lock";case 8:return"menu";case 16:return"walk";case 32:return"document";case 1:default:return"folder"}}},{key:"Url",get:function(){return this.url}},{key:"Sub",get:function(){return this.sub},set:function(e){this.sub=e}},{key:"Color",get:function(){return this.isSelected?"primary":""}},{key:"ColorB",get:function(){return this.isSelected?"light":""}}],[{key:"getNodePath",value:function(e,n){var t,c,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e?e.Sub:i;if((n||"").IsNullOrEmpty())return["\u6839\u76ee\u5f55"];if((null===(t=e)||void 0===t?void 0:t.ID)===n)return[e.Title];if(!(o.length>0))return null;var r=!0,a=!1,s=void 0;try{for(var u,l=o[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var d=u.value,f=this.getNodePath(d,n);if(f)return f.insert(0,(null===(c=e)||void 0===c?void 0:c.Title)||""),f}}catch(h){a=!0,s=h}finally{try{r||null==l.return||l.return()}finally{if(a)throw s}}}}]),e}()}}]);