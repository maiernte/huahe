function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"+cLM":function(t,i,e){"use strict";e.d(i,"a",(function(){return u}));var n=e("2QJI"),s=e("l+bK"),a=e("uq+3"),h=function(t){return t[t.DaYun=0]="DaYun",t[t.LiuNian=1]="LiuNian",t[t.XiaoYun=2]="XiaoYun",t}({}),r=function(){var t=function(){function t(i,e,n,s){_classCallCheck(this,t),this.Start=i,this.GZ=e,this.birthYear=n,this.type=s,this.type===h.DaYun&&(this.end=new Date(this.Start.getTime()+t.tenyear))}return _createClass(t,[{key:"Old",get:function(){return this.Start.getFullYear()-this.birthYear}},{key:"End",get:function(){return this.end},set:function(t){this.end=t||this.end}},{key:"Year",get:function(){return this.Start.getFullYear()}}]),t}();return t.oneday=864e5,t.oneyear=365.25*t.oneday,t.tenyear=10*t.oneyear,t}(),u=function(){function t(i,e){_classCallCheck(this,t),this.Birthday=i,this.Gender=e,this.bazi=s.b.calcBazi(this.Birthday.getFullYear(),this.Birthday.getMonth()+1,this.Birthday.getDate(),this.Birthday.getHours(),this.Birthday.getMinutes()),this.bazi.Y.Base=this.bazi.D,this.bazi.M.Base=this.bazi.D,this.bazi.D.Base=this.bazi.D,this.bazi.T.Base=this.bazi.D,this.initShenSha(),this.initDaYun()}return _createClass(t,[{key:"CalcShenSha",value:function(t){var i=new Array,e=!0,n=!1,s=void 0;try{for(var a,h=this.ShenSha[Symbol.iterator]();!(e=(a=h.next()).done);e=!0){var r=a.value;1==r.Is(t)&&i.push(r.Name)}}catch(u){n=!0,s=u}finally{try{e||null==h.return||h.return()}finally{if(n)throw s}}return i.join("\u3001")}},{key:"CalcLiuNian",value:function(t,i){for(var e=new Array,a=t-1984;a<0;)a+=60;a%=60;var u=this.T.Index+(t-this.Birthday.getFullYear()+1)*this.Direction;u=(u+600)%60;for(var o=t;o<=i;o++){var c=new n.b(a);c.Base=this.D,c.ShenSha=this.CalcShenSha(c);var l=new n.b(u);l.Base=this.D,l.ShenSha=this.CalcShenSha(l);var g=s.b.getSolarTerms(o,2)[0],f=new r(g,c,this.Birthday.getFullYear(),h.LiuNian);f.GZ2=l,e.push(f),a+=1,a%=60,u=((u+=1*this.Direction)+60)%60}return e}},{key:"equal",value:function(t){return this.Gender==t.Gender&&this.Birthday.toString()==t.Birthday.toString()}},{key:"initShenSha",value:function(){this.shenshas=new Array;var t=this.Y.Index,i=this.M.Index,e=this.D.Index,n=this.T.Index;this.shenshas.push(new a.a("\u5c06\u661f",[e])),this.shenshas.push(new a.a("\u7f8a\u5203",[e])),this.shenshas.push(new a.a("\u7984\u795e",[e])),this.shenshas.push(new a.a("\u534e\u76d6",[e])),this.shenshas.push(new a.a("\u6587\u660c",[e])),this.shenshas.push(new a.a("\u5b66\u5802",[e])),this.shenshas.push(new a.a("\u5929\u559c",[i])),this.shenshas.push(new a.a("\u5929\u533b",[i])),this.shenshas.push(new a.a("\u8d35\u4eba",[e])),this.shenshas.push(new a.a("\u9a7f\u9a6c",[t,e])),this.shenshas.push(new a.a("\u6843\u82b1",[t,e])),this.shenshas.push(new a.a("\u707e\u715e",[t,e])),this.shenshas.push(new a.a("\u52ab\u715e",[t,e])),this.shenshas.push(new a.a("\u65ec\u7a7a",[e])),this.shenshas.push(new a.a("\u9b41\u7f61",[t,i,e,n])),this.shenshas.push(new a.a("\u56db\u5e9f",[t,i,e,n])),this.shenshas.push(new a.a("\u5b64\u8fb0\u5be1\u5bbf",[t,i,e,n])),this.shenshas.push(new a.a("\u9634\u5dee\u9633\u9519",[e]));var s=new a.a("\u5929\u7f57\u5730\u7f51",[t,i,e,n]);s.Gender=this.Gender,this.shenshas.push(s)}},{key:"initDaYun",value:function(){this.dayun=new Array;var t=this.qiDaYun(),i=this.Direction,e=(t.getFullYear(),this.Birthday.getFullYear(),new r(this.Birthday,this.M,this.Birthday.getFullYear(),h.DaYun));e.End=t,this.dayun.push(e);for(var s=0;s<10;s++){var a=new n.b((this.M.Index+(s+1)*i+60)%60);a.Base=this.bazi.D;var u=new Date(t.getTime()+315576e6*s),o=new r(u,a,this.Birthday.getFullYear(),h.DaYun);this.dayun.push(o)}}},{key:"qiDaYun",value:function(){var t=s.b.findNextJieQi(this.Birthday,("m"==this.Gender?1:-1)*(this.Y.Zhi.Index%2==0?1:-1)),i=Math.abs(t.getTime()-this.Birthday.getTime())/6e4*2;return new Date(this.Birthday.getTime()+36e5*i)}},{key:"Y",get:function(){return this.bazi.Y}},{key:"M",get:function(){return this.bazi.M}},{key:"D",get:function(){return this.bazi.D}},{key:"T",get:function(){return this.bazi.T}},{key:"All",get:function(){return[this.bazi.Y,this.bazi.M,this.bazi.D,this.bazi.T]}},{key:"Direction",get:function(){return("m"==this.Gender?1:-1)*(this.Y.Zhi.Index%2==0?1:-1)}},{key:"MingGong",get:function(){if(this.minggong)return this.minggong;var t=this.M.Zhi.Index+1+this.T.Zhi.Index+1,i=t<14?14-t:26-t;return new n.b([(this.Y.Gan.QiYueGan+((i-=1)-2+12)%12)%10,i])}},{key:"TaiYuan",get:function(){return new n.b([(this.M.Gan.Index+1)%10,(this.M.Zhi.Index+3)%12])}},{key:"WuXings",get:function(){if(this.wuxings)return this.wuxings;var t=[0,0,0,0,0];return t[this.Y.Gan.WuXing.Index]+=1,t[this.M.Gan.WuXing.Index]+=1,t[this.D.Gan.WuXing.Index]+=1,t[this.T.Gan.WuXing.Index]+=1,t[this.Y.Zhi.WuXing.Index]+=1,t[this.M.Zhi.WuXing.Index]+=1,t[this.D.Zhi.WuXing.Index]+=1,t[this.T.Zhi.WuXing.Index]+=1,this.wuxings=[{Name:"\u91d1",Num:t[0]},{Name:"\u6c34",Num:t[1]},{Name:"\u6728",Num:t[2]},{Name:"\u706b",Num:t[3]},{Name:"\u571f",Num:t[4]}],this.wuxings}},{key:"ShenSha",get:function(){return this.shenshas}},{key:"DaYun",get:function(){return this.dayun}}]),t}()},"06W+":function(t,i,e){"use strict";e.r(i);var n=e("ofXK"),s=e("3Pt+"),a=e("tyNb"),h=e("c7TG"),r=e("mrSG"),u=e("gTpY"),o=e("ylIl"),c=e("LTmD"),l=(e("0eVs"),e("fXoL"));function g(t,i){if(1&t&&l.Zb(0,"app-baziview",9),2&t){var e=l.oc();l.vc("Config",e.Config)("BaziText",e.Bazi)}}function f(t,i){if(1&t&&l.Zb(0,"app-guaview",10),2&t){var e=l.oc();l.vc("Config",e.Config)("GuaText",e.Gua)}}function b(t,i){if(1&t&&l.Zb(0,"ion-img",11),2&t){var e=l.oc();l.vc("src",e.Img)}}var d,y=((d=function(){function t(i,e,n,s){_classCallCheck(this,t),this.settings=i,this.alertController=e,this.route=n,this.location=s,this.smallSymbol=!1,this.Bazi=null,this.Gua=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.settings.WaitInit();case 2:this.guaconfig=Object(c.b)(this.settings.Gua),this.baziconfig=Object(c.b)(this.settings.Bazi),this.route.params.subscribe((function(t){var e=JSON.parse(t.arg);e&&void 0!==e.ben?i.Gua=e:e&&void 0!==e.male?i.Bazi=e:e&&void 0!==e.img&&(i.Img=atob(e.img),console.log("arg",i.Img))}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"ChangSymbol",value:function(){!1===this.smallSymbol?(this.guaconfig.shensha=4,this.guaconfig.symbol=1,this.baziconfig.shensha=4):(this.guaconfig=Object(c.b)(this.settings.Gua),this.baziconfig=Object(c.b)(this.settings.Bazi)),this.smallSymbol=!this.smallSymbol,this.guaview&&this.guaview.Reflash(this.guaconfig),this.baziview&&this.baziview.Reflash(this.baziconfig)}},{key:"GoBack",value:function(){this.location.back()}},{key:"presentAlert",value:function(t,i,e){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:t||"\u9519\u8bef",subHeader:i||"",message:e,buttons:["\u786e\u5b9a"]});case 2:return s=n.sent,n.next=5,s.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"Config",get:function(){return this.HasGua?this.guaconfig:this.HasBazi?this.baziconfig:null}},{key:"HasGua",get:function(){return!!this.Gua}},{key:"HasBazi",get:function(){return!!this.Bazi}}]),t}()).\u0275fac=function(t){return new(t||d)(l.Yb(c.a),l.Yb(h.b),l.Yb(a.a),l.Yb(n.f))},d.\u0275cmp=l.Sb({type:d,selectors:[["app-panfuviewer"]],viewQuery:function(t,i){var e;1&t&&(l.Nc(u.a,!0),l.Nc(o.a,!0)),2&t&&(l.xc(e=l.mc())&&(i.baziview=e.first),l.xc(e=l.mc())&&(i.guaview=e.first))},decls:18,vars:3,consts:[["color","primary"],["slot","start"],["defaulthref","","text","\u8fd4\u56de"],["slot","end"],[3,"click"],["name","md-options"],[3,"Config","BaziText",4,"ngIf"],[3,"Config","GuaText",4,"ngIf"],[3,"src",4,"ngIf"],[3,"Config","BaziText"],[3,"Config","GuaText"],[3,"src"]],template:function(t,i){1&t&&(l.dc(0,"ion-header"),l.dc(1,"ion-toolbar",0),l.dc(2,"ion-buttons",1),l.Zb(3,"ion-back-button",2),l.cc(),l.dc(4,"ion-title"),l.Ic(5,"\u76d8\u7b26"),l.cc(),l.dc(6,"ion-buttons",3),l.dc(7,"ion-button",4),l.lc("click",(function(){return i.ChangSymbol()})),l.Zb(8,"ion-icon",5),l.cc(),l.cc(),l.cc(),l.cc(),l.dc(9,"ion-content"),l.Gc(10,g,1,2,"app-baziview",6),l.Gc(11,f,1,2,"app-guaview",7),l.Gc(12,b,1,1,"ion-img",8),l.cc(),l.dc(13,"ion-footer"),l.dc(14,"ion-toolbar"),l.dc(15,"ion-buttons",3),l.dc(16,"ion-button",4),l.lc("click",(function(){return i.GoBack()})),l.Ic(17,"\u8fd4\u56de"),l.cc(),l.cc(),l.cc(),l.cc()),2&t&&(l.Nb(10),l.vc("ngIf",i.HasBazi),l.Nb(1),l.vc("ngIf",i.HasGua),l.Nb(1),l.vc("ngIf",i.Img))},directives:[h.t,h.Y,h.j,h.f,h.g,h.W,h.i,h.u,h.n,n.j,h.r,u.a,o.a,h.v],styles:[""]}),d),v=e("uEAi"),p=e("n7QD");e.d(i,"PanfuviewerPageModule",(function(){return k}));var w,m=[{path:"",component:y}],k=((w=function t(){_classCallCheck(this,t)}).\u0275mod=l.Wb({type:w}),w.\u0275inj=l.Vb({factory:function(t){return new(t||w)},imports:[[v.a,p.a,n.b,s.c,h.Z,a.j.forChild(m)]]}),w)}}]);