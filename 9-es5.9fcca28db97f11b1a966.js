function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,n,i){return n&&_defineProperties(t.prototype,n),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{gTpY:function(t,n,i){"use strict";i.d(n,"a",(function(){return Z}));var e=i("mrSG"),a=i("c7TG"),o=i("+cLM"),c=(i("0eVs"),i("FiP+")),b=i("LTmD"),s=i("fXoL"),r=i("ofXK");function u(t,n){if(1&t&&(s.Zb(0,"span"),s.xc(1),s.Yb()),2&t){var i=s.jc();s.Mb(1),s.zc("\u771f\u592a\u9633\u65f6\uff1a",i.RealTime,"")}}function h(t,n){if(1&t&&(s.Zb(0,"ion-col",16),s.Zb(1,"ion-text",2),s.xc(2),s.Yb(),s.Yb()),2&t){var i=n.$implicit;s.Mb(1),s.vc("color",i.color),s.Mb(1),s.yc(i.text)}}function l(t,n){if(1&t&&(s.Zb(0,"ion-row",16),s.wc(1,h,3,3,"ion-col",3),s.Yb()),2&t){var i=n.$implicit;s.Mb(1),s.oc("ngForOf",i)}}function f(t,n){if(1&t&&(s.Zb(0,"ion-col",17),s.Zb(1,"ion-text",17),s.xc(2),s.Yb(),s.Yb()),2&t){var i=n.$implicit;s.Mb(2),s.yc(i)}}function d(t,n){if(1&t&&(s.Zb(0,"ion-row",17),s.wc(1,f,3,1,"ion-col",8),s.Yb()),2&t){var i=n.$implicit;s.Mb(1),s.oc("ngForOf",i)}}function g(t,n){if(1&t){var i=s.ac();s.Zb(0,"ion-segment-button",18),s.hc("click",(function(){s.rc(i);var t=n.index;return s.jc().SelectedDY=t})),s.xc(1),s.Yb()}if(2&t){var e=n.$implicit;s.oc("value",n.index),s.Mb(1),s.zc(" ",e[2]," ")}}function x(t,n){if(1&t){var i=s.ac();s.Zb(0,"ion-segment-button",18),s.hc("click",(function(){s.rc(i);var t=n.index;return s.jc().SelectedLiu=t})),s.xc(1),s.Yb()}if(2&t){var e=n.$implicit;s.oc("value",n.index),s.Mb(1),s.yc(e[0])}}function Y(t,n){if(1&t){var i=s.ac();s.Zb(0,"ion-segment-button",18),s.hc("click",(function(){s.rc(i);var t=n.index;return s.jc().SelectedXiao=t})),s.xc(1),s.Yb()}if(2&t){var e=n.$implicit;s.oc("value",n.index),s.Mb(1),s.yc(e[0])}}var Z=function(){var t=function(){function t(n){_classCallCheck(this,t),this.toastController=n,this.ShowShenSha=!1,this.ShowDayun=!1,this.ShowLiunian=!1,this.ShowXiaoyun=!1,this.selectedDayun=0,this.SelectedLiu=0,this.SelectedXiao=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.initBaseInfo(),this.Reflash(null)}},{key:"Reflash",value:function(t){t&&(this.config=Object(b.b)(t)),this.initYuanju(""===this.RealTime?this.Birthday:this.RealTime),this.initShenShas(),this.SelectedDY=0,this.initDayuns()}},{key:"ChangeDayun",value:function(t){return Object(e.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,e,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.SelectedDY=t,i=this.bazi.DaYun[t-1].Start.toChinaStr(),e=this.bazi.DaYun[t-1].GZ.Name,n.next=5,this.toastController.create({message:"\u5927\u8fd0".concat(e," \u5f00\u59cb\u4e8e ").concat(i),duration:3e3});case 5:return a=n.sent,n.next=8,a.present();case 8:case"end":return n.stop()}}),n,this)})))}},{key:"initBaseInfo",value:function(){var t,n=this.baziText.place,i=c.a.FindCity(n[0],n[1]);this.Place=i?"".concat(n[0],"\u7701/\u5e02 ").concat(n[1],"\u5e02/\u53bf/\u533a"):"\u672a\u77e5",this.Gender=this.baziText.male?"\u4e7e":"\u5764",this.Person="".concat(this.baziText.person," (").concat(this.Gender,"\u9020)");var e=this.baziText.time.parseDate();if(this.Birthday=e.toChinaStr(!0),this.baziText.realsuntime){var a=i?c.a.CalcTimeOff(i.Code):null;t=new Date(e.getTime()+6e4*a),this.RealTime=t.toChinaStr(!0)}else this.RealTime=""}},{key:"initYuanju",value:function(t){var n=[],i=t.parseDate();this.bazi=new o.a(i,this.baziText.male?"m":"f");var e=this.config.shortname?1:0;if(n.push(this.bazi.All.select((function(t){return{text:t.Shen10Gan[e],color:"gray"}}))),n.push(this.bazi.All.select((function(t){return{text:t.Gan.Name,color:"darkblue"}}))),n.push(this.bazi.All.select((function(t){return{text:t.Zhi.Name,color:"darkblue"}}))),n.push(this.bazi.All.select((function(t){return{text:t.Shen10Zhi[e],color:"gray"}}))),n[0].insert(0,{text:this.Gender,color:""}),n[1].insert(0,{text:"\u9020",color:""}),n[2].insert(0,{text:"",color:""}),n[3].insert(0,{text:"",color:""}),this.config.yuanju.cangan){var a=this.bazi.All.select((function(t){return{text:t.Zhi.CGan.map((function(t){return t.Name})).join(""),color:""}}));a.insert(0,{text:"\u85cf\u5e72",color:"gray"}),n.push(a)}if(this.config.yuanju.nayin){var c=this.bazi.All.select((function(t){return{text:t.NaYin,color:""}}));c.insert(0,{text:"\u7eb3\u97f3",color:"gray"}),n.push(c)}if(this.config.yuanju.changshen){var b=this.bazi.All.select((function(t){return{text:t.ChangSheng,color:""}}));b.insert(0,{text:"\u957f\u751f",color:"gray"}),n.push(b)}this.yuanju=n}},{key:"initShenShas",value:function(){for(var t=[],n=this.bazi.ShenSha.length,i=0;i<n;i++)t.push("[".concat(this.bazi.ShenSha[i].Name," - ").concat(this.bazi.ShenSha[i].Result.join(""),"]"));var e=this.config.shensha;this.ShenShas=[];for(var a=0;a<=n;a+=e){var o=t.slice(a,a+e>n?n:a+e);this.ShenShas.push(o)}var c=e-this.ShenShas[this.ShenShas.length-1].length;if(c>0)for(var b=0;b<c;b++)this.ShenShas[this.ShenShas.length-1].push("");this.ShenShaHead="[\u547d\u5bab - ".concat(this.bazi.MingGong.Name,"] [\u80ce\u5143 - ").concat(this.bazi.TaiYuan.Name,"]")}},{key:"initDayuns",value:function(){var t=this,n=this.config.shortname?1:0,i=[];this.bazi.DaYun.forEach((function(e){var a=[];a.push("".concat(e.Start.toChinaStr())),a.push(e.GZ.Shen10Gan[n]),a.push(e.GZ.Name),a.push(e.GZ.Shen10Zhi[n]),a.push(e.GZ.Zhi.CGan.map((function(t){return t.Name})).join("")),a.push(e.GZ.NaYin),a.push(e.GZ.ChangSheng),a.push(t.bazi.CalcShenSha(e.GZ)),i.push(a)})),this.Dayuns=i,this.SelectedDY=0}},{key:"calcXiaoyun",value:function(t,n){var i=this,e=this.config.shortname?1:0,a=[],o=[],c=this.bazi.Birthday.toChinaStr();c=c.replace(this.bazi.Birthday.getFullYear().toString(),"##"),this.bazi.CalcLiuNian(t,n).forEach((function(t){var n=[],c=[];n.push("".concat(t.Start.getFullYear())),c.push("".concat(t.Start.getFullYear())),n.push("".concat(t.Start.toChinaStr())),c.push("".concat(t.Start.getFullYear(),"\u5e74").concat(i.bazi.Birthday.getMonth()+1,"\u6708").concat(i.bazi.Birthday.getDate()+1,"\u65e5")),n.push(t.GZ.Shen10Gan[e]),n.push(t.GZ.Name),n.push(t.GZ.Shen10Zhi[e]),c.push(t.GZ2.Shen10Gan[e]),c.push(t.GZ2.Name),c.push(t.GZ2.Shen10Zhi[e]),a.push(n),o.push(c),n.push(t.GZ.Zhi.CGan.map((function(t){return t.Name})).join("")),c.push(t.GZ2.Zhi.CGan.map((function(t){return t.Name})).join("")),n.push(t.GZ.NaYin),c.push(t.GZ2.NaYin),n.push(t.GZ.ChangSheng),c.push(t.GZ2.ChangSheng),n.push(i.bazi.CalcShenSha(t.GZ)),c.push(i.bazi.CalcShenSha(t.GZ2))})),this.Liunian=a,this.Xiaoyun=o}},{key:"Config",set:function(t){this.config=Object(b.b)(t)}},{key:"FontSize",get:function(){return"".concat(this.config.fontsize,"px")}},{key:"YuanJu",get:function(){return this.yuanju}},{key:"DayunName",get:function(){return this.dayunname}},{key:"SelectedDY",get:function(){return this.selectedDayun},set:function(t){this.selectedDayun=t;var n=this.bazi.DaYun[t],i=n.Start.getFullYear();this.calcXiaoyun(i,i+10),this.dayunname="\u5927\u8fd0 - ".concat(n.GZ.Name)}},{key:"BaziText",set:function(t){this.baziText=t}},{key:"BaziInText",get:function(){return"".concat(this.bazi.Y.Name," / ").concat(this.bazi.M.Name," / ").concat(this.bazi.D.Name," / ").concat(this.bazi.T.Name," ")}}]),t}();return t.\u0275fac=function(n){return new(n||t)(s.Wb(a.jb))},t.\u0275cmp=s.Qb({type:t,selectors:[["app-baziview"]],inputs:{Config:"Config",BaziText:"BaziText"},decls:184,vars:70,consts:[["lines","none"],[4,"ngIf"],[1,"bzgrid"],["class","ion-no-padding bzgrid",4,"ngFor","ngForOf"],[2,"margin-left","10px"],["size","small","fill","clear","slot","end",3,"click"],[3,"name"],[1,"ion-no-padding",3,"hidden"],["class","ion-no-padding",4,"ngFor","ngForOf"],[3,"hidden"],["scrollable","",3,"hidden"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-margin-horizontal",2,"margin-bottom","0",3,"hidden"],["color","medium"],[2,"margin-bottom","0"],[1,"ion-margin-horizontal",3,"hidden"],[1,"ion-no-padding","bzgrid"],[1,"ion-no-padding"],[3,"value","click"]],template:function(t,n){1&t&&(s.Zb(0,"div"),s.Zb(1,"ion-item",0),s.Zb(2,"section"),s.Zb(3,"span"),s.xc(4),s.Yb(),s.Xb(5,"br"),s.Zb(6,"span"),s.xc(7),s.Yb(),s.Xb(8,"br"),s.Zb(9,"span"),s.xc(10),s.Yb(),s.Xb(11,"br"),s.wc(12,u,2,1,"span",1),s.Xb(13,"br"),s.Yb(),s.Yb(),s.Zb(14,"ion-item",0),s.Zb(15,"ion-grid",2),s.wc(16,l,2,1,"ion-row",3),s.Yb(),s.Yb(),s.Zb(17,"section"),s.Zb(18,"ion-item"),s.Zb(19,"ion-label"),s.xc(20,"\u795e\u715e"),s.Yb(),s.Zb(21,"ion-text",4),s.Zb(22,"small"),s.xc(23),s.Yb(),s.Yb(),s.Zb(24,"ion-button",5),s.hc("click",(function(){return n.ShowShenSha=!n.ShowShenSha})),s.Xb(25,"ion-icon",6),s.Yb(),s.Yb(),s.Zb(26,"ion-grid",7),s.wc(27,d,2,1,"ion-row",8),s.Yb(),s.Yb(),s.Zb(28,"section"),s.Zb(29,"ion-item"),s.Zb(30,"ion-label"),s.Zb(31,"ion-text",9),s.xc(32,"\u5927\u8fd0\uff1a"),s.Yb(),s.Zb(33,"ion-text",9),s.xc(34),s.Yb(),s.Yb(),s.Zb(35,"ion-button",5),s.hc("click",(function(){return n.ShowDayun=!n.ShowDayun})),s.Xb(36,"ion-icon",6),s.Yb(),s.Yb(),s.Zb(37,"ion-segment",10),s.wc(38,g,2,2,"ion-segment-button",11),s.Yb(),s.Zb(39,"ion-list",12),s.Zb(40,"table"),s.Zb(41,"tr"),s.Zb(42,"td"),s.Zb(43,"ion-text",13),s.xc(44,"\u8d77\u59cb\u4e8e: "),s.Yb(),s.Yb(),s.Zb(45,"td"),s.xc(46),s.Yb(),s.Yb(),s.Zb(47,"tr"),s.Zb(48,"td"),s.Zb(49,"ion-text",13),s.xc(50,"\u5e72\u652f\uff1a"),s.Yb(),s.Yb(),s.Zb(51,"td"),s.Zb(52,"ion-text",13),s.xc(53),s.Yb(),s.Zb(54,"ion-text"),s.xc(55),s.Yb(),s.Zb(56,"ion-text",13),s.xc(57),s.Yb(),s.Yb(),s.Yb(),s.Zb(58,"tr"),s.Zb(59,"td"),s.Zb(60,"ion-text",13),s.xc(61,"\u85cf\u5e72\uff1a"),s.Yb(),s.Yb(),s.Zb(62,"td"),s.xc(63),s.Yb(),s.Yb(),s.Zb(64,"tr"),s.Zb(65,"td"),s.Zb(66,"ion-text",13),s.xc(67,"\u7eb3\u97f3\uff1a"),s.Yb(),s.Yb(),s.Zb(68,"td"),s.xc(69),s.Yb(),s.Yb(),s.Zb(70,"tr"),s.Zb(71,"td"),s.Zb(72,"ion-text",13),s.xc(73,"\u957f\u751f\u5bab\uff1a"),s.Yb(),s.Yb(),s.Zb(74,"td"),s.xc(75),s.Yb(),s.Yb(),s.Zb(76,"tr"),s.Zb(77,"td"),s.Zb(78,"ion-text",13),s.xc(79,"\u795e\u715e\uff1a"),s.Yb(),s.Yb(),s.Zb(80,"td"),s.xc(81),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(82,"section"),s.Zb(83,"ion-item"),s.Zb(84,"ion-label"),s.xc(85,"\u6d41\u5e74"),s.Yb(),s.Zb(86,"ion-button",5),s.hc("click",(function(){return n.ShowLiunian=!n.ShowLiunian})),s.Xb(87,"ion-icon",6),s.Yb(),s.Yb(),s.Zb(88,"ion-segment",10),s.wc(89,x,2,2,"ion-segment-button",11),s.Yb(),s.Zb(90,"ion-list",12),s.Zb(91,"table",14),s.Zb(92,"tr"),s.Zb(93,"td"),s.Xb(94,"ion-text",13),s.xc(95,"\u8d77\u59cb\u4e8e: "),s.Yb(),s.Zb(96,"td"),s.xc(97),s.Yb(),s.Yb(),s.Zb(98,"tr"),s.Zb(99,"td",13),s.Xb(100,"ion-text",13),s.xc(101,"\u5e72\u652f\uff1a"),s.Yb(),s.Zb(102,"td"),s.Zb(103,"ion-text",13),s.xc(104),s.Yb(),s.Zb(105,"ion-text"),s.xc(106),s.Yb(),s.Zb(107,"ion-text",13),s.xc(108),s.Yb(),s.Yb(),s.Yb(),s.Zb(109,"tr"),s.Zb(110,"td"),s.Zb(111,"ion-text",13),s.xc(112,"\u85cf\u5e72\uff1a"),s.Yb(),s.Yb(),s.Zb(113,"td"),s.xc(114),s.Yb(),s.Yb(),s.Zb(115,"tr"),s.Zb(116,"td"),s.Zb(117,"ion-text",13),s.xc(118,"\u7eb3\u97f3\uff1a"),s.Yb(),s.Yb(),s.Zb(119,"td"),s.xc(120),s.Yb(),s.Yb(),s.Zb(121,"tr"),s.Zb(122,"td"),s.Zb(123,"ion-text",13),s.xc(124,"\u957f\u751f\u5bab\uff1a"),s.Yb(),s.Yb(),s.Zb(125,"td"),s.xc(126),s.Yb(),s.Yb(),s.Zb(127,"tr"),s.Zb(128,"td"),s.Zb(129,"ion-text",13),s.xc(130,"\u795e\u715e\uff1a"),s.Yb(),s.Yb(),s.Zb(131,"td"),s.xc(132),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(133,"section"),s.Zb(134,"ion-item"),s.Zb(135,"ion-label"),s.xc(136,"\u5c0f\u8fd0"),s.Yb(),s.Zb(137,"ion-button",5),s.hc("click",(function(){return n.ShowXiaoyun=!n.ShowXiaoyun})),s.Xb(138,"ion-icon",6),s.Yb(),s.Yb(),s.Zb(139,"ion-segment",10),s.wc(140,Y,2,2,"ion-segment-button",11),s.Yb(),s.Zb(141,"ion-list",15),s.Zb(142,"table"),s.Zb(143,"tr"),s.Zb(144,"td"),s.Zb(145,"ion-text",13),s.xc(146,"\u8d77\u59cb\u4e8e:"),s.Yb(),s.Yb(),s.Zb(147,"td"),s.xc(148),s.Yb(),s.Yb(),s.Zb(149,"tr"),s.Zb(150,"td"),s.Zb(151,"ion-text",13),s.xc(152,"\u5e72\u652f\uff1a"),s.Yb(),s.Yb(),s.Zb(153,"td"),s.Zb(154,"ion-text",13),s.xc(155),s.Yb(),s.Zb(156,"ion-text"),s.xc(157),s.Yb(),s.Zb(158,"ion-text",13),s.xc(159),s.Yb(),s.Yb(),s.Yb(),s.Zb(160,"tr"),s.Zb(161,"td"),s.Zb(162,"ion-text",13),s.xc(163,"\u85cf\u5e72\uff1a"),s.Yb(),s.Yb(),s.Zb(164,"td"),s.xc(165),s.Yb(),s.Yb(),s.Zb(166,"tr"),s.Zb(167,"td"),s.Zb(168,"ion-text",13),s.xc(169,"\u7eb3\u97f3\uff1a"),s.Yb(),s.Yb(),s.Zb(170,"td"),s.xc(171),s.Yb(),s.Yb(),s.Zb(172,"tr"),s.Zb(173,"td"),s.Zb(174,"ion-text",13),s.xc(175,"\u957f\u751f\u5bab\uff1a"),s.Yb(),s.Yb(),s.Zb(176,"td"),s.xc(177),s.Yb(),s.Yb(),s.Zb(178,"tr"),s.Zb(179,"td"),s.Zb(180,"ion-text",13),s.xc(181,"\u795e\u715e\uff1a"),s.Yb(),s.Yb(),s.Zb(182,"td"),s.xc(183),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.vc("font-size",n.FontSize),s.Mb(2),s.vc("font-size",n.FontSize),s.Mb(2),s.zc("\u547d\u4e3b\uff1a",n.Person,""),s.Mb(3),s.zc("\u751f\u65e5\uff1a",n.Birthday,""),s.Mb(3),s.zc("\u51fa\u751f\u5730\uff1a",n.Place,""),s.Mb(2),s.oc("ngIf",""!=n.RealTime),s.Mb(3),s.vc("font-size",n.FontSize),s.Mb(1),s.oc("ngForOf",n.YuanJu),s.Mb(1),s.vc("font-size",n.FontSize),s.Mb(2),s.vc("font-size",n.FontSize),s.Mb(4),s.yc(n.ShenShaHead),s.Mb(2),s.oc("name",n.ShowShenSha?"ios-arrow-down":"ios-arrow-up"),s.Mb(1),s.oc("hidden",!n.ShowShenSha),s.Mb(1),s.oc("ngForOf",n.ShenShas),s.Mb(1),s.vc("font-size",n.FontSize),s.Mb(2),s.vc("font-size",n.FontSize),s.Mb(1),s.oc("hidden",!n.ShowDayun),s.Mb(2),s.oc("hidden",n.ShowDayun),s.Mb(1),s.yc(n.DayunName),s.Mb(2),s.oc("name",n.ShowDayun?"ios-arrow-down":"ios-arrow-up"),s.Mb(1),s.oc("hidden",!n.ShowDayun),s.Mb(1),s.oc("ngForOf",n.Dayuns),s.Mb(1),s.oc("hidden",!n.ShowDayun),s.Mb(7),s.yc(n.Dayuns[n.SelectedDY][0]),s.Mb(7),s.zc("(",n.Dayuns[n.SelectedDY][1],") "),s.Mb(2),s.zc("\u2002",n.Dayuns[n.SelectedDY][2],"\u2002"),s.Mb(2),s.zc("(",n.Dayuns[n.SelectedDY][3],")"),s.Mb(6),s.yc(n.Dayuns[n.SelectedDY][4]),s.Mb(6),s.yc(n.Dayuns[n.SelectedDY][5]),s.Mb(6),s.yc(n.Dayuns[n.SelectedDY][6]),s.Mb(6),s.yc(n.Dayuns[n.SelectedDY][7]),s.Mb(1),s.vc("font-size",n.FontSize),s.Mb(2),s.vc("font-size",n.FontSize),s.Mb(3),s.oc("name",n.ShowLiunian?"ios-arrow-down":"ios-arrow-up"),s.Mb(1),s.oc("hidden",!n.ShowLiunian),s.Mb(1),s.oc("ngForOf",n.Liunian),s.Mb(1),s.oc("hidden",!n.ShowLiunian),s.Mb(7),s.yc(n.Liunian[n.SelectedLiu][1]),s.Mb(7),s.zc("(",n.Liunian[n.SelectedLiu][2],") "),s.Mb(2),s.zc("\u2002",n.Liunian[n.SelectedLiu][3],"\u2002"),s.Mb(2),s.zc("(",n.Liunian[n.SelectedLiu][4],")"),s.Mb(6),s.yc(n.Liunian[n.SelectedLiu][5]),s.Mb(6),s.yc(n.Liunian[n.SelectedLiu][6]),s.Mb(6),s.yc(n.Liunian[n.SelectedLiu][7]),s.Mb(6),s.yc(n.Liunian[n.SelectedLiu][8]),s.Mb(1),s.vc("font-size",n.FontSize),s.Mb(2),s.vc("font-size",n.FontSize),s.Mb(3),s.oc("name",n.ShowXiaoyun?"ios-arrow-down":"ios-arrow-up"),s.Mb(1),s.oc("hidden",!n.ShowXiaoyun),s.Mb(1),s.oc("ngForOf",n.Xiaoyun),s.Mb(1),s.oc("hidden",!n.ShowXiaoyun),s.Mb(7),s.yc(n.Xiaoyun[n.SelectedXiao][1]),s.Mb(7),s.zc("(",n.Xiaoyun[n.SelectedXiao][2],") "),s.Mb(2),s.zc("\u2002",n.Xiaoyun[n.SelectedXiao][3],"\u2002"),s.Mb(2),s.zc("(",n.Xiaoyun[n.SelectedXiao][4],")"),s.Mb(6),s.yc(n.Xiaoyun[n.SelectedXiao][5]),s.Mb(6),s.yc(n.Xiaoyun[n.SelectedXiao][6]),s.Mb(6),s.yc(n.Xiaoyun[n.SelectedXiao][7]),s.Mb(6),s.yc(n.Xiaoyun[n.SelectedXiao][8]))},directives:[a.w,r.j,a.r,r.i,a.C,a.T,a.j,a.t,a.N,a.hb,a.D,a.L,a.n,a.O],styles:[".bzgrid[_ngcontent-%COMP%]{padding:0}.selected[_ngcontent-%COMP%]{background-color:#faebd7}"]}),t}()},n7QD:function(t,n,i){"use strict";i.d(n,"a",(function(){return b}));var e=i("ofXK"),a=i("3Pt+"),o=i("c7TG"),c=(i("ylIl"),i("fXoL")),b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=c.Ub({type:t}),t.\u0275inj=c.Tb({factory:function(n){return new(n||t)},imports:[[e.b,a.a,o.Z]]}),t}()},uEAi:function(t,n,i){"use strict";i.d(n,"a",(function(){return b}));var e=i("ofXK"),a=i("3Pt+"),o=i("c7TG"),c=(i("gTpY"),i("fXoL")),b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=c.Ub({type:t}),t.\u0275inj=c.Tb({factory:function(n){return new(n||t)},imports:[[e.b,a.a,o.Z]]}),t}()},ylIl:function(t,n,i){"use strict";i.d(n,"a",(function(){return d}));var e=i("mrSG"),a=i("c7TG"),o=(i("0eVs"),i("pNW8")),c=i("LTmD"),b=i("fXoL"),s=i("ofXK");function r(t,n){if(1&t&&(b.Zb(0,"td",3),b.xc(1),b.Yb()),2&t){var i=n.$implicit;b.oc("colSpan",i.span),b.Mb(1),b.yc(i.txt)}}function u(t,n){if(1&t&&(b.Zb(0,"tr"),b.wc(1,r,2,2,"td",4),b.Yb()),2&t){var i=n.$implicit;b.Mb(1),b.oc("ngForOf",i)}}function h(t,n){if(1&t&&(b.Zb(0,"td",3),b.xc(1),b.Yb()),2&t){var i=n.$implicit;b.oc("colSpan",i.span),b.Mb(1),b.yc(i.txt)}}function l(t,n){if(1&t){var i=b.ac();b.Zb(0,"td",6),b.hc("click",(function(){b.rc(i);var t=n.index,e=b.jc().index;return b.jc().tostNayin(e,t)})),b.Yb()}if(2&t){var e=n.$implicit;b.vc("color",e.color),b.oc("innerHTML",e.text,b.sc)}}function f(t,n){if(1&t&&(b.Zb(0,"tr"),b.wc(1,l,1,3,"td",5),b.Yb()),2&t){var i=n.$implicit;b.Mb(1),b.oc("ngForOf",i)}}var d=function(){var t=function(){function t(n,i){_classCallCheck(this,t),this.toastController=n,this.settings=i,this.YaoSymbols=[{svg:"../../assets/shaoyin.svg",name:"\u5c11\u9634"},{svg:"../../assets/shaoyan.svg",name:"\u5c11\u9633"},{svg:"../../assets/laoyin.svg",name:"\u8001\u9634"},{svg:"../../assets/laoyan.svg",name:"\u8001\u9633"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"Reflash",value:function(t){t&&(this.config=Object(c.b)(t)),this.initShensha(),this.calcGuaLine()}},{key:"tostNayin",value:function(t,n){return Object(e.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e,a,o,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=5-t,a=n<=4?1:2,o=this.Gua.Ben.GanZhis[e],0===(a=n<=1?0:a)?o=this.Gua.FuGua.GanZhis[e]:2===a&&(o=this.Gua.Bian.GanZhis[e]),i.next=6,this.toastController.create({message:"".concat(o.Name," - ").concat(o.NaYin),duration:3e3});case 6:return c=i.sent,i.next=9,c.present();case 9:case"end":return i.stop()}}),i,this)})))}},{key:"initGua",value:function(){this.Titel="\u95ee\u5ff5\uff1a"+this.guaText.question,this.Gua=new o.a(this.guaText.time,this.guaText.ben,this.guaText.bian),this.GuaTime="\u8d77\u5366\u65f6\u95f4\uff1a"+("string"==typeof this.guaText.time?this.guaText.time:"".concat(this.guaText.time[0],"\u6708").concat(this.guaText[1],"\u65e5")).replace("00:00:00",""),this.Reflash(null)}},{key:"initShensha",value:function(){var t=this.config.shensha;this.shensha=[];for(var n=0;n<this.Gua.ShenShas.length-1;n+=t){for(var i=[],e=0;e<t;e++)if(!(e+n>=this.Gua.ShenShas.length-1)){var a=n+e===this.Gua.ShenShas.length-2,o=this.Gua.ShenShas[e+n];i.push({txt:"[".concat(o.Name," - ").concat(o.Result.join(""),"]"),span:a?2:1})}this.shensha.push(i)}}},{key:"calcGuaLine",value:function(){var t=c.a.GUASYMBOLS[this.config.symbol];this.gualine=[];for(var n=6;n>0;n--){for(var i=this.Gua.GetLine(n,this.config.shortname),e=[],a=0,o="string"==typeof i[1]?4:3,b=o+1,s=0;s<i.length;s++){var r="number"==typeof i[s]?t[i[s]%2]:i[s];if(a="number"==typeof i[s]?i[s]%2:a,""===r)switch(s){case 1:case o:case b:e.push({text:"",color:""})}else if(">"===r&&s===b)e.push({text:(0===a?"x":"o")+"--\x3e",color:""});else{var u=t.includes(r.toString())?"gray":"";e.push({text:1===s?"<small>".concat(r,"</small>"):r,color:u})}}this.gualine.push(e)}this.guachi=[],this.guachi.push({txt:this.Gua.Ben.GuaGong,span:2});var h=""!==this.Gua.Ben.Property?"(".concat(this.Gua.Ben.Property,")"):"";this.guachi.push({txt:"".concat(this.Gua.Ben.Name).concat(h),span:this.HasBianGua?4:2}),this.Gua.Ben.Index!==this.Gua.Bian.Index?(h=""!==this.Gua.Bian.Property?"(".concat(this.Gua.Bian.Property,")"):"",this.guachi.push({txt:"".concat(this.Gua.Bian.Name).concat(h),span:2})):this.guachi.push({txt:"",span:2})}},{key:"Config",set:function(t){this.config=Object(c.b)(t)}},{key:"FontSize",get:function(){return"".concat(this.config.fontsize,"px")}},{key:"GuaText",get:function(){return this.guaText},set:function(t){this.guaText=t,this.initGua()}},{key:"ShenSha",get:function(){return this.shensha}},{key:"Xunkong",get:function(){var t=this.Gua.ShenShas[this.Gua.ShenShas.length-1];return"(\u65ec\u7a7a\uff1a".concat(t.Result[0]).concat(t.Result[1],")")}},{key:"GuaLine",get:function(){return this.gualine}},{key:"GuaChi",get:function(){return this.guachi}},{key:"GuaInText",get:function(){return this.Gua.Ben.Index===this.Gua.Bian.Index?this.Gua.Ben.Name:"".concat(this.Gua.Ben.NameS,"\u4e4b").concat(this.Gua.Bian.NameS)}},{key:"HasBianGua",get:function(){return this.Gua.Ben.Index!==this.Gua.Bian.Index}}]),t}();return t.\u0275fac=function(n){return new(n||t)(b.Wb(a.jb),b.Wb(c.a))},t.\u0275cmp=b.Qb({type:t,selectors:[["app-guaview"]],inputs:{Config:"Config",GuaText:"GuaText"},decls:24,vars:11,consts:[[2,"width","100%"],[4,"ngFor","ngForOf"],["colspan","2"],[3,"colSpan"],[3,"colSpan",4,"ngFor","ngForOf"],[3,"innerHTML","color","click",4,"ngFor","ngForOf"],[3,"innerHTML","click"]],template:function(t,n){1&t&&(b.Zb(0,"div"),b.Zb(1,"ion-text"),b.xc(2),b.Yb(),b.Xb(3,"br"),b.Zb(4,"ion-text"),b.xc(5),b.Yb(),b.Xb(6,"br"),b.Xb(7,"br"),b.Zb(8,"table",0),b.wc(9,u,2,1,"tr",1),b.Yb(),b.Xb(10,"br"),b.Zb(11,"table",0),b.Zb(12,"tr"),b.Zb(13,"td",2),b.xc(14),b.Yb(),b.Zb(15,"td",3),b.xc(16),b.Yb(),b.Zb(17,"td",2),b.xc(18),b.Yb(),b.Yb(),b.Xb(19,"br"),b.Zb(20,"tr"),b.wc(21,h,2,2,"td",4),b.Yb(),b.Xb(22,"br"),b.wc(23,f,2,1,"tr",1),b.Yb(),b.Yb()),2&t&&(b.vc("font-size",n.FontSize),b.Mb(2),b.yc(n.Titel),b.Mb(3),b.yc(n.GuaTime),b.Mb(4),b.oc("ngForOf",n.ShenSha),b.Mb(5),b.zc("",n.Gua.Yue.Name,"\u6708"),b.Mb(1),b.oc("colSpan",n.HasBianGua?4:2),b.Mb(1),b.zc("",n.Gua.Ri.Name,"\u65e5"),b.Mb(2),b.yc(n.Xunkong),b.Mb(3),b.oc("ngForOf",n.GuaChi),b.Mb(2),b.oc("ngForOf",n.GuaLine))},directives:[a.T,s.i],styles:[".guatb[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.guagrid[_ngcontent-%COMP%]{margin-top:5px;margin-left:0;margin-right:0;--ion-grid-width-lg:540px;--ion-grid-width-md:540px;--ion-grid-width-sm:540px;--ion-grid-width-xl:540px;--ion-grid-width-xs:100%}.debug[_ngcontent-%COMP%]{border-color:red;border-style:solid}.guayao[_ngcontent-%COMP%]{margin-top:5px;border-bottom:1px dashed grey}"]}),t}()}}]);