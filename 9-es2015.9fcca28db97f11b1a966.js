(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{gTpY:function(t,i,n){"use strict";n.d(i,"a",(function(){return S}));var e=n("mrSG"),o=n("c7TG"),a=n("+cLM"),s=(n("0eVs"),n("FiP+")),c=n("LTmD"),b=n("fXoL"),h=n("ofXK");function u(t,i){if(1&t&&(b.Zb(0,"span"),b.xc(1),b.Yb()),2&t){const t=b.jc();b.Mb(1),b.zc("\u771f\u592a\u9633\u65f6\uff1a",t.RealTime,"")}}function r(t,i){if(1&t&&(b.Zb(0,"ion-col",16),b.Zb(1,"ion-text",2),b.xc(2),b.Yb(),b.Yb()),2&t){const t=i.$implicit;b.Mb(1),b.vc("color",t.color),b.Mb(1),b.yc(t.text)}}function l(t,i){if(1&t&&(b.Zb(0,"ion-row",16),b.wc(1,r,3,3,"ion-col",3),b.Yb()),2&t){const t=i.$implicit;b.Mb(1),b.oc("ngForOf",t)}}function d(t,i){if(1&t&&(b.Zb(0,"ion-col",17),b.Zb(1,"ion-text",17),b.xc(2),b.Yb(),b.Yb()),2&t){const t=i.$implicit;b.Mb(2),b.yc(t)}}function g(t,i){if(1&t&&(b.Zb(0,"ion-row",17),b.wc(1,d,3,1,"ion-col",8),b.Yb()),2&t){const t=i.$implicit;b.Mb(1),b.oc("ngForOf",t)}}function Y(t,i){if(1&t){const t=b.ac();b.Zb(0,"ion-segment-button",18),b.hc("click",(function(){b.rc(t);const n=i.index;return b.jc().SelectedDY=n})),b.xc(1),b.Yb()}if(2&t){const t=i.$implicit;b.oc("value",i.index),b.Mb(1),b.zc(" ",t[2]," ")}}function x(t,i){if(1&t){const t=b.ac();b.Zb(0,"ion-segment-button",18),b.hc("click",(function(){b.rc(t);const n=i.index;return b.jc().SelectedLiu=n})),b.xc(1),b.Yb()}if(2&t){const t=i.$implicit;b.oc("value",i.index),b.Mb(1),b.yc(t[0])}}function Z(t,i){if(1&t){const t=b.ac();b.Zb(0,"ion-segment-button",18),b.hc("click",(function(){b.rc(t);const n=i.index;return b.jc().SelectedXiao=n})),b.xc(1),b.Yb()}if(2&t){const t=i.$implicit;b.oc("value",i.index),b.Mb(1),b.yc(t[0])}}let S=(()=>{class t{constructor(t){this.toastController=t,this.ShowShenSha=!1,this.ShowDayun=!1,this.ShowLiunian=!1,this.ShowXiaoyun=!1,this.selectedDayun=0,this.SelectedLiu=0,this.SelectedXiao=0}ngOnInit(){this.initBaseInfo(),this.Reflash(null)}set Config(t){this.config=Object(c.b)(t)}get FontSize(){return`${this.config.fontsize}px`}get YuanJu(){return this.yuanju}get DayunName(){return this.dayunname}get SelectedDY(){return this.selectedDayun}set SelectedDY(t){this.selectedDayun=t;const i=this.bazi.DaYun[t],n=i.Start.getFullYear();this.calcXiaoyun(n,n+10),this.dayunname=`\u5927\u8fd0 - ${i.GZ.Name}`}set BaziText(t){this.baziText=t}get BaziInText(){return`${this.bazi.Y.Name} / ${this.bazi.M.Name} / ${this.bazi.D.Name} / ${this.bazi.T.Name} `}Reflash(t){t&&(this.config=Object(c.b)(t)),this.initYuanju(""===this.RealTime?this.Birthday:this.RealTime),this.initShenShas(),this.SelectedDY=0,this.initDayuns()}ChangeDayun(t){return Object(e.b)(this,void 0,void 0,(function*(){this.SelectedDY=t;const i=this.bazi.DaYun[t-1].Start.toChinaStr(),n=this.bazi.DaYun[t-1].GZ.Name,e=yield this.toastController.create({message:`\u5927\u8fd0${n} \u5f00\u59cb\u4e8e ${i}`,duration:3e3});yield e.present()}))}initBaseInfo(){let t;const i=this.baziText.place,n=s.a.FindCity(i[0],i[1]);this.Place=n?`${i[0]}\u7701/\u5e02 ${i[1]}\u5e02/\u53bf/\u533a`:"\u672a\u77e5",this.Gender=this.baziText.male?"\u4e7e":"\u5764",this.Person=`${this.baziText.person} (${this.Gender}\u9020)`;const e=this.baziText.time.parseDate();if(this.Birthday=e.toChinaStr(!0),this.baziText.realsuntime){const i=n?s.a.CalcTimeOff(n.Code):null;t=new Date(e.getTime()+6e4*i),this.RealTime=t.toChinaStr(!0)}else this.RealTime=""}initYuanju(t){const i=[],n=t.parseDate();this.bazi=new a.a(n,this.baziText.male?"m":"f");const e=this.config.shortname?1:0;if(i.push(this.bazi.All.select(t=>({text:t.Shen10Gan[e],color:"gray"}))),i.push(this.bazi.All.select(t=>({text:t.Gan.Name,color:"darkblue"}))),i.push(this.bazi.All.select(t=>({text:t.Zhi.Name,color:"darkblue"}))),i.push(this.bazi.All.select(t=>({text:t.Shen10Zhi[e],color:"gray"}))),i[0].insert(0,{text:this.Gender,color:""}),i[1].insert(0,{text:"\u9020",color:""}),i[2].insert(0,{text:"",color:""}),i[3].insert(0,{text:"",color:""}),this.config.yuanju.cangan){const t=this.bazi.All.select(t=>({text:t.Zhi.CGan.map(t=>t.Name).join(""),color:""}));t.insert(0,{text:"\u85cf\u5e72",color:"gray"}),i.push(t)}if(this.config.yuanju.nayin){const t=this.bazi.All.select(t=>({text:t.NaYin,color:""}));t.insert(0,{text:"\u7eb3\u97f3",color:"gray"}),i.push(t)}if(this.config.yuanju.changshen){const t=this.bazi.All.select(t=>({text:t.ChangSheng,color:""}));t.insert(0,{text:"\u957f\u751f",color:"gray"}),i.push(t)}this.yuanju=i}initShenShas(){const t=[],i=this.bazi.ShenSha.length;for(let o=0;o<i;o++)t.push(`[${this.bazi.ShenSha[o].Name} - ${this.bazi.ShenSha[o].Result.join("")}]`);const n=this.config.shensha;this.ShenShas=[];for(let o=0;o<=i;o+=n){const e=t.slice(o,o+n>i?i:o+n);this.ShenShas.push(e)}const e=n-this.ShenShas[this.ShenShas.length-1].length;if(e>0)for(let o=0;o<e;o++)this.ShenShas[this.ShenShas.length-1].push("");this.ShenShaHead=`[\u547d\u5bab - ${this.bazi.MingGong.Name}] [\u80ce\u5143 - ${this.bazi.TaiYuan.Name}]`}initDayuns(){const t=this.config.shortname?1:0,i=[];this.bazi.DaYun.forEach(n=>{const e=[];e.push(`${n.Start.toChinaStr()}`),e.push(n.GZ.Shen10Gan[t]),e.push(n.GZ.Name),e.push(n.GZ.Shen10Zhi[t]),e.push(n.GZ.Zhi.CGan.map(t=>t.Name).join("")),e.push(n.GZ.NaYin),e.push(n.GZ.ChangSheng),e.push(this.bazi.CalcShenSha(n.GZ)),i.push(e)}),this.Dayuns=i,this.SelectedDY=0}calcXiaoyun(t,i){const n=this.config.shortname?1:0,e=[],o=[];let a=this.bazi.Birthday.toChinaStr();a=a.replace(this.bazi.Birthday.getFullYear().toString(),"##"),this.bazi.CalcLiuNian(t,i).forEach(t=>{const i=[],a=[];i.push(`${t.Start.getFullYear()}`),a.push(`${t.Start.getFullYear()}`),i.push(`${t.Start.toChinaStr()}`),a.push(`${t.Start.getFullYear()}\u5e74${this.bazi.Birthday.getMonth()+1}\u6708${this.bazi.Birthday.getDate()+1}\u65e5`),i.push(t.GZ.Shen10Gan[n]),i.push(t.GZ.Name),i.push(t.GZ.Shen10Zhi[n]),a.push(t.GZ2.Shen10Gan[n]),a.push(t.GZ2.Name),a.push(t.GZ2.Shen10Zhi[n]),e.push(i),o.push(a),i.push(t.GZ.Zhi.CGan.map(t=>t.Name).join("")),a.push(t.GZ2.Zhi.CGan.map(t=>t.Name).join("")),i.push(t.GZ.NaYin),a.push(t.GZ2.NaYin),i.push(t.GZ.ChangSheng),a.push(t.GZ2.ChangSheng),i.push(this.bazi.CalcShenSha(t.GZ)),a.push(this.bazi.CalcShenSha(t.GZ2))}),this.Liunian=e,this.Xiaoyun=o}}return t.\u0275fac=function(i){return new(i||t)(b.Wb(o.jb))},t.\u0275cmp=b.Qb({type:t,selectors:[["app-baziview"]],inputs:{Config:"Config",BaziText:"BaziText"},decls:184,vars:70,consts:[["lines","none"],[4,"ngIf"],[1,"bzgrid"],["class","ion-no-padding bzgrid",4,"ngFor","ngForOf"],[2,"margin-left","10px"],["size","small","fill","clear","slot","end",3,"click"],[3,"name"],[1,"ion-no-padding",3,"hidden"],["class","ion-no-padding",4,"ngFor","ngForOf"],[3,"hidden"],["scrollable","",3,"hidden"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-margin-horizontal",2,"margin-bottom","0",3,"hidden"],["color","medium"],[2,"margin-bottom","0"],[1,"ion-margin-horizontal",3,"hidden"],[1,"ion-no-padding","bzgrid"],[1,"ion-no-padding"],[3,"value","click"]],template:function(t,i){1&t&&(b.Zb(0,"div"),b.Zb(1,"ion-item",0),b.Zb(2,"section"),b.Zb(3,"span"),b.xc(4),b.Yb(),b.Xb(5,"br"),b.Zb(6,"span"),b.xc(7),b.Yb(),b.Xb(8,"br"),b.Zb(9,"span"),b.xc(10),b.Yb(),b.Xb(11,"br"),b.wc(12,u,2,1,"span",1),b.Xb(13,"br"),b.Yb(),b.Yb(),b.Zb(14,"ion-item",0),b.Zb(15,"ion-grid",2),b.wc(16,l,2,1,"ion-row",3),b.Yb(),b.Yb(),b.Zb(17,"section"),b.Zb(18,"ion-item"),b.Zb(19,"ion-label"),b.xc(20,"\u795e\u715e"),b.Yb(),b.Zb(21,"ion-text",4),b.Zb(22,"small"),b.xc(23),b.Yb(),b.Yb(),b.Zb(24,"ion-button",5),b.hc("click",(function(){return i.ShowShenSha=!i.ShowShenSha})),b.Xb(25,"ion-icon",6),b.Yb(),b.Yb(),b.Zb(26,"ion-grid",7),b.wc(27,g,2,1,"ion-row",8),b.Yb(),b.Yb(),b.Zb(28,"section"),b.Zb(29,"ion-item"),b.Zb(30,"ion-label"),b.Zb(31,"ion-text",9),b.xc(32,"\u5927\u8fd0\uff1a"),b.Yb(),b.Zb(33,"ion-text",9),b.xc(34),b.Yb(),b.Yb(),b.Zb(35,"ion-button",5),b.hc("click",(function(){return i.ShowDayun=!i.ShowDayun})),b.Xb(36,"ion-icon",6),b.Yb(),b.Yb(),b.Zb(37,"ion-segment",10),b.wc(38,Y,2,2,"ion-segment-button",11),b.Yb(),b.Zb(39,"ion-list",12),b.Zb(40,"table"),b.Zb(41,"tr"),b.Zb(42,"td"),b.Zb(43,"ion-text",13),b.xc(44,"\u8d77\u59cb\u4e8e: "),b.Yb(),b.Yb(),b.Zb(45,"td"),b.xc(46),b.Yb(),b.Yb(),b.Zb(47,"tr"),b.Zb(48,"td"),b.Zb(49,"ion-text",13),b.xc(50,"\u5e72\u652f\uff1a"),b.Yb(),b.Yb(),b.Zb(51,"td"),b.Zb(52,"ion-text",13),b.xc(53),b.Yb(),b.Zb(54,"ion-text"),b.xc(55),b.Yb(),b.Zb(56,"ion-text",13),b.xc(57),b.Yb(),b.Yb(),b.Yb(),b.Zb(58,"tr"),b.Zb(59,"td"),b.Zb(60,"ion-text",13),b.xc(61,"\u85cf\u5e72\uff1a"),b.Yb(),b.Yb(),b.Zb(62,"td"),b.xc(63),b.Yb(),b.Yb(),b.Zb(64,"tr"),b.Zb(65,"td"),b.Zb(66,"ion-text",13),b.xc(67,"\u7eb3\u97f3\uff1a"),b.Yb(),b.Yb(),b.Zb(68,"td"),b.xc(69),b.Yb(),b.Yb(),b.Zb(70,"tr"),b.Zb(71,"td"),b.Zb(72,"ion-text",13),b.xc(73,"\u957f\u751f\u5bab\uff1a"),b.Yb(),b.Yb(),b.Zb(74,"td"),b.xc(75),b.Yb(),b.Yb(),b.Zb(76,"tr"),b.Zb(77,"td"),b.Zb(78,"ion-text",13),b.xc(79,"\u795e\u715e\uff1a"),b.Yb(),b.Yb(),b.Zb(80,"td"),b.xc(81),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(82,"section"),b.Zb(83,"ion-item"),b.Zb(84,"ion-label"),b.xc(85,"\u6d41\u5e74"),b.Yb(),b.Zb(86,"ion-button",5),b.hc("click",(function(){return i.ShowLiunian=!i.ShowLiunian})),b.Xb(87,"ion-icon",6),b.Yb(),b.Yb(),b.Zb(88,"ion-segment",10),b.wc(89,x,2,2,"ion-segment-button",11),b.Yb(),b.Zb(90,"ion-list",12),b.Zb(91,"table",14),b.Zb(92,"tr"),b.Zb(93,"td"),b.Xb(94,"ion-text",13),b.xc(95,"\u8d77\u59cb\u4e8e: "),b.Yb(),b.Zb(96,"td"),b.xc(97),b.Yb(),b.Yb(),b.Zb(98,"tr"),b.Zb(99,"td",13),b.Xb(100,"ion-text",13),b.xc(101,"\u5e72\u652f\uff1a"),b.Yb(),b.Zb(102,"td"),b.Zb(103,"ion-text",13),b.xc(104),b.Yb(),b.Zb(105,"ion-text"),b.xc(106),b.Yb(),b.Zb(107,"ion-text",13),b.xc(108),b.Yb(),b.Yb(),b.Yb(),b.Zb(109,"tr"),b.Zb(110,"td"),b.Zb(111,"ion-text",13),b.xc(112,"\u85cf\u5e72\uff1a"),b.Yb(),b.Yb(),b.Zb(113,"td"),b.xc(114),b.Yb(),b.Yb(),b.Zb(115,"tr"),b.Zb(116,"td"),b.Zb(117,"ion-text",13),b.xc(118,"\u7eb3\u97f3\uff1a"),b.Yb(),b.Yb(),b.Zb(119,"td"),b.xc(120),b.Yb(),b.Yb(),b.Zb(121,"tr"),b.Zb(122,"td"),b.Zb(123,"ion-text",13),b.xc(124,"\u957f\u751f\u5bab\uff1a"),b.Yb(),b.Yb(),b.Zb(125,"td"),b.xc(126),b.Yb(),b.Yb(),b.Zb(127,"tr"),b.Zb(128,"td"),b.Zb(129,"ion-text",13),b.xc(130,"\u795e\u715e\uff1a"),b.Yb(),b.Yb(),b.Zb(131,"td"),b.xc(132),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(133,"section"),b.Zb(134,"ion-item"),b.Zb(135,"ion-label"),b.xc(136,"\u5c0f\u8fd0"),b.Yb(),b.Zb(137,"ion-button",5),b.hc("click",(function(){return i.ShowXiaoyun=!i.ShowXiaoyun})),b.Xb(138,"ion-icon",6),b.Yb(),b.Yb(),b.Zb(139,"ion-segment",10),b.wc(140,Z,2,2,"ion-segment-button",11),b.Yb(),b.Zb(141,"ion-list",15),b.Zb(142,"table"),b.Zb(143,"tr"),b.Zb(144,"td"),b.Zb(145,"ion-text",13),b.xc(146,"\u8d77\u59cb\u4e8e:"),b.Yb(),b.Yb(),b.Zb(147,"td"),b.xc(148),b.Yb(),b.Yb(),b.Zb(149,"tr"),b.Zb(150,"td"),b.Zb(151,"ion-text",13),b.xc(152,"\u5e72\u652f\uff1a"),b.Yb(),b.Yb(),b.Zb(153,"td"),b.Zb(154,"ion-text",13),b.xc(155),b.Yb(),b.Zb(156,"ion-text"),b.xc(157),b.Yb(),b.Zb(158,"ion-text",13),b.xc(159),b.Yb(),b.Yb(),b.Yb(),b.Zb(160,"tr"),b.Zb(161,"td"),b.Zb(162,"ion-text",13),b.xc(163,"\u85cf\u5e72\uff1a"),b.Yb(),b.Yb(),b.Zb(164,"td"),b.xc(165),b.Yb(),b.Yb(),b.Zb(166,"tr"),b.Zb(167,"td"),b.Zb(168,"ion-text",13),b.xc(169,"\u7eb3\u97f3\uff1a"),b.Yb(),b.Yb(),b.Zb(170,"td"),b.xc(171),b.Yb(),b.Yb(),b.Zb(172,"tr"),b.Zb(173,"td"),b.Zb(174,"ion-text",13),b.xc(175,"\u957f\u751f\u5bab\uff1a"),b.Yb(),b.Yb(),b.Zb(176,"td"),b.xc(177),b.Yb(),b.Yb(),b.Zb(178,"tr"),b.Zb(179,"td"),b.Zb(180,"ion-text",13),b.xc(181,"\u795e\u715e\uff1a"),b.Yb(),b.Yb(),b.Zb(182,"td"),b.xc(183),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&t&&(b.vc("font-size",i.FontSize),b.Mb(2),b.vc("font-size",i.FontSize),b.Mb(2),b.zc("\u547d\u4e3b\uff1a",i.Person,""),b.Mb(3),b.zc("\u751f\u65e5\uff1a",i.Birthday,""),b.Mb(3),b.zc("\u51fa\u751f\u5730\uff1a",i.Place,""),b.Mb(2),b.oc("ngIf",""!=i.RealTime),b.Mb(3),b.vc("font-size",i.FontSize),b.Mb(1),b.oc("ngForOf",i.YuanJu),b.Mb(1),b.vc("font-size",i.FontSize),b.Mb(2),b.vc("font-size",i.FontSize),b.Mb(4),b.yc(i.ShenShaHead),b.Mb(2),b.oc("name",i.ShowShenSha?"ios-arrow-down":"ios-arrow-up"),b.Mb(1),b.oc("hidden",!i.ShowShenSha),b.Mb(1),b.oc("ngForOf",i.ShenShas),b.Mb(1),b.vc("font-size",i.FontSize),b.Mb(2),b.vc("font-size",i.FontSize),b.Mb(1),b.oc("hidden",!i.ShowDayun),b.Mb(2),b.oc("hidden",i.ShowDayun),b.Mb(1),b.yc(i.DayunName),b.Mb(2),b.oc("name",i.ShowDayun?"ios-arrow-down":"ios-arrow-up"),b.Mb(1),b.oc("hidden",!i.ShowDayun),b.Mb(1),b.oc("ngForOf",i.Dayuns),b.Mb(1),b.oc("hidden",!i.ShowDayun),b.Mb(7),b.yc(i.Dayuns[i.SelectedDY][0]),b.Mb(7),b.zc("(",i.Dayuns[i.SelectedDY][1],") "),b.Mb(2),b.zc("\u2002",i.Dayuns[i.SelectedDY][2],"\u2002"),b.Mb(2),b.zc("(",i.Dayuns[i.SelectedDY][3],")"),b.Mb(6),b.yc(i.Dayuns[i.SelectedDY][4]),b.Mb(6),b.yc(i.Dayuns[i.SelectedDY][5]),b.Mb(6),b.yc(i.Dayuns[i.SelectedDY][6]),b.Mb(6),b.yc(i.Dayuns[i.SelectedDY][7]),b.Mb(1),b.vc("font-size",i.FontSize),b.Mb(2),b.vc("font-size",i.FontSize),b.Mb(3),b.oc("name",i.ShowLiunian?"ios-arrow-down":"ios-arrow-up"),b.Mb(1),b.oc("hidden",!i.ShowLiunian),b.Mb(1),b.oc("ngForOf",i.Liunian),b.Mb(1),b.oc("hidden",!i.ShowLiunian),b.Mb(7),b.yc(i.Liunian[i.SelectedLiu][1]),b.Mb(7),b.zc("(",i.Liunian[i.SelectedLiu][2],") "),b.Mb(2),b.zc("\u2002",i.Liunian[i.SelectedLiu][3],"\u2002"),b.Mb(2),b.zc("(",i.Liunian[i.SelectedLiu][4],")"),b.Mb(6),b.yc(i.Liunian[i.SelectedLiu][5]),b.Mb(6),b.yc(i.Liunian[i.SelectedLiu][6]),b.Mb(6),b.yc(i.Liunian[i.SelectedLiu][7]),b.Mb(6),b.yc(i.Liunian[i.SelectedLiu][8]),b.Mb(1),b.vc("font-size",i.FontSize),b.Mb(2),b.vc("font-size",i.FontSize),b.Mb(3),b.oc("name",i.ShowXiaoyun?"ios-arrow-down":"ios-arrow-up"),b.Mb(1),b.oc("hidden",!i.ShowXiaoyun),b.Mb(1),b.oc("ngForOf",i.Xiaoyun),b.Mb(1),b.oc("hidden",!i.ShowXiaoyun),b.Mb(7),b.yc(i.Xiaoyun[i.SelectedXiao][1]),b.Mb(7),b.zc("(",i.Xiaoyun[i.SelectedXiao][2],") "),b.Mb(2),b.zc("\u2002",i.Xiaoyun[i.SelectedXiao][3],"\u2002"),b.Mb(2),b.zc("(",i.Xiaoyun[i.SelectedXiao][4],")"),b.Mb(6),b.yc(i.Xiaoyun[i.SelectedXiao][5]),b.Mb(6),b.yc(i.Xiaoyun[i.SelectedXiao][6]),b.Mb(6),b.yc(i.Xiaoyun[i.SelectedXiao][7]),b.Mb(6),b.yc(i.Xiaoyun[i.SelectedXiao][8]))},directives:[o.w,h.j,o.r,h.i,o.C,o.T,o.j,o.t,o.N,o.hb,o.D,o.L,o.n,o.O],styles:[".bzgrid[_ngcontent-%COMP%]{padding:0}.selected[_ngcontent-%COMP%]{background-color:#faebd7}"]}),t})()},n7QD:function(t,i,n){"use strict";n.d(i,"a",(function(){return c}));var e=n("ofXK"),o=n("3Pt+"),a=n("c7TG"),s=(n("ylIl"),n("fXoL"));let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(i){return new(i||t)},imports:[[e.b,o.a,a.Z]]}),t})()},uEAi:function(t,i,n){"use strict";n.d(i,"a",(function(){return c}));var e=n("ofXK"),o=n("3Pt+"),a=n("c7TG"),s=(n("gTpY"),n("fXoL"));let c=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(i){return new(i||t)},imports:[[e.b,o.a,a.Z]]}),t})()},ylIl:function(t,i,n){"use strict";n.d(i,"a",(function(){return g}));var e=n("mrSG"),o=n("c7TG"),a=(n("0eVs"),n("pNW8")),s=n("LTmD"),c=n("fXoL"),b=n("ofXK");function h(t,i){if(1&t&&(c.Zb(0,"td",3),c.xc(1),c.Yb()),2&t){const t=i.$implicit;c.oc("colSpan",t.span),c.Mb(1),c.yc(t.txt)}}function u(t,i){if(1&t&&(c.Zb(0,"tr"),c.wc(1,h,2,2,"td",4),c.Yb()),2&t){const t=i.$implicit;c.Mb(1),c.oc("ngForOf",t)}}function r(t,i){if(1&t&&(c.Zb(0,"td",3),c.xc(1),c.Yb()),2&t){const t=i.$implicit;c.oc("colSpan",t.span),c.Mb(1),c.yc(t.txt)}}function l(t,i){if(1&t){const t=c.ac();c.Zb(0,"td",6),c.hc("click",(function(){c.rc(t);const n=i.index,e=c.jc().index;return c.jc().tostNayin(e,n)})),c.Yb()}if(2&t){const t=i.$implicit;c.vc("color",t.color),c.oc("innerHTML",t.text,c.sc)}}function d(t,i){if(1&t&&(c.Zb(0,"tr"),c.wc(1,l,1,3,"td",5),c.Yb()),2&t){const t=i.$implicit;c.Mb(1),c.oc("ngForOf",t)}}let g=(()=>{class t{constructor(t,i){this.toastController=t,this.settings=i,this.YaoSymbols=[{svg:"../../assets/shaoyin.svg",name:"\u5c11\u9634"},{svg:"../../assets/shaoyan.svg",name:"\u5c11\u9633"},{svg:"../../assets/laoyin.svg",name:"\u8001\u9634"},{svg:"../../assets/laoyan.svg",name:"\u8001\u9633"}]}ngOnInit(){}set Config(t){this.config=Object(s.b)(t)}get FontSize(){return`${this.config.fontsize}px`}get GuaText(){return this.guaText}set GuaText(t){this.guaText=t,this.initGua()}get ShenSha(){return this.shensha}get Xunkong(){const t=this.Gua.ShenShas[this.Gua.ShenShas.length-1];return`(\u65ec\u7a7a\uff1a${t.Result[0]}${t.Result[1]})`}get GuaLine(){return this.gualine}get GuaChi(){return this.guachi}get GuaInText(){return this.Gua.Ben.Index===this.Gua.Bian.Index?this.Gua.Ben.Name:`${this.Gua.Ben.NameS}\u4e4b${this.Gua.Bian.NameS}`}get HasBianGua(){return this.Gua.Ben.Index!==this.Gua.Bian.Index}Reflash(t){t&&(this.config=Object(s.b)(t)),this.initShensha(),this.calcGuaLine()}tostNayin(t,i){return Object(e.b)(this,void 0,void 0,(function*(){let n=5-t;var e=i<=4?1:2;let o=this.Gua.Ben.GanZhis[n];0===(e=i<=1?0:e)?o=this.Gua.FuGua.GanZhis[n]:2===e&&(o=this.Gua.Bian.GanZhis[n]);const a=yield this.toastController.create({message:`${o.Name} - ${o.NaYin}`,duration:3e3});yield a.present()}))}initGua(){this.Titel="\u95ee\u5ff5\uff1a"+this.guaText.question,this.Gua=new a.a(this.guaText.time,this.guaText.ben,this.guaText.bian),this.GuaTime="\u8d77\u5366\u65f6\u95f4\uff1a"+("string"==typeof this.guaText.time?this.guaText.time:`${this.guaText.time[0]}\u6708${this.guaText[1]}\u65e5`).replace("00:00:00",""),this.Reflash(null)}initShensha(){const t=this.config.shensha;this.shensha=[];for(let i=0;i<this.Gua.ShenShas.length-1;i+=t){const n=[];for(let e=0;e<t;e++){if(e+i>=this.Gua.ShenShas.length-1)continue;const t=i+e===this.Gua.ShenShas.length-2,o=this.Gua.ShenShas[e+i];n.push({txt:`[${o.Name} - ${o.Result.join("")}]`,span:t?2:1})}this.shensha.push(n)}}calcGuaLine(){const t=s.a.GUASYMBOLS[this.config.symbol];let i=!1;this.gualine=[];for(let e=6;e>0;e--){const n=this.Gua.GetLine(e,this.config.shortname);i="string"==typeof n[1];const o=[];let a=0;const s=i?4:3,c=s+1,b=1;for(let i=0;i<n.length;i++){const e="number"==typeof n[i]?t[n[i]%2]:n[i];if(a="number"==typeof n[i]?n[i]%2:a,""===e)switch(i){case b:case s:case c:o.push({text:"",color:""})}else if(">"===e&&i===c)o.push({text:(0===a?"x":"o")+"--\x3e",color:""});else{let n=t.includes(e.toString())?"gray":"";o.push({text:i===b?`<small>${e}</small>`:e,color:n})}}this.gualine.push(o)}this.guachi=[],this.guachi.push({txt:this.Gua.Ben.GuaGong,span:2});let n=""!==this.Gua.Ben.Property?`(${this.Gua.Ben.Property})`:"";this.guachi.push({txt:`${this.Gua.Ben.Name}${n}`,span:this.HasBianGua?4:2}),this.Gua.Ben.Index!==this.Gua.Bian.Index?(n=""!==this.Gua.Bian.Property?`(${this.Gua.Bian.Property})`:"",this.guachi.push({txt:`${this.Gua.Bian.Name}${n}`,span:2})):this.guachi.push({txt:"",span:2})}}return t.\u0275fac=function(i){return new(i||t)(c.Wb(o.jb),c.Wb(s.a))},t.\u0275cmp=c.Qb({type:t,selectors:[["app-guaview"]],inputs:{Config:"Config",GuaText:"GuaText"},decls:24,vars:11,consts:[[2,"width","100%"],[4,"ngFor","ngForOf"],["colspan","2"],[3,"colSpan"],[3,"colSpan",4,"ngFor","ngForOf"],[3,"innerHTML","color","click",4,"ngFor","ngForOf"],[3,"innerHTML","click"]],template:function(t,i){1&t&&(c.Zb(0,"div"),c.Zb(1,"ion-text"),c.xc(2),c.Yb(),c.Xb(3,"br"),c.Zb(4,"ion-text"),c.xc(5),c.Yb(),c.Xb(6,"br"),c.Xb(7,"br"),c.Zb(8,"table",0),c.wc(9,u,2,1,"tr",1),c.Yb(),c.Xb(10,"br"),c.Zb(11,"table",0),c.Zb(12,"tr"),c.Zb(13,"td",2),c.xc(14),c.Yb(),c.Zb(15,"td",3),c.xc(16),c.Yb(),c.Zb(17,"td",2),c.xc(18),c.Yb(),c.Yb(),c.Xb(19,"br"),c.Zb(20,"tr"),c.wc(21,r,2,2,"td",4),c.Yb(),c.Xb(22,"br"),c.wc(23,d,2,1,"tr",1),c.Yb(),c.Yb()),2&t&&(c.vc("font-size",i.FontSize),c.Mb(2),c.yc(i.Titel),c.Mb(3),c.yc(i.GuaTime),c.Mb(4),c.oc("ngForOf",i.ShenSha),c.Mb(5),c.zc("",i.Gua.Yue.Name,"\u6708"),c.Mb(1),c.oc("colSpan",i.HasBianGua?4:2),c.Mb(1),c.zc("",i.Gua.Ri.Name,"\u65e5"),c.Mb(2),c.yc(i.Xunkong),c.Mb(3),c.oc("ngForOf",i.GuaChi),c.Mb(2),c.oc("ngForOf",i.GuaLine))},directives:[o.T,b.i],styles:[".guatb[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.guagrid[_ngcontent-%COMP%]{margin-top:5px;margin-left:0;margin-right:0;--ion-grid-width-lg:540px;--ion-grid-width-md:540px;--ion-grid-width-sm:540px;--ion-grid-width-xl:540px;--ion-grid-width-xs:100%}.debug[_ngcontent-%COMP%]{border-color:red;border-style:solid}.guayao[_ngcontent-%COMP%]{margin-top:5px;border-bottom:1px dashed grey}"]}),t})()}}]);