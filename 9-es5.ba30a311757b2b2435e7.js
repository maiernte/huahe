function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{HQI1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var c=n("c7TG"),i=n("fXoL"),a=n("ofXK");function o(t,e){if(1&t){var n=i.fc();i.ec(0,"ion-item",2),i.mc("click",(function(){i.Ac(n);var t=e.$implicit;return i.pc(2).onSelect(t.value)})),i.ec(1,"ion-text"),i.Hc(2),i.dc(),i.dc()}if(2&t){var c=e.$implicit,a=i.pc(2);i.uc("color",c.value===a.currentOption?"light":""),i.Nb(2),i.Ic(c.name)}}function s(t,e){if(1&t&&(i.ec(0,"div"),i.Fc(1,o,3,2,"ion-item",1),i.dc()),2&t){var n=i.pc();i.Nb(1),i.uc("ngForOf",n.items)}}function r(t,e){if(1&t&&i.ac(0,"ion-note",8),2&t){var n=i.pc().$implicit;i.uc("innerHtml",n.name,i.Bc)}}function u(t,e){if(1&t&&(i.ec(0,"ion-item",5),i.Fc(1,r,1,1,"ion-note",6),i.ec(2,"ion-label",7),i.ac(3,"ion-text",8),i.dc(),i.dc()),2&t){var n=e.$implicit;i.Nb(1),i.uc("ngIf",n.name),i.Nb(2),i.uc("innerHtml",n.value,i.Bc)}}function h(t,e){if(1&t&&(i.ec(0,"small"),i.ec(1,"ion-list",3),i.Fc(2,u,4,2,"ion-item",4),i.dc(),i.dc()),2&t){var n=i.pc();i.Nb(2),i.uc("ngForOf",n.items)}}var l=function(){var t=function(){function t(e){_classCallCheck(this,t),this.popoverCtrl=e,this.toselect=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSelect",value:function(t){this.popoverCtrl.dismiss(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Zb(c.gb))},t.\u0275cmp=i.Tb({type:t,selectors:[["app-optionpopover"]],inputs:{currentOption:"currentOption",items:"items",toselect:"toselect"},decls:2,vars:2,consts:[[4,"ngIf"],["button","",3,"color","click",4,"ngFor","ngForOf"],["button","",3,"color","click"],[1,"ion-no-padding"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[3,"innerHtml",4,"ngIf"],["slot","end",1,"ion-text-wrap"],[3,"innerHtml"]],template:function(t,e){1&t&&(i.Fc(0,s,2,1,"div",0),i.Fc(1,h,3,1,"small",0)),2&t&&(i.uc("ngIf",e.toselect),i.Nb(1),i.uc("ngIf",!e.toselect))},directives:[a.j,a.i,c.x,c.U,c.E,c.D,c.J],styles:[""]}),t}()},gTpY:function(t,e,n){"use strict";n.d(e,"a",(function(){return G}));var c=n("mrSG"),i=n("c7TG"),a=n("+cLM"),o=(n("0eVs"),n("FiP+")),s=n("l+bK"),r=n("LTmD"),u=n("HQI1"),h=n("fXoL"),l=n("i/bi"),d=n("ofXK");function f(t,e){if(1&t&&(h.ec(0,"span"),h.Hc(1),h.dc()),2&t){var n=h.pc();h.Nb(1),h.Jc("\u771f\u592a\u9633\u65f6\uff1a",n.RealTime,"")}}function g(t,e){if(1&t&&(h.ec(0,"span"),h.Hc(1),h.dc()),2&t){var n=h.pc().$implicit;h.Nb(1),h.Ic(n.text)}}function p(t,e){if(1&t&&(h.ec(0,"h5"),h.Hc(1),h.dc()),2&t){var n=h.pc().$implicit;h.Nb(1),h.Ic(n.text)}}function b(t,e){if(1&t&&(h.ec(0,"ion-col",18),h.ec(1,"ion-text",9),h.Fc(2,g,2,1,"span",7),h.Fc(3,p,2,1,"h5",7),h.dc(),h.dc()),2&t){var n=e.$implicit;h.Nb(1),h.Ec("color",n.color),h.Nb(1),h.uc("ngIf",!n.bz),h.Nb(1),h.uc("ngIf",n.bz)}}function m(t,e){if(1&t&&(h.ec(0,"ion-row",18),h.Fc(1,b,4,4,"ion-col",10),h.dc()),2&t){var n=e.$implicit;h.Nb(1),h.uc("ngForOf",n)}}function v(t,e){if(1&t&&(h.ec(0,"td"),h.Hc(1),h.dc()),2&t){var n=e.$implicit;h.Nb(1),h.Ic(n)}}function N(t,e){if(1&t&&(h.ec(0,"tr"),h.Fc(1,v,2,1,"td",12),h.dc()),2&t){var n=e.$implicit;h.Nb(1),h.uc("ngForOf",n)}}function y(t,e){if(1&t){var n=h.fc();h.ec(0,"div",19),h.ec(1,"div",20),h.Hc(2),h.dc(),h.ec(3,"div",21),h.mc("click",(function(){h.Ac(n);var t=e.index;return h.pc().SelectedDY=t})),h.ec(4,"div",22),h.Hc(5),h.dc(),h.ec(6,"div",23),h.Hc(7),h.dc(),h.dc(),h.ec(8,"div",20),h.Hc(9),h.dc(),h.ec(10,"div"),h.Hc(11),h.dc(),h.dc()}if(2&t){var c=e.$implicit,i=e.index,a=h.pc();h.Nb(2),h.Ic(c[1]),h.Nb(1),h.Ec("background-color",a.SelectedDY===i?"skyblue":"white"),h.Nb(2),h.Ic(c[2][0]),h.Nb(2),h.Ic(c[2][1]),h.Nb(2),h.Ic(c[3]),h.Nb(2),h.Ic(c[8])}}function S(t,e){if(1&t){var n=h.fc();h.ec(0,"tr"),h.ec(1,"td"),h.Hc(2),h.dc(),h.ec(3,"td"),h.Hc(4),h.dc(),h.ec(5,"td",21),h.mc("click",(function(t){h.Ac(n);var c=e.$implicit;return h.pc(2).ShowDetail(c,t)})),h.ec(6,"span",20),h.Hc(7),h.dc(),h.ec(8,"span",25),h.Hc(9),h.dc(),h.ec(10,"span",20),h.Hc(11),h.dc(),h.dc(),h.ec(12,"td",21),h.mc("click",(function(t){h.Ac(n);var c=e.$implicit;return h.pc(2).ShowDetail(c,t)})),h.ec(13,"span",20),h.Hc(14),h.dc(),h.ec(15,"span",25),h.Hc(16),h.dc(),h.ec(17,"span",20),h.Hc(18),h.dc(),h.dc(),h.dc()}if(2&t){var c=e.$implicit,i=e.index,a=h.pc().$implicit;h.Nb(2),h.Ic(c[0]),h.Nb(2),h.Ic(c[8]),h.Nb(3),h.Jc("(",c[1],")"),h.Nb(2),h.Ic(c[2]),h.Nb(2),h.Jc("(",c[3],")"),h.Nb(3),h.Jc("(",a.xiao[i][1],")"),h.Nb(2),h.Ic(a.xiao[i][2]),h.Nb(2),h.Jc("(",a.xiao[i][3],")")}}function x(t,e){if(1&t&&(h.ec(0,"sui-accordion",2),h.ec(1,"sui-accordion-panel",3),h.ec(2,"div",4),h.ac(3,"i",5),h.Hc(4),h.dc(),h.ec(5,"div",6),h.ec(6,"table",24),h.ec(7,"thead"),h.ec(8,"tr"),h.ec(9,"th"),h.Hc(10,"\u5e74\u4efd"),h.dc(),h.ec(11,"th"),h.Hc(12,"\u5c81\u6570"),h.dc(),h.ec(13,"th"),h.Hc(14,"\u6d41\u5e74"),h.dc(),h.ec(15,"th"),h.Hc(16,"\u5c0f\u8fd0"),h.dc(),h.dc(),h.dc(),h.ec(17,"tbody"),h.Fc(18,S,19,8,"tr",12),h.dc(),h.dc(),h.dc(),h.dc(),h.dc()),2&t){var n=e.$implicit;h.uc("closeOthers",!0),h.Nb(1),h.uc("isOpen",!1),h.Nb(3),h.Jc(" ",n.name," "),h.Nb(14),h.uc("ngForOf",n.liu)}}var G=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.toastController=e,this.popoverCtrl=n,this.ShowDayun=!1,this.ShowLiunian=!1,this.ShowXiaoyun=!1,this.selectedDayun=0,this.SelectedLiu=0,this.SelectedXiao=0,this.AllLiuNian=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.initBaseInfo(),this.Reflash(null)}},{key:"Reflash",value:function(t){t&&(console.log("........"),this.config=Object(r.b)(t)),console.log("Bazi config",t,this.config),this.initYuanju(""===this.RealTime?this.Birthday:this.RealTime),this.initShenShas(),this.SelectedDY=0,this.initDayuns()}},{key:"ChangeDayun",value:function(t){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.SelectedDY=t,n=this.bazi.DaYun[t-1].Start.toChinaStr(),c=this.bazi.DaYun[t-1].GZ.Name,e.next=5,this.toastController.create({message:"\u5927\u8fd0".concat(c," \u5f00\u59cb\u4e8e ").concat(n),duration:3e3});case 5:return i=e.sent,e.next=8,i.present();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"ShowDetail",value:function(t,e){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var c,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="".concat(this.bazi.Y.Gan.Name," ").concat(this.bazi.M.Gan.Name," ").concat(this.bazi.D.Gan.Name," ").concat(this.bazi.T.Gan.Name),i="".concat(this.bazi.Y.Zhi.Name," ").concat(this.bazi.M.Zhi.Name," ").concat(this.bazi.D.Zhi.Name," ").concat(this.bazi.T.Zhi.Name),n.next=4,this.popoverCtrl.create({component:u.a,event:e,componentProps:{items:[{name:"\u516b\u5b57",value:"<span>".concat(c,"</span><br><span>").concat(i,"</span>")},{name:"\u85cf\u5e72",value:t[4]},{name:"\u7eb3\u97f3",value:t[5]},{name:"\u957f\u751f\u5bab",value:t[6]},{name:"\u795e\u715e",value:t[7]}],toselect:!1},translucent:!0});case 4:return a=n.sent,n.next=7,a.present();case 7:return n.next=9,a.onDidDismiss();case 9:case"end":return n.stop()}}),n,this)})))}},{key:"initBaseInfo",value:function(){var t,e=this.baziText.place,n=o.a.FindCity(e[0],e[1]);this.Place=n?"".concat(e[0],"\u7701/\u5e02 ").concat(e[1],"\u5e02/\u53bf/\u533a"):"\u672a\u77e5",this.Gender=this.baziText.male?"\u4e7e":"\u5764",this.Person="".concat(this.baziText.person," (").concat(this.Gender,"\u9020)");var c=this.baziText.time.parseDate();this.Birthday=c.toChinaStr(!0);var i=new s.a(c);if(this.BirthdayN="".concat(i.GZyear,"\u5e74").concat(i.NLleap).concat(i.NLmonth,"\u6708").concat(i.NLdate),this.baziText.realsuntime){var a=n?o.a.CalcTimeOff(n.Code):null;t=new Date(c.getTime()+6e4*a),this.RealTime=t.toChinaStr(!0)}else this.RealTime=""}},{key:"initYuanju",value:function(t){var e=[],n=t.parseDate();this.bazi=new a.a(n,this.baziText.male?"m":"f");var c=this.config.shortname?1:0;if(e.push(this.bazi.All.select((function(t){return{text:t.Shen10Gan[c],color:"gray",bz:!1}}))),e.push(this.bazi.All.select((function(t){return{text:t.Gan.Name,color:"darkblue",bz:!0}}))),e.push(this.bazi.All.select((function(t){return{text:t.Zhi.Name,color:"darkblue",bz:!0}}))),e.push(this.bazi.All.select((function(t){return{text:t.Shen10Zhi[c],color:"gray",bz:!1}}))),e[0].insert(0,{text:this.Gender,color:"",bz:!1}),e[1].insert(0,{text:"\u9020",color:"",bz:!1}),e[2].insert(0,{text:"",color:"",bz:!1}),e[3].insert(0,{text:"",color:"",bz:!1}),this.config.yuanju.cangan){var i=this.bazi.All.select((function(t){return{text:t.Zhi.CGan.map((function(t){return t.Name})).join(""),color:""}}));i.insert(0,{text:"\u85cf\u5e72",color:"gray"}),e.push(i)}if(this.config.yuanju.nayin){var o=this.bazi.All.select((function(t){return{text:t.NaYin,color:""}}));o.insert(0,{text:"\u7eb3\u97f3",color:"gray"}),e.push(o)}if(this.config.yuanju.changshen){var s=this.bazi.All.select((function(t){return{text:t.ChangSheng,color:""}}));s.insert(0,{text:"\u957f\u751f",color:"gray"}),e.push(s)}this.yuanju=e}},{key:"initShenShas",value:function(){for(var t=[],e=this.bazi.ShenSha.length,n=0;n<e;n++)t.push("[".concat(this.bazi.ShenSha[n].Name," - ").concat(this.bazi.ShenSha[n].Result.join(""),"]"));var c=this.config.shensha;this.ShenShas=[];for(var i=0;i<=e;i+=c){var a=t.slice(i,i+c>e?e:i+c);this.ShenShas.push(a)}var o=c-this.ShenShas[this.ShenShas.length-1].length;if(o>0)for(var s=0;s<o;s++)this.ShenShas[this.ShenShas.length-1].push("");this.ShenShaHead="[\u547d\u5bab - ".concat(this.bazi.MingGong.Name,"] [\u80ce\u5143 - ").concat(this.bazi.TaiYuan.Name,"]")}},{key:"initDayuns",value:function(){var t=this,e=this.config.shortname?1:0,n=this.bazi.Birthday.getFullYear(),c=[];this.bazi.DaYun.forEach((function(i){var a=[];a.push("".concat(i.Start.toChinaStr())),a.push(i.GZ.Shen10Gan[e]),a.push(i.GZ.Name),a.push(i.GZ.Shen10Zhi[e]),a.push(i.GZ.Zhi.CGan.map((function(t){return t.Name})).join("")),a.push(i.GZ.NaYin),a.push(i.GZ.ChangSheng),a.push(t.bazi.CalcShenSha(i.GZ)),a.push(i.Start.getFullYear()-n),c.push(a)})),this.Dayuns=c,this.SelectedDY=0;var i=[],a=!0,o=!1,s=void 0;try{for(var r,u=this.bazi.DaYun[Symbol.iterator]();!(a=(r=u.next()).done);a=!0){var h=r.value,l=this.calcXiaoyun(h.Start.getFullYear(),h.End.getFullYear());i.push({name:"".concat(h.GZ.Name,"\u8fd0 ").concat(h.Start.toChinaStr()),liu:l[0],xiao:l[1]})}}catch(d){o=!0,s=d}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}this.AllLiuNian=i}},{key:"calcXiaoyun",value:function(t,e){var n=this,c=this.config.shortname?1:0,i=[],a=[],o=this.bazi.Birthday.toChinaStr();return o=o.replace(this.bazi.Birthday.getFullYear().toString(),"##"),this.bazi.CalcLiuNian(t,e).forEach((function(t){var e=[],o=[];e.push("".concat(t.Start.getFullYear())),o.push("".concat(t.Start.getFullYear(),"\u5e74").concat(n.bazi.Birthday.getMonth()+1,"\u6708").concat(n.bazi.Birthday.getDate()+1,"\u65e5")),e.push(t.GZ.Shen10Gan[c]),e.push(t.GZ.Name),e.push(t.GZ.Shen10Zhi[c]),o.push(t.GZ2.Shen10Gan[c]),o.push(t.GZ2.Name),o.push(t.GZ2.Shen10Zhi[c]),i.push(e),a.push(o),e.push(t.GZ.Zhi.CGan.map((function(t){return t.Name})).join("")),o.push(t.GZ2.Zhi.CGan.map((function(t){return t.Name})).join("")),e.push(t.GZ.NaYin),o.push(t.GZ2.NaYin),e.push(t.GZ.ChangSheng),o.push(t.GZ2.ChangSheng),e.push(n.bazi.CalcShenSha(t.GZ)),o.push(n.bazi.CalcShenSha(t.GZ2)),e.push(t.Start.getFullYear()-n.bazi.Birthday.getFullYear())})),[i,a]}},{key:"Config",set:function(t){this.config=Object(r.b)(t)}},{key:"FontSize",get:function(){return"".concat(this.config.fontsize,"px")}},{key:"YuanJu",get:function(){return this.yuanju}},{key:"DayunName",get:function(){return this.dayunname}},{key:"SelectedDY",get:function(){return this.selectedDayun},set:function(t){this.selectedDayun=t;var e=this.bazi.DaYun[t];e.Start.getFullYear(),this.dayunname="\u5927\u8fd0 - ".concat(e.GZ.Name)}},{key:"BaziText",set:function(t){this.baziText=t}},{key:"BaziInText",get:function(){return"".concat(this.bazi.Y.Name," / ").concat(this.bazi.M.Name," / ").concat(this.bazi.D.Name," / ").concat(this.bazi.T.Name," ")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Zb(i.kb),h.Zb(i.gb))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-baziview"]],inputs:{Config:"Config",BaziText:"BaziText"},decls:63,vars:27,consts:[[1,"ui","attached","segment",2,"margin-left","3px","max-width","500px"],[1,"ui","blue","ribbon","label"],[3,"closeOthers"],[3,"isOpen"],["title",""],[1,"dropdown","icon"],["content",""],[4,"ngIf"],["lines","none"],[1,"bzgrid"],["class","ion-no-padding bzgrid",4,"ngFor","ngForOf"],[2,"width","100%"],[4,"ngFor","ngForOf"],[1,"ui","equal","width","grid"],["class","column","style","padding-left: 0;padding-right: 0;text-align: center",4,"ngFor","ngForOf"],[1,"ion-no-padding"],[1,"item"],[3,"closeOthers",4,"ngFor","ngForOf"],[1,"ion-no-padding","bzgrid"],[1,"column",2,"padding-left","0","padding-right","0","text-align","center"],[2,"color","gray"],[3,"click"],[2,"margin-top","3px","font-weight","bold"],[2,"margin-bottom","3px","font-weight","bold"],[1,"ui","unstackable","very","basic","table","compact","striped"],[2,"font-weight","bold"]],template:function(t,e){1&t&&(h.ec(0,"div",0),h.ec(1,"div"),h.ec(2,"a",1),h.Hc(3),h.dc(),h.dc(),h.ec(4,"sui-accordion",2),h.ec(5,"sui-accordion-panel",3),h.ec(6,"div",4),h.ac(7,"i",5),h.Hc(8),h.dc(),h.ec(9,"div",6),h.ec(10,"span"),h.Hc(11),h.dc(),h.ac(12,"br"),h.ec(13,"span"),h.Hc(14),h.dc(),h.ac(15,"br"),h.ec(16,"span"),h.Hc(17),h.dc(),h.ac(18,"br"),h.Fc(19,f,2,1,"span",7),h.ac(20,"br"),h.dc(),h.dc(),h.dc(),h.ec(21,"ion-item",8),h.ec(22,"ion-grid",9),h.Fc(23,m,2,1,"ion-row",10),h.dc(),h.dc(),h.ec(24,"sui-accordion",2),h.ec(25,"sui-accordion-panel",3),h.ec(26,"div",4),h.ac(27,"i",5),h.Hc(28),h.dc(),h.ec(29,"div",6),h.ec(30,"table",11),h.Fc(31,N,2,1,"tr",12),h.dc(),h.dc(),h.dc(),h.dc(),h.ec(32,"sui-accordion",2),h.ec(33,"sui-accordion-panel",3),h.ec(34,"div",4),h.ac(35,"i",5),h.Hc(36),h.dc(),h.ec(37,"div",6),h.ec(38,"div",13),h.Fc(39,y,12,7,"div",14),h.dc(),h.ec(40,"ion-list",15),h.ec(41,"ion-item",16),h.ec(42,"small"),h.Hc(43),h.dc(),h.dc(),h.ec(44,"ion-item",16),h.ec(45,"small"),h.Hc(46),h.dc(),h.dc(),h.ec(47,"ion-item",16),h.ec(48,"small"),h.Hc(49),h.dc(),h.dc(),h.ec(50,"ion-item",16),h.ec(51,"small"),h.Hc(52),h.dc(),h.dc(),h.ec(53,"ion-item",16),h.ec(54,"small"),h.Hc(55),h.dc(),h.dc(),h.dc(),h.dc(),h.dc(),h.dc(),h.ec(56,"sui-accordion",2),h.ec(57,"sui-accordion-panel",3),h.ec(58,"div",4),h.ac(59,"i",5),h.Hc(60," \u6d41\u5e74\u5c0f\u8fd0 "),h.dc(),h.ec(61,"div",6),h.Fc(62,x,19,4,"sui-accordion",17),h.dc(),h.dc(),h.dc(),h.dc()),2&t&&(h.Nb(3),h.Jc(" ",e.BaziInText," "),h.Nb(1),h.uc("closeOthers",!1),h.Nb(1),h.uc("isOpen",!1),h.Nb(3),h.Jc(" \u547d\u4e3b\uff1a",e.Person," "),h.Nb(3),h.Jc("\u751f\u65e5\uff1a",e.Birthday,""),h.Nb(3),h.Jc("\u519c\u5386\uff1a",e.BirthdayN,""),h.Nb(3),h.Jc("\u51fa\u751f\u5730\uff1a",e.Place,""),h.Nb(2),h.uc("ngIf",""!=e.RealTime),h.Nb(3),h.Ec("font-size",e.FontSize),h.Nb(1),h.uc("ngForOf",e.YuanJu),h.Nb(1),h.uc("closeOthers",!1),h.Nb(1),h.uc("isOpen",!1),h.Nb(3),h.Jc(" \u795e\u715e\uff1a",e.ShenShaHead," "),h.Nb(3),h.uc("ngForOf",e.ShenShas),h.Nb(1),h.uc("closeOthers",!1),h.Nb(1),h.uc("isOpen",!1),h.Nb(3),h.Jc(" \u5927\u8fd0\uff1a",e.DayunName," "),h.Nb(3),h.uc("ngForOf",e.Dayuns),h.Nb(4),h.Jc("\u8d77\u59cb: ",e.Dayuns[e.SelectedDY][0],""),h.Nb(3),h.Jc("\u85cf\u5e72: ",e.Dayuns[e.SelectedDY][4],""),h.Nb(3),h.Jc("\u7eb3\u97f3: ",e.Dayuns[e.SelectedDY][5],""),h.Nb(3),h.Jc("\u957f\u751f\u4e8c\u5341\u5bab: ",e.Dayuns[e.SelectedDY][6],""),h.Nb(3),h.Jc("\u7eb3\u97f3: ",e.Dayuns[e.SelectedDY][7],""),h.Nb(1),h.uc("closeOthers",!0),h.Nb(1),h.uc("isOpen",!1),h.Nb(5),h.uc("ngForOf",e.AllLiuNian))},directives:[l.a,l.b,d.j,i.x,i.s,d.i,i.E,l.c,i.M,i.m,i.U],styles:[".bzgrid[_ngcontent-%COMP%]{padding:0}.selected[_ngcontent-%COMP%]{background-color:#faebd7}"]}),t}()},n7QD:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n("ofXK"),i=n("3Pt+"),a=n("c7TG"),o=(n("ylIl"),n("i/bi")),s=n("fXoL"),r=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=s.Xb({type:t}),t.\u0275inj=s.Wb({factory:function(e){return new(e||t)},imports:[[c.b,i.c,o.d,a.ab]]}),t}()},uEAi:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n("ofXK"),i=n("3Pt+"),a=n("c7TG"),o=(n("gTpY"),n("i/bi")),s=n("fXoL"),r=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=s.Xb({type:t}),t.\u0275inj=s.Wb({factory:function(e){return new(e||t)},imports:[[c.b,i.c,o.d,a.ab]]}),t}()},ylIl:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var c=n("mrSG"),i=n("c7TG"),a=(n("0eVs"),n("pNW8")),o=n("LTmD"),s=n("2QJI"),r=n("fXoL"),u=n("i/bi"),h=n("ofXK");function l(t,e){if(1&t&&(r.ec(0,"td",13),r.Hc(1),r.dc()),2&t){var n=e.$implicit;r.Ec("color",n.color),r.uc("colSpan",n.span),r.Nb(1),r.Ic(n.txt)}}function d(t,e){if(1&t&&(r.ec(0,"tr"),r.Fc(1,l,2,4,"td",16),r.dc()),2&t){var n=e.$implicit;r.Nb(1),r.uc("ngForOf",n)}}function f(t,e){if(1&t){var n=r.fc();r.ec(0,"td",17),r.mc("click",(function(){return r.Ac(n),r.pc().calcColor(null)})),r.Hc(1),r.dc()}if(2&t){var c=e.$implicit;r.uc("colSpan",c.span),r.Nb(1),r.Ic(c.txt)}}function g(t,e){if(1&t){var n=r.fc();r.ec(0,"td",19),r.mc("click",(function(){r.Ac(n);var t=e.index,c=r.pc().index;return r.pc().tostNayin(c,t)})),r.dc()}if(2&t){var c=e.$implicit;r.Ec("color",c.color),r.uc("innerHTML",c.text,r.Bc)}}function p(t,e){if(1&t&&(r.ec(0,"tr"),r.Fc(1,g,1,3,"td",18),r.dc()),2&t){var n=e.$implicit;r.Nb(1),r.uc("ngForOf",n)}}var b=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.toastController=e,this.settings=n,this.smallSymbol=!1,this.ColorRiYue=["","","",""],this.YaoSymbols=[{svg:"assets/shaoyin.svg",name:"\u5c11\u9634"},{svg:"assets/shaoyan.svg",name:"\u5c11\u9633"},{svg:"assets/laoyin.svg",name:"\u8001\u9634"},{svg:"assets/laoyan.svg",name:"\u8001\u9633"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"Reflash",value:function(t){t&&(this.config=Object(o.b)(t)),this.initShensha(),this.calcGuaLine()}},{key:"tostNayin",value:function(t,e){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var c,i,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=5-t,i=e<=4?1:2,i=e<=1?0:i,a=this.Gua.Ben.GanZhis[c],0===i?a=this.Gua.FuGua.GanZhis[c]:2===i&&(a=this.Gua.Bian.GanZhis[c]),n.next=7,this.toastController.create({message:"".concat(a.Name," - ").concat(a.NaYin),duration:3e3});case 7:return o=n.sent,n.next=10,o.present();case 10:this.calcColor(a.Zhi.Index);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"calcColor",value:function(t){var e=null===t,n=e?"XX":new s.b(t).Zhi.Name,c=e?"XX":new s.b((t+6)%12).Zhi.Name,i=e?"XX":new s.b((13-t)%12).Zhi.Name;this.ShenSha.forEach((function(t){t.forEach((function(t){t.color=t.txt.includes(n)?"#4854e0":t.txt.includes(c)?"#cf3c4f":t.txt.includes(i)?"#28ba62":""}))})),this.gualine.forEach((function(t){t.forEach((function(t){t.color=t.text.includes(n)?"#4854e0":t.text.includes(c)?"#cf3c4f":t.text.includes(i)?"#28ba62":""}))}));for(var a=[this.Gua.Yue.Name,this.Gua.Ri.Name,this.Xunkong[0],this.Xunkong[1]],o=0;o<4;o++)this.ColorRiYue[o]=a[o].includes(n)?"#4854e0":a[o].includes(c)?"#cf3c4f":a[o].includes(i)?"#28ba62":""}},{key:"ChangSymbol",value:function(){!1===this.smallSymbol?(this.config_s=Object(o.b)(this.config),this.config.shensha=4,this.config.shortname=!0,this.config.shensha=4):this.config=Object(o.b)(this.config_s),this.smallSymbol=!this.smallSymbol,this.Reflash(null)}},{key:"initGua",value:function(){this.Titel="\u95ee\u5ff5\uff1a"+this.guaText.question,this.Gua=new a.a(this.guaText.time,this.guaText.ben,this.guaText.bian),this.GuaTime="\u8d77\u5366\u65f6\u95f4\uff1a"+("string"==typeof this.guaText.time?this.guaText.time:"".concat(this.guaText.time[0],"\u6708 ").concat(this.guaText.time[1],"\u65e5")).replace("00:00:00",""),this.Reflash(null)}},{key:"initShensha",value:function(){var t=this.config.shensha;this.shensha=[];for(var e=0;e<this.Gua.ShenShas.length-1;e+=t){for(var n=[],c=0;c<t;c++)if(!(c+e>=this.Gua.ShenShas.length-1)){var i=e+c===this.Gua.ShenShas.length-2,a=this.Gua.ShenShas[c+e];n.push({txt:"[".concat(a.Name," - ").concat(a.Result.join(""),"]"),span:i?2:1,color:""})}this.shensha.push(n)}}},{key:"calcGuaLine",value:function(){var t=['<img src="assets/svg/shaoyin32.svg"></img>','<img src="assets/svg/shaoyan32.svg"></img>','<img src="assets/svg/arrowX.svg"></img>','<img src="assets/svg/arrowO.svg"></img>'];this.gualine=[];for(var e=6;e>0;e--){for(var n=this.Gua.GetLine(e,this.config.shortname),c=[],i=0,a="string"==typeof n[1]?4:3,o=a+1,s=0;s<n.length;s++){var r="number"==typeof n[s]?t[n[s]%2]:n[s];if(i="number"==typeof n[s]?n[s]%2:i,""===r)switch(s){case 1:case a:case o:c.push({text:"",color:""})}else c.push(">"===r&&s===o?{text:t[0===i?2:3],color:""}:{text:1===s?"<small>".concat(r,"</small>"):r,color:""})}this.gualine.push(c)}this.guachi=[],this.guachi.push({txt:this.Gua.Ben.GuaGong,span:2});var u=""!==this.Gua.Ben.Property?"(".concat(this.Gua.Ben.Property,")"):"";this.guachi.push({txt:"".concat(this.Gua.Ben.Name).concat(u),span:this.HasBianGua?4:2}),this.Gua.Ben.Index!==this.Gua.Bian.Index?(u=""!==this.Gua.Bian.Property?"(".concat(this.Gua.Bian.Property,")"):"",this.guachi.push({txt:"".concat(this.Gua.Bian.Name).concat(u),span:2})):this.guachi.push({txt:"",span:2})}},{key:"Config",set:function(t){this.config=Object(o.b)(t)}},{key:"FontSize",get:function(){return"".concat(this.config.fontsize,"px")}},{key:"GuaText",get:function(){return this.guaText},set:function(t){this.guaText=t,this.initGua()}},{key:"ShenSha",get:function(){return this.shensha}},{key:"Xunkong",get:function(){return this.Gua.ShenShas[this.Gua.ShenShas.length-1].Result}},{key:"GuaLine",get:function(){return this.gualine}},{key:"GuaChi",get:function(){return this.guachi}},{key:"GuaInText",get:function(){return this.Gua.Ben.Index===this.Gua.Bian.Index?this.Gua.Ben.Name:"".concat(this.Gua.Ben.NameS,"\u4e4b").concat(this.Gua.Bian.NameS)}},{key:"HasBianGua",get:function(){return this.Gua.Ben.Index!==this.Gua.Bian.Index}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Zb(i.kb),r.Zb(o.a))},t.\u0275cmp=r.Tb({type:t,selectors:[["app-guaview"]],inputs:{Config:"Config",GuaText:"GuaText"},decls:36,vars:23,consts:[[1,"ui","attached","segment",2,"margin-left","3px","max-width","500px"],[1,"ui","teal","ribbon","label"],[1,"ui","top","right","attached","icon","basic","label",3,"click"],[1,"cut","icon"],[3,"closeOthers"],[3,"isOpen"],["title",""],[1,"dropdown","icon"],["content",""],[2,"width","100%"],[4,"ngFor","ngForOf"],[1,"ui","unstackable","very","basic","table"],["colspan","2"],[3,"colSpan"],[1,"ui","unstackable","very","basic","table","compact"],[3,"colSpan","click",4,"ngFor","ngForOf"],[3,"colSpan","color",4,"ngFor","ngForOf"],[3,"colSpan","click"],["class","left aligned","style","padding-left:0;padding-right:0;",3,"innerHTML","color","click",4,"ngFor","ngForOf"],[1,"left","aligned",2,"padding-left","0","padding-right","0",3,"innerHTML","click"]],template:function(t,e){1&t&&(r.ec(0,"div",0),r.ec(1,"div"),r.ec(2,"a",1),r.Hc(3),r.dc(),r.Hc(4),r.ec(5,"a",2),r.mc("click",(function(){return e.ChangSymbol()})),r.ac(6,"i",3),r.dc(),r.dc(),r.ec(7,"sui-accordion",4),r.ec(8,"sui-accordion-panel",5),r.ec(9,"div",6),r.ac(10,"i",7),r.Hc(11),r.dc(),r.ec(12,"div",8),r.ec(13,"p"),r.Hc(14),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(15,"table",9),r.Fc(16,d,2,1,"tr",10),r.dc(),r.ec(17,"table",11),r.ec(18,"tr"),r.ec(19,"td",12),r.Hc(20),r.dc(),r.ec(21,"td",13),r.Hc(22),r.dc(),r.ec(23,"td",12),r.Hc(24,"(\u65ec\u7a7a\uff1a "),r.ec(25,"span"),r.Hc(26),r.dc(),r.ec(27,"span"),r.Hc(28),r.dc(),r.Hc(29,") "),r.dc(),r.dc(),r.dc(),r.ec(30,"table",14),r.ec(31,"thead"),r.ec(32,"tr"),r.Fc(33,f,2,2,"td",15),r.dc(),r.dc(),r.ec(34,"tbody"),r.Fc(35,p,2,1,"tr",10),r.dc(),r.dc(),r.dc()),2&t&&(r.Nb(3),r.Jc(" ",e.GuaInText," "),r.Nb(1),r.Kc(" ",e.Gua.Yue.Name,"\u6708 ",e.Gua.Ri.Name,"\u65e5 "),r.Nb(3),r.uc("closeOthers",!1),r.Nb(1),r.uc("isOpen",!0),r.Nb(3),r.Jc(" ",e.Titel," "),r.Nb(3),r.Ic(e.GuaTime),r.Nb(2),r.uc("ngForOf",e.ShenSha),r.Nb(3),r.Ec("color",e.ColorRiYue[0]),r.Nb(1),r.Jc("",e.Gua.Yue.Name,"\u6708"),r.Nb(1),r.Ec("color",e.ColorRiYue[1]),r.uc("colSpan",e.HasBianGua?4:2),r.Nb(1),r.Jc("",e.Gua.Ri.Name,"\u65e5"),r.Nb(3),r.Ec("color",e.ColorRiYue[2]),r.Nb(1),r.Ic(e.Xunkong[0]),r.Nb(1),r.Ec("color",e.ColorRiYue[3]),r.Nb(1),r.Ic(e.Xunkong[1]),r.Nb(5),r.uc("ngForOf",e.GuaChi),r.Nb(2),r.uc("ngForOf",e.GuaLine))},directives:[u.a,u.b,h.i],styles:[".guatb[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.guagrid[_ngcontent-%COMP%]{margin-top:5px;margin-left:0;margin-right:0;--ion-grid-width-lg:540px;--ion-grid-width-md:540px;--ion-grid-width-sm:540px;--ion-grid-width-xl:540px;--ion-grid-width-xs:100%}.debug[_ngcontent-%COMP%]{border-color:red;border-style:solid}.guayao[_ngcontent-%COMP%]{margin-top:5px;border-bottom:1px dashed grey}table[_ngcontent-%COMP%]{padding:0;margin:0;background-color:#fff}td[_ngcontent-%COMP%]{padding-left:0;padding-right:0;border-collapse:collapse;text-align:left}"]}),t}()}}]);