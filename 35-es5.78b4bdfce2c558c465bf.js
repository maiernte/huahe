function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var c=n[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{bZWr:function(e,n,t){"use strict";t.r(n);var c=t("ofXK"),i=t("3Pt+"),r=t("tyNb"),o=t("c7TG"),a=t("mrSG"),s=t("LTmD"),u=t("PKx9"),l=t("G6JS"),f=t("fXoL");function h(e,n){if(1&e){var t=f.fc();f.ec(0,"ion-item"),f.ec(1,"ion-label"),f.Hc(2,"\u540d\u5b57\uff1a"),f.dc(),f.ec(3,"ion-input",11),f.mc("ngModelChange",(function(e){return f.Ac(t),f.pc().SearchName=e})),f.dc(),f.dc()}if(2&e){var c=f.pc();f.Nb(3),f.uc("ngModel",c.SearchName)}}function d(e,n){if(1&e){var t=f.fc();f.ec(0,"ion-chip",4),f.mc("click",(function(){f.Ac(t);var e=n.$implicit;return f.pc(2).SearchRole=e.value})),f.ec(1,"ion-avatar"),f.ac(2,"img",14),f.dc(),f.ec(3,"ion-text",15),f.Hc(4),f.dc(),f.dc()}if(2&e){var c=n.$implicit,i=f.pc(2);f.Nb(2),f.uc("src",c.icon,f.Cc),f.Nb(1),f.uc("color",i.SearchRole===c.value?"success":"medium"),f.Nb(1),f.Ic(c.name)}}function m(e,n){if(1&e&&(f.ec(0,"ion-item"),f.ec(1,"ion-label",12),f.Fc(2,d,5,3,"ion-chip",13),f.dc(),f.dc()),2&e){var t=f.pc();f.Nb(2),f.uc("ngForOf",t.Roles)}}function g(e,n){if(1&e&&(f.ec(0,"ion-chip"),f.ec(1,"ion-avatar"),f.ac(2,"img",14),f.dc(),f.ec(3,"ion-text"),f.Hc(4),f.dc(),f.dc()),2&e){var t=n.$implicit;f.Nb(2),f.uc("src",t.icon,f.Cc),f.Nb(2),f.Ic(t.name)}}function b(e,n){if(1&e){var t=f.fc();f.ec(0,"ion-item"),f.ec(1,"ion-thumbnail",1),f.ac(2,"img",14),f.dc(),f.ec(3,"ion-label",12),f.ec(4,"ion-text",16),f.mc("click",(function(){f.Ac(t);var e=n.$implicit;return f.pc().ShowUserInfo(e.id)})),f.Hc(5),f.dc(),f.Fc(6,g,5,2,"ion-chip",10),f.dc(),f.dc()}if(2&e){var c=n.$implicit,i=f.pc();f.Nb(2),f.uc("src",c.avatar,f.Cc),f.Nb(3),f.Jc(" ",c.id," "),f.Nb(1),f.uc("ngForOf",i.GetRoles(c.roller))}}var p,v=((p=function(){function e(n,t,c,i){_classCallCheck(this,e),this.settings=n,this.forumservice=t,this.modalCtrl=c,this.loadingController=i,this.SearchMode="name",this.SearchName="",this.SearchRole=4,this.Resultes=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"Execute",value:function(){"name"===this.SearchMode&&""!==this.SearchName?this.SearchSingle(this.SearchName):this.SearchRoller(this.SearchRole)}},{key:"SearchSingle",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.showLoading();case 2:this.forumservice.GetUserInfo(e).then((function(e){console.log("SearchSingle",e),e&&(t.Resultes=[e],t.initalUser())})).finally((function(){t.closeLoading()}));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"SearchRoller",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.showLoading();case 2:this.forumservice.GetUserInfo(null,e).then((function(e){console.log("SearchRoller",e),e&&Array.isArray(e)&&(t.Resultes=e,t.initalUser())})).finally((function(){t.closeLoading()}));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"ShowUserInfo",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:l.a,componentProps:{Uerid:e}});case 2:return t=n.sent,n.next=5,t.present();case 5:return n.next=7,t.onWillDismiss();case 7:case"end":return n.stop()}}),n,this)})))}},{key:"GetRoles",value:function(e){return this.settings.UserRolers(e)}},{key:"initalUser",value:function(){var e=this;this.Resultes.forEach((function(n){n.avatar&&""!==n.avatar||(n.avatar=e.settings.Avatar(n.gender))}))}},{key:"showLoading",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.loadingView,e.t0){e.next=5;break}return e.next=4,this.loadingController.create({message:"\u6b63\u5728\u67e5\u627e...",duration:6e4});case 4:this.loadingView=e.sent;case 5:return e.next=7,this.loadingView.present();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"closeLoading",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.loadingView,!e.t0){e.next=5;break}return e.next=4,this.loadingView.dismiss();case 4:this.loadingView=null;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"Roles",get:function(){return this.settings.UserRolers(508)}}]),e}()).\u0275fac=function(e){return new(e||p)(f.Zb(s.a),f.Zb(u.a),f.Zb(o.fb),f.Zb(o.eb))},p.\u0275cmp=f.Tb({type:p,selectors:[["app-searchuser"]],decls:21,vars:4,consts:[["color","primary"],["slot","start"],["defaulthref","","text","\u8fd4\u56de"],["slot","end"],[3,"click"],["name","search"],[3,"ngModel","ngModelChange"],["value","name"],["value","role"],[4,"ngIf"],[4,"ngFor","ngForOf"],["placeholder","\u8f93\u5165\u7528\u6237\u540d\u5b57",3,"ngModel","ngModelChange"],[1,"ion-text-wrap"],[3,"click",4,"ngFor","ngForOf"],[3,"src"],[3,"color"],["color","primary",3,"click"]],template:function(e,n){1&e&&(f.ec(0,"ion-header"),f.ec(1,"ion-toolbar",0),f.ec(2,"ion-buttons",1),f.ac(3,"ion-back-button",2),f.dc(),f.ec(4,"ion-title"),f.Hc(5,"\u67e5\u627e\u7528\u6237"),f.dc(),f.dc(),f.dc(),f.ec(6,"ion-content"),f.ec(7,"ion-item"),f.ec(8,"ion-buttons",3),f.ec(9,"ion-button",4),f.mc("click",(function(){return n.Execute()})),f.ac(10,"ion-icon",5),f.Hc(11," \u6267\u884c "),f.dc(),f.dc(),f.ec(12,"ion-buttons",1),f.ec(13,"ion-segment",6),f.mc("ngModelChange",(function(e){return n.SearchMode=e})),f.ec(14,"ion-segment-button",7),f.Hc(15,"\u6309\u540d\u5b57"),f.dc(),f.ec(16,"ion-segment-button",8),f.Hc(17,"\u6309\u89d2\u8272"),f.dc(),f.dc(),f.dc(),f.dc(),f.Fc(18,h,4,1,"ion-item",9),f.Fc(19,m,3,1,"ion-item",9),f.Fc(20,b,7,3,"ion-item",10),f.dc()),2&e&&(f.Nb(13),f.uc("ngModel",n.SearchMode),f.Nb(5),f.uc("ngIf","name"===n.SearchMode),f.Nb(1),f.uc("ngIf","role"===n.SearchMode),f.Nb(1),f.uc("ngForOf",n.Resultes))},directives:[o.t,o.bb,o.j,o.f,o.g,o.Z,o.n,o.x,o.i,o.u,o.Q,o.kb,i.f,i.g,o.R,c.j,c.i,o.D,o.w,o.lb,o.l,o.e,o.W,o.Y],styles:[""]}),p);t.d(n,"SearchuserPageModule",(function(){return R}));var w,k=[{path:"",component:v}],R=((w=function e(){_classCallCheck(this,e)}).\u0275mod=f.Xb({type:w}),w.\u0275inj=f.Wb({factory:function(e){return new(e||w)},imports:[[c.b,i.c,o.cb,r.i.forChild(k)]]}),w)}}]);