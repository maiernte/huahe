(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{L99X:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("mrSG"),s=i("c7TG"),o=i("LTmD"),a=i("2Vo4"),h=i("Y6BA"),r=(i("xPBH"),i("fXoL")),d=i("e8h1"),c=i("tk/3");let u=(()=>{class e{constructor(e,t,i,n){this.settings=e,this.plateform=t,this.storage=i,this.http=n,this.dbReady=new a.a(!1),this.LoadBooks().then(e=>{if(this.nodes=e||[],0===this.Nodes.length)return this.CreateNode(void 0,"\u4e34\u65f6\u6848\u4f8b",32)}).finally(()=>{this.dbReady.next(!0)})}ReloadBooks(){this.dbReady.next(!1),this.LoadBooks().then(e=>{this.nodes=e||[]}).finally(()=>{this.dbReady.next(!0)})}get DatabaseState(){return this.dbReady.asObservable()}get Nodes(){return this.nodes.filter(e=>e.size>=0)}get NodesAlle(){return this.nodes}get NodeModified(){return Math.max(...this.nodes.map(e=>e.modified))}GetAllNodes(){return new Promise((e,t)=>{this.DatabaseState.subscribe(t=>{t&&e(this.Nodes)})})}SaveNodes(){const t=this.settings.HasUser?`${e.DB_NODES}_${this.settings.User.id}`:e.DB_NODES;return new Promise((e,i)=>{const n=JSON.stringify(this.nodes);this.storage.set(t,n).then(t=>{e(!0)}).catch(e=>{i(!1)})})}CreateNode(e,t,i){return new Promise((n,s)=>{const o={id:Object(h.createGuid)(8),created:0,modified:0,parent:e,name:t||"\u4e34\u65f6\u6848\u4f8b",comment:"",type:i||1,size:0,sync:0};this.nodes=this.nodes||[],this.nodes.push(o),this.SaveNodes().then(e=>{n(this.Nodes)}).catch(e=>{s(e)})})}ChangeNode(e,t,i=null){return new Promise((n,s)=>{const o=this.nodes.where(t=>t.id===e);if(o&&1===o.length){const e=o[0];e.name=t||e.name,e.parent=i||e.parent,this.SaveNodes().then(e=>{n(this.Nodes)}).catch(e=>{s(!1)})}})}DeleteNodes(e){const t=Date.now();return new Promise((i,n)=>{const s=[];this.nodes.forEach(i=>{e.includes(i.id)&&(i.size=-1,i.modified=t,32===i.type&&s.push(i.id))}),this.SaveNodes().then(e=>{i(this.Nodes)}).catch(e=>{n(!1)})})}SyncNodes(e){const t=this.nodes.map(e=>e.id),i=[],n=[];return e.forEach(e=>{if(t.includes(e.id)){if(this.nodes.find(t=>t.id===e.id).modified<e.modified){const t=this.nodes.findIndex(t=>t.id===e.id);this.nodes.splice(t,1,Object(o.b)(e)),i.push(e.id)}}else this.nodes.push(Object(o.b)(e)),i.push(e.id)}),this.CleanNodes(),this.nodes.forEach(t=>{const i=e.find(e=>e.id===t.id);t.name.startsWith("\u516d\u723b")&&console.log("...",i,t),(!i||i.modified<t.modified)&&n.push(t.id)}),i.length>0?(console.log("new Booktree will be saved.",this.nodes),this.SaveNodes().then(()=>[i,n])):Promise.resolve([i,n])}CleanNodes(){const e=Date.now()-2592e6;this.nodes=this.nodes.filter(t=>t.size<0&&t.modified<e||t.size>=0)}GetRecordes(e){return new Promise((t,i)=>{this.storage.get(`Book_${e}`).then(n=>{if(n){const e=JSON.parse(n);t(e.filter(e=>e.size>=0))}else 0===this.Nodes.find(t=>t.id===e).sync?(this.SaveRecordes(e,[]),t([])):i([])}).catch(e=>{i(e)})})}SaveRecordes(e,t,i=!0){console.log("save recordes of ",e);const n=JSON.stringify(t);if(this.storage.set(`Book_${e}`,n),i){const t=this.nodes.find(t=>t.id===e);t.created=0===t.created?Date.now():t.created,t.modified=Date.now(),t.size=n.length,this.SaveNodes()}}CreateRecord(e,t,i,n){return{id:Object(h.createGuid)(8),node:e,created:Date.now(),modified:Date.now(),type:i,titel:t,arg:n,content:"",size:0,sync:0}}SaveRecord(e,t,i,n){return new Promise((s,o)=>{this.storage.get(`Book_${e}`).then(o=>{const a=JSON.parse(o),h=this.CreateRecord(e,t,i,n);a.push(h),this.SaveRecordes(e,a),s(h)})})}DeleteRecordes(e,t){return new Promise((i,n)=>{this.storage.get(`Book_${e}`).then(n=>{const s=JSON.parse(n);s.forEach(e=>{t.includes(e.id)&&(e.size=-1,e.content="",e.arg="",e.modified=Date.now())}),this.SaveRecordes(e,s),i(s.filter(e=>e.size>=0))})})}MoveRecordes(e,t,i){return new Promise((n,s)=>{const o=this.storage.get(`Book_${e}`).then(e=>JSON.parse(e)||[]),a=this.storage.get(`Book_${t}`).then(e=>JSON.parse(e)||[]);Promise.all([o,a]).then(s=>{let o=s[0];const a=s[1];for(const e of i){const i=o.find(t=>t.id===e);i.node=t,a.push(i),o=o.filter(t=>t.id!==e)}console.log("move finish",o,a,i),this.SaveRecordes(e,o),this.SaveRecordes(t,a),n(o.filter(e=>e.size>=0))})})}ChangeBooktreeOfAnonym(t){const i=`${e.DB_NODES}_${t}`;return this.storage.keys().then(t=>t.includes(i)?Promise.reject(`${i} is already hier.`):this.storage.get(e.DB_NODES)).then(e=>e?(console.log("umschreiben booktree to ",i),this.storage.set(`${i}`,e)):Promise.reject("booktree can not founde.")).then(()=>(console.log("umschreiben erfolg!"),this.storage.remove(e.DB_NODES))).then(()=>(console.log(`Record ${e.DB_NODES} will deleted`),!0)).catch(e=>(console.log("ChangeBooktreeOfAnonym denied: ",e),!1))}test(e){return this.storage.get("...").then(t=>(console.log("get ...",t),this.storage.get(e))).then(t=>(console.log(`get ${e}`,t),Promise.resolve(!0)))}WaitInit(){return new Promise((e,t)=>{this.DatabaseState.subscribe(t=>{t&&e(!0)})})}LoadBooks(){return Object(n.b)(this,void 0,void 0,(function*(){yield this.settings.WaitInit();const t=this.settings.HasUser?`${e.DB_NODES}_${this.settings.User.id}`:e.DB_NODES;return console.log(`loadbooks of ${t}`),this.storage.get(t).then(e=>Promise.resolve(Object(o.d)(e))).catch(e=>(console.error("LoadBooks() error:",e),Promise.resolve([])))}))}}return e.DB_NODES="booktree",e.\u0275fac=function(t){return new(t||e)(r.dc(o.a),r.dc(s.Y),r.dc(d.b),r.dc(c.b))},e.\u0275prov=r.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},lotG:function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),s=i("3Pt+"),o=i("tyNb"),a=i("c7TG"),h=i("mrSG"),r=i("L99X"),d=i("LTmD"),c=i("gTpY"),u=i("ylIl"),l=(i("0eVs"),i("fXoL"));let b=(()=>{class e{constructor(e){this.modalCtrl=e}ngOnInit(){}onSave(){this.modalCtrl.dismiss(this.Content)}onCancel(){this.modalCtrl.dismiss("cancel")}onDelete(){this.modalCtrl.dismiss("delete")}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(a.W))},e.\u0275cmp=l.Qb({type:e,selectors:[["app-recordcontenteditor"]],inputs:{Content:"Content"},decls:24,vars:3,consts:[["color","secondary"],["slot","start"],[3,"click"],["name","close-circle"],["slot","end"],["name","save"],["scrollY","true"],["position","stacked"],["slot","end","fill","clear","color","danger",3,"hidden","click"],["name","trash"],["auto-grow","true",2,"background-color","cornsilkd",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(l.Zb(0,"ion-header"),l.Zb(1,"ion-toolbar",0),l.Zb(2,"ion-buttons",1),l.Zb(3,"ion-button",2),l.hc("click",(function(e){return t.onCancel()})),l.Xb(4,"ion-icon",3),l.Zb(5,"ion-text"),l.xc(6,"\u53d6\u6d88"),l.Yb(),l.Yb(),l.Yb(),l.Zb(7,"ion-title"),l.xc(8),l.Yb(),l.Zb(9,"ion-buttons",4),l.Zb(10,"ion-button",2),l.hc("click",(function(e){return t.onSave()})),l.Xb(11,"ion-icon",5),l.Zb(12,"ion-text"),l.xc(13,"\u4fdd\u5b58"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(14,"ion-content",6),l.Zb(15,"ion-item"),l.Zb(16,"ion-label",7),l.xc(17,"\u7f16\u8f91\u5185\u5bb9"),l.Yb(),l.Zb(18,"ion-button",8),l.hc("click",(function(e){return t.onDelete()})),l.Xb(19,"ion-icon",9),l.Zb(20,"ion-label"),l.xc(21,"\u5220\u9664"),l.Yb(),l.Yb(),l.Yb(),l.Zb(22,"ion-item"),l.Zb(23,"ion-textarea",10),l.hc("ngModelChange",(function(e){return t.Content.text=e})),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Mb(8),l.yc(t.Content.type),l.Mb(10),l.oc("hidden",0===t.Content.time),l.Mb(5),l.oc("ngModel",t.Content.text))},directives:[a.p,a.T,a.i,a.h,a.q,a.O,a.R,a.l,a.t,a.u,a.P,a.cb,s.c,s.d],styles:[""]}),e})(),g=(()=>{class e{transform(e,t){return new Date(e).toChinaStr(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.Vb({name:"chinadate",type:e,pure:!0}),e})();function f(e,t){if(1&e&&l.Xb(0,"app-guaview",19),2&e){const e=l.jc();l.oc("Config",e.Config)("GuaText",e.Gua)}}function m(e,t){if(1&e&&l.Xb(0,"app-baziview",20),2&e){const e=l.jc();l.oc("Config",e.Config)("BaziText",e.Bazi)}}function p(e,t){if(1&e){const e=l.ac();l.Zb(0,"ion-item",21),l.hc("click",(function(i){l.rc(e);const n=t.$implicit;return l.jc().EditContent(n)})),l.Zb(1,"ion-note",22),l.xc(2),l.Yb(),l.Zb(3,"ion-label",23),l.Zb(4,"pre"),l.xc(5),l.Yb(),l.Zb(6,"p"),l.Zb(7,"small"),l.xc(8),l.kc(9,"chinadate"),l.Yb(),l.Yb(),l.Yb(),l.Yb()}if(2&e){const e=t.$implicit;l.Mb(2),l.yc(e.type),l.Mb(3),l.yc(e.text),l.Mb(3),l.yc(l.lc(9,3,e.time,!0))}}let x=(()=>{class e{constructor(e,t,i,n,s){this.route=e,this.dbservice=t,this.setting=i,this.alertCtrl=n,this.modalCtrl=s,this.EditModul=!1,this.index=0,this.smallSymbol=!1,this.HiddenCode=!1,this.HiddenTitel="",this.route.params.subscribe(e=>{this.nodeid=e.nodeid,this.recid=e.recid})}ngOnInit(){return Object(h.b)(this,void 0,void 0,(function*(){yield this.setting.WaitInit(),this.guaconfig=Object(d.b)(this.setting.Gua),this.baziconfig=Object(d.b)(this.setting.Bazi),this.content=[],yield this.dbservice.WaitInit(),this.dbservice.GetRecordes(this.nodeid).then(e=>{this.recordes=e,this.updateRecord()}),this.dbservice.GetAllNodes().then(e=>{const t=e.find(e=>e.id===this.nodeid);this.nodename=t.name})}))}get Config(){return this.HasGua?this.guaconfig:this.HasBazi?this.baziconfig:null}get NodeName(){return this.nodename||"\u6848\u4f8b"}get Record(){if(this.recordes){const e=this.recordes.find(e=>e.id===this.recid);return this.index=this.recordes.indexOf(e),e}return null}get Gua(){return this.gua}get Bazi(){return this.bazi}get HasGua(){return!!this.Gua}get HasBazi(){return!!this.Bazi}get Index(){return this.index}get Length(){return(this.recordes||[]).length}get Content(){return this.content||[]}ShowHideCode(){this.HiddenCode=!this.HiddenCode,!0===this.HiddenCode&&(this.guaview?this.HiddenTitel=`${this.guaview.GuaInText} \u95ee: ${this.Record.titel}`:this.baziview&&(this.HiddenTitel=`${this.Record.titel}(${this.baziview.Gender}): ${this.baziview.BaziInText}`))}NextRecord(e){this.index=this.index+e,this.recid=this.recordes[this.Index].id,this.updateRecord()}AddContent(e){return Object(h.b)(this,void 0,void 0,(function*(){this.EditContent({type:e,time:0,text:""})}))}EditContent(e){return Object(h.b)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:b,componentProps:{Content:Object(d.b)(e)}});yield t.present();const{data:i}=yield t.onWillDismiss();if("delete"===i)this.content=this.content.filter(t=>t!==e);else{if("cancel"===i)return;0===i.time?(i.time=Date.now(),this.content.push(i)):(e.time=Date.now(),e.text=i.text)}console.log("save change"),this.Record.content=JSON.stringify(this.content),this.dbservice.SaveRecordes(this.Record.node,this.recordes)}))}ChangSymbol(){!1===this.smallSymbol?(this.guaconfig.shensha=4,this.guaconfig.symbol=1,this.baziconfig.shensha=4):(this.guaconfig=Object(d.b)(this.setting.Gua),this.baziconfig=Object(d.b)(this.setting.Bazi)),this.smallSymbol=!this.smallSymbol,this.guaview&&this.guaview.Reflash(this.guaconfig),this.baziview&&this.baziview.Reflash(this.baziconfig)}EidtTitel(){return Object(h.b)(this,void 0,void 0,(function*(){let e=!1;const t=yield this.alertCtrl.create({header:"\u95ee\u5ff5\uff0f\u540d\u5b57",message:"Message <strong>text</strong>!!!",inputs:[{name:"titel",type:"text",id:"titel-id",value:this.Record.titel}],buttons:[{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary"},{text:"\u786e\u5b9a",handler:()=>{e=!0}}]});yield t.present();const{data:i}=yield t.onWillDismiss();if(e){const e=i.values.titel;this.Record.titel=e,this.guaview?(this.gua.question=e,this.Record.arg=JSON.stringify(this.gua),this.guaview.Titel="\u95ee\u5ff5\uff1a"+e):this.baziview&&(this.bazi.person=e,this.Record.arg=JSON.stringify(this.bazi),this.baziview.Person=`${e} (${this.baziview.Gender}\u9020)`),this.dbservice.SaveRecordes(this.Record.node,this.recordes)}}))}updateRecord(){const e=this.Record;8===e.type?(this.gua=JSON.parse(e.arg),this.bazi=null):16===e.type&&(this.bazi=JSON.parse(e.arg),this.gua=null),this.content=JSON.parse(e.content||"[]")}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(o.a),l.Wb(r.a),l.Wb(d.a),l.Wb(a.b),l.Wb(a.W))},e.\u0275cmp=l.Qb({type:e,selectors:[["app-recordviewer"]],viewQuery:function(e,t){var i;1&e&&(l.Ac(c.a,!0),l.Ac(u.a,!0)),2&e&&(l.qc(i=l.ic())&&(t.baziview=i.first),l.qc(i=l.ic())&&(t.guaview=i.first))},decls:44,vars:11,consts:[["slot","start",3,"hidden"],["defaulthref","","text","\u8fd4\u56de"],["slot","end"],[3,"click"],["name","md-options"],["name","md-code-working"],["position","fixed","margin-horizontal","0",3,"hidden"],[3,"Config","GuaText",4,"ngIf"],[3,"hidden"],[1,"ion-padding"],[3,"Config","BaziText",4,"ngIf"],["lines","inset","detail","",3,"click",4,"ngFor","ngForOf"],["size","small","slot","start","fill","clear",3,"disabled","click"],["slot","icon-only","name","ios-arrow-back"],["size","small",3,"click"],["name","add"],["name","md-clipboard"],["size","small","slot","end","fill","clear",3,"disabled","click"],["slot","icon-only","name","ios-arrow-forward"],[3,"Config","GuaText"],[3,"Config","BaziText"],["lines","inset","detail","",3,"click"],["slot","start"],[1,"ion-text-wrap"]],template:function(e,t){1&e&&(l.Zb(0,"ion-header"),l.Zb(1,"ion-toolbar"),l.Zb(2,"ion-buttons",0),l.Xb(3,"ion-back-button",1),l.Yb(),l.Zb(4,"ion-title"),l.xc(5),l.Yb(),l.Zb(6,"ion-buttons",2),l.Zb(7,"ion-button",3),l.hc("click",(function(e){return t.ChangSymbol()})),l.Xb(8,"ion-icon",4),l.Yb(),l.Zb(9,"ion-button",3),l.hc("click",(function(e){return t.ShowHideCode()})),l.Xb(10,"ion-icon",5),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(11,"div",6),l.wc(12,f,1,2,"app-guaview",7),l.Yb(),l.Zb(13,"ion-item",8),l.Zb(14,"ion-label"),l.xc(15),l.Yb(),l.Yb(),l.Zb(16,"ion-content",9),l.Zb(17,"div",8),l.wc(18,m,1,2,"app-baziview",10),l.Yb(),l.Zb(19,"ion-list"),l.wc(20,p,10,6,"ion-item",11),l.Yb(),l.Yb(),l.Zb(21,"ion-footer"),l.Zb(22,"ion-toolbar"),l.Zb(23,"ion-button",12),l.hc("click",(function(e){return t.NextRecord(-1)})),l.Xb(24,"ion-icon",13),l.Yb(),l.Zb(25,"ion-buttons"),l.Zb(26,"ion-button",14),l.hc("click",(function(e){return t.AddContent("\u80cc\u666f")})),l.Xb(27,"ion-icon",15),l.Zb(28,"ion-text"),l.xc(29,"\u80cc\u666f"),l.Yb(),l.Yb(),l.Zb(30,"ion-button",14),l.hc("click",(function(e){return t.AddContent("\u53cd\u9988")})),l.Xb(31,"ion-icon",15),l.Zb(32,"ion-text"),l.xc(33,"\u53cd\u9988"),l.Yb(),l.Yb(),l.Zb(34,"ion-button",14),l.hc("click",(function(e){return t.AddContent("\u89e3\u8bfb")})),l.Xb(35,"ion-icon",15),l.Zb(36,"ion-text"),l.xc(37,"\u89e3\u8bfb"),l.Yb(),l.Yb(),l.Zb(38,"ion-button",14),l.hc("click",(function(e){return t.EidtTitel()})),l.Xb(39,"ion-icon",16),l.Zb(40,"ion-text"),l.xc(41,"\u95ee\u5ff5"),l.Yb(),l.Yb(),l.Yb(),l.Zb(42,"ion-button",17),l.hc("click",(function(e){return t.NextRecord(1)})),l.Xb(43,"ion-icon",18),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Mb(2),l.oc("hidden",t.EditModul),l.Mb(3),l.yc(t.NodeName),l.Mb(6),l.oc("hidden",t.HiddenCode),l.Mb(1),l.oc("ngIf",t.HasGua),l.Mb(1),l.oc("hidden",!t.HiddenCode),l.Mb(2),l.yc(t.HiddenTitel),l.Mb(2),l.oc("hidden",t.HiddenCode),l.Mb(1),l.oc("ngIf",t.HasBazi),l.Mb(2),l.oc("ngForOf",t.Content),l.Mb(3),l.oc("disabled",0===t.Index),l.Mb(19),l.oc("disabled",t.Index===t.Length-1))},directives:[a.p,a.T,a.i,a.f,a.g,a.R,a.h,a.q,a.d,n.j,a.t,a.u,a.l,a.v,n.i,a.n,a.O,u.a,c.a,a.A],pipes:[g],styles:[""]}),e})();var w=i("uEAi"),S=i("n7QD");i.d(t,"RecordviewerPageModule",(function(){return y}));const v=[{path:"",component:x}];let y=(()=>{class e{}return e.\u0275mod=l.Ub({type:e}),e.\u0275inj=l.Tb({factory:function(t){return new(t||e)},imports:[[w.a,S.a,n.b,s.a,a.U,o.i.forChild(v)]]}),e})()},pNW8:function(e,t,i){"use strict";i.d(t,"b",(function(){return b})),i.d(t,"a",(function(){return g}));var n=i("l+bK"),s=i("2QJI"),o=i("uq+3"),a=i("ZtG1");i("Y6BA");class h{constructor(e,t,i,n,s,o){this.index=e,this.name=t,this.namev=i,this.wuxing=n,this.zhis=s,this.nagan=o,this.value=function(e,t,i){var n=e.toString(2);if(n.length>=3)return n;for(;n.length<3;)n="0"+n;return n}(e)}get Index(){return this.index}get Name(){return this.name}get NameV(){return this.namev}get Value(){return this.value}get WuXing(){return this.wuxing}get Zhis(){return this.zhis}get NaGan(){return this.nagan}GanZhi(e){return new s.b((e=(e+6)%6)<3?[this.NaGan[0],this.Zhis[e]]:[this.NaGan[1],this.Zhis[e]])}}let r=new Array,d=(()=>{class e{constructor(e,t){this.shang=r[e],this.xia=r[t]}static CalcGuaGong(e,t){var i=-1,n=-1;switch(e^t){case 7:i=2,n=e;break;case 6:case 5:i=3,n=7^t;break;case 4:i=4,n=7^t;break;case 3:i=1,n=e;break;case 2:i=2,n=t;break;case 1:i=0,n=e;break;case 0:i=5,n=e}return{GuaGong:n%=8,ShiWei:i}}get Shang(){return this.shang}get Xia(){return this.xia}get Index(){return 8*this.Shang.Index+this.Xia.Index}get NameS(){return e.GuaNames[this.Index]}get Name(){return this.Shang===this.Xia?this.Shang.Name+"\u4e3a"+this.Shang.NameV:this.Shang.NameV+this.Xia.NameV+this.NameS}get Mean(){return e.GuaChiJie.filter(e=>e.indexOf(this.Name)>=0)[0]}get GuaGong(){return r[this.GuaGongI].Name+"\u5bab"}get GuaGongI(){return e.CalcGuaGong(this.Shang.Index,this.Xia.Index).GuaGong}get Shiyao(){return e.CalcGuaGong(this.Shang.Index,this.Xia.Index).ShiWei}get Property(){var e=this.Xia.Zhis[0],t=this.Shang.Zhis[3],i="";e+t==13||e+t==1?i+="\u516d\u5408":6==Math.abs(e-t)&&(i+="\u516d\u51b2");var n=parseInt(this.Shang.Value,2)^parseInt(this.Xia.Value,2);return 5==n?i+="\u6e38\u9b42":2==n&&(i+="\u5f52\u9b42"),i}get GanZhis(){if(!this.ganzhis){this.ganzhis=new Array;let e=this.Xia.NaGan[0];for(let t of this.Xia.Zhis.slice(0,3)){let i=new s.b([e,t]);this.ganzhis.push(i)}e=this.Shang.NaGan[1];for(let t of this.Shang.Zhis.slice(3,6)){let i=new s.b([e,t]);this.ganzhis.push(i)}}return this.ganzhis}get WuXing(){let e=r[this.GuaGongI];return Object(a.a)(e.wuxing)}ZhiIndex(e){return this.GanZhis[(e+6)%6].Index}}return e.GuaChiJie=["\u4e7e\u4e3a\u5929\uff1a\u5f3a\u5065\u3001\u542f\u59cb","\u5929\u98ce\u59e4\uff1a\u758f\u6f0f\u3001\u76f8\u9047","\u5929\u5c71\u9041\uff1a\u9003\u9041\u3001\u9690\u9000","\u5c71\u5730\u5265\uff1a\u5265\u843d\u3001\u663e\u9732","\u706b\u5730\u664b\uff1a\u664b\u5347\u3001\u524d\u8fdb","\u706b\u5929\u5927\u6709\uff1a\u6536\u83b7\u3001\u4e30\u5bcc","\u98ce\u5730\u89c2\uff1a\u8003\u5bdf\u3001\u89c2\u671b","\u574e\u4e3a\u6c34\uff1a\u574e\u51f9\u3001\u9677\u5165","\u5dfd\u4e3a\u98ce\uff1a\u8ddf\u98ce\u3001\u4e0a\u884c\u4e0b\u6548","\u6c34\u6cfd\u8282\uff1a\u8282\u5ea6\u3001\u5236\u7ea6","\u6c34\u96f7\u5c6f\uff1a\u5c6f\u79ef\u3001\u521d\u59cb","\u6c34\u706b\u65e2\u6d4e\uff1a\u987a\u5176\u81ea\u7136\u3001\u987a\u7545","\u6cfd\u706b\u9769\uff1a\u6539\u53d8\u3001\u9769\u65b0","\u96f7\u706b\u4e30\uff1a\u4e30\u5bcc\u3001\u5f20\u626c","\u5730\u6c34\u5e08\uff1a\u5355\u4e00\u3001\u7387\u4f17","\u826e\u4e3a\u5c71\uff1a\u5806\u79ef\u3001\u53d7\u963b","\u5c71\u706b\u8d32\uff1a\u7c89\u9970\u3001\u793c\u4eea","\u5730\u706b\u660e\u5937\uff1a\u524d\u6709\u9669\u3001\u52a8\u5219\u4f24","\u5c71\u6cfd\u635f\uff1a\u635f\u5931\u3001\u53d7\u635f","\u706b\u6cfd\u777d\uff1a\u53cd\u76ee\u3001\u80cc\u9a70","\u96f7\u5c71\u5c0f\u8fc7\uff1a\u8fc7\u706b\uff0c\u53ef\u8865\u6551\u8fc7\u5931","\u5929\u6cfd\u5c65\uff1a\u5c65\u884c\u3001\u6301\u793c","\u98ce\u5c71\u6e10\uff1a\u6e10\u8fd1\u3001\u7f13\u8fd1","\u98ce\u6cfd\u4e2d\u5b5a\uff1a\u575a\u6301\u3001\u8bda\u4fe1","\u9707\u4e3a\u96f7\uff1a\u7a81\u53d1\u3001\u8d70\u52a8","\u96f7\u6c34\u89e3\uff1a\u89e3\u51b3\u3001\u91ca\u653e","\u706b\u98ce\u9f0e\uff1a\u72ec\u5f53\u4e00\u9762\u3001\u6781\u81f4","\u5730\u98ce\u5347\uff1a\u8fdb\u5c55\u3001\u63d0\u5347","\u6c34\u98ce\u4e95\uff1a\u89c4\u5212\u3001\u5c40\u675f","\u96f7\u6cfd\u5f52\u59b9\uff1a\u5982\u613f\u3001\u56de\u62a5","\u6cfd\u96f7\u968f\uff1a\u8ddf\u968f\u3001\u5f52\u987a","\u5929\u5730\u5426\uff1a\u53d7\u963b\u3001\u95ed\u585e","\u6cfd\u98ce\u5927\u8fc7\uff1a\u592a\u8fc7\u5206\u3001\u5df2\u906d\u635f\u5931","\u98ce\u96f7\u76ca\uff1a\u6709\u76ca\u3001\u53d7\u76ca","\u5c71\u96f7\u9890\uff1a\u9890\u8868\u3001\u57f9\u517b","\u98ce\u5929\u5c0f\u755c\uff1a\u6d45\u79ef\u7d2f\uff0c\u6b20\u5145\u5206","\u5c71\u98ce\u86ca\uff1a\u53d1\u52a8\u3001\u8c0b\u4e8b","\u79bb\u4e3a\u706b\uff1a\u5916\u9732\u3001\u7eda\u4e3d","\u5c71\u6c34\u8499\uff1a\u542f\u8499\u3001\u4e0d\u6e05\u6670","\u706b\u5c71\u65c5\uff1a\u65c5\u884c\u3001\u5ba2\u5c45","\u98ce\u6c34\u6da3\uff1a\u6da3\u6563\u3001\u53d1\u6563","\u98ce\u706b\u5bb6\u4eba\uff1a\u4eb2\u4eba\u3001\u5f52\u5bb6\u3001\u56de\u6536","\u5929\u6c34\u8bbc\uff1a\u8c08\u5224\u3001\u8bc9\u8bbc","\u5764\u4e3a\u5730\uff1a\u5305\u542b\u3001\u627f\u8f7d","\u5929\u96f7\u65e0\u5984\uff1a\u65e0\u5984\u4e3a\u3001\u65e0\u8fc7\u5931","\u5730\u96f7\u590d\uff1a\u53cd\u590d\u3001\u91cd\u590d","\u96f7\u98ce\u6052\uff1a\u6052\u4e45\u3001\u4e0d\u53d8","\u706b\u96f7\u566c\u55d1\uff1a\u6c9f\u901a\uff0c\u6709\u76ee\u7684\u4ea4\u6d41","\u5730\u6cfd\u4e34\uff1a\u4e34\u8fd1\u3001\u964d\u4e34","\u5730\u5929\u6cf0\uff1a\u901a\u6cf0\u3001\u901a\u7545","\u6cfd\u5929\u592c\uff1a\u7f3a\u9677\u3001\u4e0d\u5b8c\u6574","\u6c34\u5929\u9700\uff1a\u7b49\u5f85\u3001\u7b79\u5907","\u6c34\u5730\u6bd4\uff1a\u4eb2\u5bc6\u3001\u5e73\u7b49","\u706b\u6c34\u672a\u6d4e\uff1a\u963b\u788d\u3001\u672a\u8fbe\u76ee\u7684","\u5151\u4e3a\u6cfd\uff1a\u8c08\u8bdd\u3001\u6109\u60a6","\u6cfd\u6c34\u56f0\uff1a\u53d7\u56f0\u3001\u88ab\u56f4","\u5929\u706b\u540c\u4eba\uff1a\u968f\u5927\u6d41\u3001\u4e0e\u4f17\u540c\u7b49","\u6cfd\u5730\u8403\uff1a\u7a81\u51fa\u3001\u805a\u96c6 ","\u6cfd\u5c71\u54b8\uff1a\u53c2\u4e0e\u3001\u904d\u5e03","\u96f7\u5929\u5927\u58ee\uff1a\u4f17\u6240\u5468\u77e5\u3001\u6b63\u5f53\u5176\u7528","\u6c34\u5c71\u8e47\uff1a\u884c\u9669\u3001\u96be\u5173","\u96f7\u5730\u8c6b\uff1a\u6b22\u6109\u3001\u72b9\u8c6b","\u5730\u5c71\u8c26\uff1a\u8c26\u900a\u3001\u6df1\u85cf\u4e0d\u9732","\u5c71\u5929\u5927\u755c\uff1a\u79ef\u755c\u5df2\u4e45\u3001\u51c6\u5907\u5145\u5206"],e.GuaNames=["\u5730","\u590d","\u5e08","\u4e34","\u8c26","\u660e\u5937","\u5347","\u6cf0","\u8c6b","\u96f7","\u89e3","\u5f52\u59b9","\u5c0f\u8fc7","\u4e30","\u6052","\u5927\u58ee","\u6bd4","\u5c6f","\u6c34","\u8282","\u8e47","\u65e2\u6d4e","\u4e95","\u9700","\u8403","\u968f","\u56f0","\u6cfd","\u54b8","\u9769","\u5927\u8fc7","\u592c","\u5265","\u9890","\u8499","\u635f","\u5c71","\u8d32","\u86ca","\u5927\u755c","\u664b","\u566c\u55d1","\u672a\u6d4e","\u777d","\u65c5","\u706b","\u9f0e","\u5927\u6709","\u89c2","\u76ca","\u6da3","\u4e2d\u5b5a","\u6e10","\u5bb6\u4eba","\u98ce","\u5c0f\u755c","\u5426","\u65e0\u5984","\u8bbc","\u5c65","\u9041","\u540c\u4eba","\u59e4","\u5929"],e})(),c=new Array;function u(){if(64!==c.length){8!==r.length&&(r.push(new h(0,"\u5764","\u5730",4,[7,5,3,1,11,9],[1,9])),r.push(new h(1,"\u9707","\u96f7",2,[0,2,4,6,8,10],[6,6])),r.push(new h(2,"\u574e","\u6c34",1,[2,4,6,8,10,0],[4,4])),r.push(new h(3,"\u5151","\u6cfd",0,[5,3,1,11,9,7],[3,3])),r.push(new h(4,"\u826e","\u5c71",4,[4,6,8,10,0,2],[2,2])),r.push(new h(5,"\u79bb","\u706b",3,[3,1,11,9,7,5],[5,5])),r.push(new h(6,"\u5dfd","\u98ce",2,[1,11,9,7,5,3],[7,7])),r.push(new h(7,"\u4e7e","\u5929",0,[0,2,4,6,8,10],[0,8])));for(var e=0;e<8;e++)for(var t=0;t<8;t++)c.push(new d(e,t))}}let l=["\u9752\u9f99","\u6731\u96c0","\u52fe\u9648","\u87a3\u86c7","\u767d\u864e","\u7384\u6b66"];function b(e){u();let t=isNaN(e.toString())?-1:parseInt(e.toString()),i="string"==typeof e?e:void 0;if("number"==typeof t&&t>=0&&t<64)return c[t];if(i){i=i.length>=3?i.substr(2):i;let e=d.GuaNames.indexOf(i);if(e>=0)return c[e]}if(i=e.toString(),i.match(/[\u5730\u96f7\u6c34\u6cfd\u5c71\u706b\u98ce\u5929]{2}/)){var n="\u5730\u96f7\u6c34\u6cfd\u5c71\u706b\u98ce\u5929".indexOf(i.substr(0,1)),s="\u5730\u96f7\u6c34\u6cfd\u5c71\u706b\u98ce\u5929".indexOf(i.substr(1,1));return c[8*n+s]}throw new Error(`\u516d\u5341\u56db\u5366\u7684\u5366\u540d\u6216\u8005\u5e8f\u5217\u53f7\u51fa\u9519: ${e.toString()}, ${typeof e}`)}class g{constructor(e,t,i){u();let o="string"==typeof e?e.parseDate():void 0,a=Array.isArray(e)?e:void 0;if(o){let e=new Date(o.getTime()+36e5),t=new n.a(e);this.guatime=[new s.b(t.GZmonth),new s.b(t.GZdate)]}else{let e=new s.b(a[0]),t=new s.b(a[1]);this.guatime=[e,t]}i||(i=t),t=t.replace(" ",""),i=i.replace(" ","");var h=t.split("\u4e4b");2==h.length&&(t=h[0],i=h[1]),this.bengua=b(t),this.biangua=b(i);let r=this.bengua.GuaGongI;this.fugua=b(8*r+r),this.initShenSha(),this.initShen6()}get Yue(){return this.guatime[0]}get Ri(){return this.guatime[1]}get ShenShas(){return this.shenshas}get Ben(){return this.bengua}get Bian(){return this.biangua}get FuGua(){return this.fugua}get Shen6(){return this.shen6}get Benyaos(){let e=(this.Ben.Shang.Value+this.Ben.Xia.Value).split(""),t=[];for(let n=5;n>=0;n--)t.push(parseInt(e[n]));let i=this.Bianyaos;for(let n=5;n>=0;n--)t[n]!=i[n]&&(t[n]+=2);return t}get Bianyaos(){let e=(this.Bian.Shang.Value+this.Bian.Xia.Value).split(""),t=[];for(let i=5;i>=0;i--)t.push(parseInt(e[i]));return t}GetLineZhi(e){let t=this.FuGua.GanZhis.map(e=>e.Index).join()!=this.Ben.GanZhis.map(e=>e.Index).join(),i=this.Ben.Index!=this.Bian.Index,n=new Array;return t&&n.push(this.FuGua.GanZhis[e-1].Zhi.Index==this.Ben.GanZhis[e-1].Zhi.Index?"":this.FuGua.GanZhis[e-1].Zhi.Index.toString()),n.push(this.Ben.GanZhis[e-1].Zhi.Index.toString()),i&&n.push(this.Bian.GanZhis[e-1].Zhi.Index.toString()),n}GetLine(e,t=!1){let i=this.FuGua.GanZhis.map(e=>e.Index).join()!=this.Ben.GanZhis.map(e=>e.Index).join(),n=this.Ben.Index!=this.Bian.Index,s=this.Ben.WuXing,o=new Array;if(o.push(t?this.shen6[e-1].substring(1):this.shen6[e-1]),i)if(this.FuGua.GanZhis[e-1].Zhi.Index==this.Ben.GanZhis[e-1].Zhi.Index)o.push("");else{let i=this.FuGua.GanZhis[e-1].Zhi,n=t?i.WuXing.Ref(s)[1]+i.Name:i.WuXing.Ref(s)[0]+i.Name+i.WuXing.Name;o.push(n)}o.push(this.Benyaos[e-1]);let a=this.Ben.GanZhis[e-1].Zhi,h=t?a.WuXing.Ref(s)[1]+a.Name:a.WuXing.Ref(s)[0]+a.Name+a.WuXing.Name;if(o.push(h),o.push(this.Ben.Shiyao==e-1?"\u4e16":(this.Ben.Shiyao+3)%6==e-1?"\u5e94":""),n){o.push(this.Benyaos[e-1]>1?">":"");let i=this.Bian.GanZhis[e-1].Zhi;o.push(this.Bianyaos[e-1]);let n=t?i.WuXing.Ref(s)[1]+i.Name:i.WuXing.Ref(s)[0]+i.Name+i.WuXing.Name;o.push(n)}return o}equal(e){return this.Yue.Index==e.Yue.Index&&this.Ri.Index==e.Ri.Index&&this.Ben.Index==e.Ben.Index&&this.Bian.Index==e.Bian.Index}initShenSha(){this.shenshas=[],this.shenshas.push(new o.a("\u5c06\u661f",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u534e\u76d6",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u9a7f\u9a6c",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u8c0b\u661f",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u6843\u82b1",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u707e\u715e",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u52ab\u715e",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u7984\u795e",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u7f8a\u5203",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u6587\u660c",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u5929\u559c",[this.guatime[0].Index])),this.shenshas.push(new o.a("\u5929\u533b",[this.guatime[0].Index])),this.shenshas.push(new o.a("\u8d35\u4eba",[this.guatime[1].Index])),this.shenshas.push(new o.a("\u65ec\u7a7a",[this.guatime[1].Index]))}initShen6(){this.shen6=[];var e=this.guatime[1].Gan.Index;e=e>=5?Math.floor((e+2)/2):Math.floor(e/2);for(var t=0;t<6;t++)this.shen6.push(l[(e+t)%6].substring(0,2))}}},xPBH:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i=!1){this.Type=e,this.Title=t,this.ShowButton=!0,this.isExpanded=!1,this.isSelected=!1,this.url="",this.sub=[]}static getNodePath(e,t,i=null){var n,s;const o=e?e.Sub:i;if((t||"").IsNullOrEmpty())return["\u6839\u76ee\u5f55"];if((null===(n=e)||void 0===n?void 0:n.ID)===t)return[e.Title];if(!(o.length>0))return null;for(const a of o){const i=this.getNodePath(a,t);if(i)return i.insert(0,(null===(s=e)||void 0===s?void 0:s.Title)||""),i}}get IsFile(){return 32===this.Type}get IsSelected(){return this.isSelected}set IsSelected(e){this.isSelected=e}get IsExpanded(){return this.isExpanded}set IsExpanded(e){0!==this.Sub.length&&(this.isExpanded=e)}get Icon(){switch(this.Type){case 2:return"person";case 4:return"lock";case 8:return"menu";case 16:return"walk";case 32:return"document";case 1:default:return"folder"}}get Url(){return this.url}get Sub(){return this.sub}set Sub(e){this.sub=e}get Color(){return this.isSelected?"tertiary":""}get ColorB(){return this.isSelected?"light":""}SubNodesId(e){e.push(this.ID);for(const t of this.Sub)t.SubNodesId(e)}static get Examples(){const e=[],t=new n(1,"Folder 01"),i=new n(2,"Folder 02"),s=new n(4,"Folder 03"),o=new n(32,"file 01",!0),a=new n(8,"file 02",!0),h=new n(16,"file 03",!0),r=new n(8,"file 04",!0),d=new n(32,"file 05",!0),c=new n(16,"file 06",!0);return t.Sub.push(i),i.Sub.push(o),i.Sub.push(a),i.Sub.push(h),s.Sub.push(r),s.Sub.push(d),s.Sub.push(c),e.push(t),e.push(s),e}}}}]);