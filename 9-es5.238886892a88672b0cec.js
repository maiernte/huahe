function _classCallCheck(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(c,i.key,i)}}function _createClass(c,n,t){return n&&_defineProperties(c.prototype,n),t&&_defineProperties(c,t),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{HQI1:function(c,n,t){"use strict";t.d(n,"a",(function(){return h}));var i=t("c7TG"),e=t("fXoL"),a=t("ofXK");function o(c,n){if(1&c){var t=e.ec();e.dc(0,"ion-item",3),e.lc("click",(function(){e.Cc(t);var c=n.$implicit;return e.oc(2).onSelect(c.value)})),e.dc(1,"ion-text"),e.Jc(2),e.cc(),e.cc()}if(2&c){var i=n.$implicit,a=e.oc(2);e.vc("color",i.value===a.currentOption?"light":""),e.Nb(2),e.Kc(i.name)}}function s(c,n){if(1&c&&(e.dc(0,"div"),e.Hc(1,o,3,2,"ion-item",2),e.cc()),2&c){var t=e.oc();e.Nb(1),e.vc("ngForOf",t.items)}}function r(c,n){if(1&c&&(e.dc(0,"ion-note"),e.Jc(1),e.cc()),2&c){var t=e.oc().$implicit;e.Nb(1),e.Lc(" ",t.name," ")}}function u(c,n){if(1&c&&(e.dc(0,"ion-item",6),e.Hc(1,r,2,1,"ion-note",0),e.dc(2,"ion-label",7),e.dc(3,"small"),e.Zb(4,"ion-text",8),e.cc(),e.cc(),e.cc()),2&c){var t=n.$implicit;e.Nb(1),e.vc("ngIf",t.name),e.Nb(3),e.vc("innerHtml",t.value,e.Dc)}}function l(c,n){if(1&c&&(e.dc(0,"ion-list",4),e.Hc(1,u,5,2,"ion-item",5),e.cc()),2&c){var t=e.oc();e.Nb(1),e.vc("ngForOf",t.items)}}var h=function(){var c=function(){function c(n){_classCallCheck(this,c),this.popoverCtrl=n,this.toselect=!0}return _createClass(c,[{key:"ngOnInit",value:function(){}},{key:"onSelect",value:function(c){this.popoverCtrl.dismiss(c)}}]),c}();return c.\u0275fac=function(n){return new(n||c)(e.Yb(i.db))},c.\u0275cmp=e.Sb({type:c,selectors:[["app-optionpopover"]],inputs:{currentOption:"currentOption",items:"items",toselect:"toselect"},decls:2,vars:2,consts:[[4,"ngIf"],["class","ion-no-padding",4,"ngIf"],["button","",3,"color","click",4,"ngFor","ngForOf"],["button","",3,"color","click"],[1,"ion-no-padding"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end",1,"ion-text-wrap"],[3,"innerHtml"]],template:function(c,n){1&c&&(e.Hc(0,s,2,1,"div",0),e.Hc(1,l,2,1,"ion-list",1)),2&c&&(e.vc("ngIf",n.toselect),e.Nb(1),e.vc("ngIf",!n.toselect))},directives:[a.j,a.i,i.w,i.S,i.D,i.C,i.G],styles:[""]}),c}()},gTpY:function(c,n,t){"use strict";t.d(n,"a",(function(){return O}));var i=t("mrSG"),e=t("c7TG"),a=t("+cLM"),o=(t("0eVs"),t("FiP+")),s=t("l+bK"),r=t("LTmD"),u=t("HQI1"),l=t("fXoL"),h=t("i/bi"),d=t("ofXK");function g(c,n){if(1&c&&(l.dc(0,"span"),l.Jc(1),l.cc()),2&c){var t=l.oc();l.Nb(1),l.Lc("\u771f\u592a\u9633\u65f6\uff1a",t.RealTime,"")}}function f(c,n){if(1&c&&(l.dc(0,"span"),l.Jc(1),l.cc()),2&c){var t=l.oc().$implicit;l.Nb(1),l.Kc(t.text)}}function b(c,n){if(1&c&&(l.dc(0,"span",22),l.Jc(1),l.cc()),2&c){var t=l.oc().$implicit;l.Nb(1),l.Kc(t.text)}}function p(c,n){if(1&c&&(l.dc(0,"ion-col",20),l.dc(1,"ion-text",11),l.Hc(2,f,2,1,"span",7),l.Hc(3,b,2,1,"span",21),l.cc(),l.cc()),2&c){var t=n.$implicit;l.Nb(1),l.Gc("color",t.color),l.Nb(1),l.vc("ngIf",!t.bz),l.Nb(1),l.vc("ngIf",t.bz)}}function v(c,n){if(1&c&&(l.dc(0,"ion-row",20),l.Hc(1,p,4,4,"ion-col",10),l.cc()),2&c){var t=n.$implicit;l.Nb(1),l.vc("ngForOf",t)}}function m(c,n){if(1&c&&(l.dc(0,"span"),l.Jc(1),l.cc()),2&c){var t=l.oc().$implicit;l.Nb(1),l.Kc(t.text)}}function N(c,n){if(1&c&&(l.dc(0,"span",22),l.Jc(1),l.cc()),2&c){var t=l.oc().$implicit;l.Nb(1),l.Kc(t.text)}}function x(c,n){if(1&c&&(l.dc(0,"ion-col",20),l.dc(1,"ion-text",11),l.Hc(2,m,2,1,"span",7),l.Hc(3,N,2,1,"span",21),l.cc(),l.cc()),2&c){var t=n.$implicit;l.Nb(1),l.Gc("color",t.color),l.Nb(1),l.vc("ngIf",!t.bz),l.Nb(1),l.vc("ngIf",t.bz)}}function y(c,n){if(1&c&&(l.dc(0,"ion-row",20),l.Hc(1,x,4,4,"ion-col",10),l.cc()),2&c){var t=n.$implicit;l.Nb(1),l.vc("ngForOf",t)}}function S(c,n){if(1&c&&(l.dc(0,"td"),l.Jc(1),l.cc()),2&c){var t=n.$implicit;l.Nb(1),l.Kc(t)}}function C(c,n){if(1&c&&(l.dc(0,"tr"),l.Hc(1,S,2,1,"td",13),l.cc()),2&c){var t=n.$implicit;l.Nb(1),l.vc("ngForOf",t)}}function G(c,n){if(1&c){var t=l.ec();l.dc(0,"div",23),l.dc(1,"div",24),l.Jc(2),l.cc(),l.dc(3,"div",19),l.lc("click",(function(){l.Cc(t);var c=n.index;return l.oc().SelectedDY=c})),l.dc(4,"div",25),l.Jc(5),l.cc(),l.dc(6,"div",26),l.Jc(7),l.cc(),l.cc(),l.dc(8,"div",24),l.Jc(9),l.cc(),l.dc(10,"div"),l.Jc(11),l.cc(),l.cc()}if(2&c){var i=n.$implicit,e=n.index,a=l.oc();l.Nb(2),l.Kc(i[1]),l.Nb(1),l.Gc("background-color",a.SelectedDY===e?"skyblue":"white"),l.Nb(2),l.Kc(i[2][0]),l.Nb(2),l.Kc(i[2][1]),l.Nb(2),l.Kc(i[3]),l.Nb(2),l.Kc(i[8])}}function z(c,n){if(1&c){var t=l.ec();l.dc(0,"tr"),l.dc(1,"td"),l.Jc(2),l.cc(),l.dc(3,"td"),l.Jc(4),l.cc(),l.dc(5,"td",19),l.lc("click",(function(c){l.Cc(t);var i=n.$implicit;return l.oc(2).ShowDetail(i,c)})),l.dc(6,"span",24),l.Jc(7),l.cc(),l.dc(8,"span",28),l.Jc(9),l.cc(),l.dc(10,"span",24),l.Jc(11),l.cc(),l.cc(),l.dc(12,"td",19),l.lc("click",(function(c){l.Cc(t);var i=n.$implicit;return l.oc(2).ShowDetail(i,c)})),l.dc(13,"span",24),l.Jc(14),l.cc(),l.dc(15,"span",28),l.Jc(16),l.cc(),l.dc(17,"span",24),l.Jc(18),l.cc(),l.cc(),l.cc()}if(2&c){var i=n.$implicit,e=n.index,a=l.oc().$implicit;l.Nb(2),l.Kc(i[0]),l.Nb(2),l.Kc(i[8]),l.Nb(3),l.Lc("(",i[1],")"),l.Nb(2),l.Kc(i[2]),l.Nb(2),l.Lc("(",i[3],")"),l.Nb(3),l.Lc("(",a.xiao[e][1],")"),l.Nb(2),l.Kc(a.xiao[e][2]),l.Nb(2),l.Lc("(",a.xiao[e][3],")")}}function k(c,n){if(1&c&&(l.dc(0,"sui-accordion",2),l.dc(1,"sui-accordion-panel",3),l.dc(2,"div",4),l.Zb(3,"i",5),l.Jc(4),l.cc(),l.dc(5,"div",6),l.dc(6,"table",27),l.dc(7,"thead"),l.dc(8,"tr"),l.dc(9,"th"),l.Jc(10,"\u5e74\u4efd"),l.cc(),l.dc(11,"th"),l.Jc(12,"\u5c81\u6570"),l.cc(),l.dc(13,"th"),l.Jc(14,"\u6d41\u5e74"),l.cc(),l.dc(15,"th"),l.Jc(16,"\u5c0f\u8fd0"),l.cc(),l.cc(),l.cc(),l.dc(17,"tbody"),l.Hc(18,z,19,8,"tr",13),l.cc(),l.cc(),l.cc(),l.cc(),l.cc()),2&c){var t=n.$implicit;l.vc("closeOthers",!0),l.Nb(1),l.vc("isOpen",!1),l.Nb(3),l.Lc(" ",t.name," "),l.Nb(14),l.vc("ngForOf",t.liu)}}var O=function(){var c=function(){function c(n,t){_classCallCheck(this,c),this.toastController=n,this.popoverCtrl=t,this.ShowDayun=!1,this.ShowLiunian=!1,this.ShowXiaoyun=!1,this.selectedDayun=0,this.SelectedLiu=0,this.SelectedXiao=0,this.AllLiuNian=[]}return _createClass(c,[{key:"ngOnInit",value:function(){this.initBaseInfo(),this.Reflash(null)}},{key:"Reflash",value:function(c){c&&(this.config=Object(r.b)(c)),this.initYuanju(""===this.RealTime?this.Birthday:this.RealTime),this.initShenShas(),this.SelectedDY=0,this.initDayuns()}},{key:"ChangeDayun",value:function(c){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,i,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.SelectedDY=c,t=this.bazi.DaYun[c-1].Start.toChinaStr(),i=this.bazi.DaYun[c-1].GZ.Name,n.next=5,this.toastController.create({message:"\u5927\u8fd0".concat(i," \u5f00\u59cb\u4e8e ").concat(t),duration:3e3});case 5:return e=n.sent,n.next=8,e.present();case 8:case"end":return n.stop()}}),n,this)})))}},{key:"ShowDetail",value:function(c,n){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(this.bazi.Y.Gan.Name," ").concat(this.bazi.M.Gan.Name," ").concat(this.bazi.D.Gan.Name," ").concat(this.bazi.T.Gan.Name),e="".concat(this.bazi.Y.Zhi.Name," ").concat(this.bazi.M.Zhi.Name," ").concat(this.bazi.D.Zhi.Name," ").concat(this.bazi.T.Zhi.Name),t.next=4,this.popoverCtrl.create({component:u.a,event:n,componentProps:{items:[{name:"\u516b\u5b57",value:"<span>".concat(i,"</span><br><span>").concat(e,"</span>")},{name:"\u85cf\u5e72",value:c[4]},{name:"\u7eb3\u97f3",value:c[5]},{name:"\u957f\u751f\u5bab",value:c[6]},{name:"\u795e\u715e",value:c[7]}],toselect:!1},translucent:!0});case 4:return a=t.sent,t.next=7,a.present();case 7:return t.next=9,a.onDidDismiss();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"ChangeTime",value:function(c,n){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.bazi.Birthday,e=0===n?3600*c*1e3*2:3600*c*1e3*24,i=new Date(i.getTime()+e),this.initYuanju(i.toDatabaseStr()),this.initShenShas(),this.SelectedDY=0,this.initDayuns();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"initBaseInfo",value:function(){var c,n=this.baziText.place,t=o.a.FindCity(n[0],n[1]);this.Place=t?"".concat(n[0],"\u7701/\u5e02 ").concat(n[1],"\u5e02/\u53bf/\u533a"):"\u672a\u77e5",this.Gender=this.baziText.male?"\u4e7e":"\u5764",this.Person="".concat(this.baziText.person," (").concat(this.Gender,"\u9020)");var i=this.baziText.time.parseDate();this.Birthday=i.toChinaStr(!0);var e=new s.a(i);if(this.BirthdayN="".concat(e.GZyear,"\u5e74").concat(e.NLleap).concat(e.NLmonth,"\u6708").concat(e.NLdate),this.baziText.realsuntime){var a=t?o.a.CalcTimeOff(t.Code):null;c=new Date(i.getTime()+6e4*a),this.RealTime=c.toChinaStr(!0)}else this.RealTime=""}},{key:"initYuanju",value:function(c){var n=[],t=c.parseDate();this.bazi=new a.a(t,this.baziText.male?"m":"f");var i=this.config.shortname?1:0;if(n.push(this.bazi.All.select((function(c){return{text:c.Shen10Gan[i],color:"gray",bz:!1}}))),n.push(this.bazi.All.select((function(c){return{text:c.Gan.Name,color:"darkblue",bz:!0}}))),n.push(this.bazi.All.select((function(c){return{text:c.Zhi.Name,color:"darkblue",bz:!0}}))),n.push(this.bazi.All.select((function(c){return{text:c.Shen10Zhi[i],color:"gray",bz:!1}}))),n[0].insert(0,{text:this.Gender,color:"",bz:!1}),n[1].insert(0,{text:"\u9020",color:"",bz:!1}),n[2].insert(0,{text:"",color:"",bz:!1}),n[3].insert(0,{text:"",color:"",bz:!1}),this.config.yuanju.cangan){var e=this.bazi.All.select((function(c){return{text:c.Zhi.CGan.map((function(c){return c.Name})).join(""),color:""}}));e.insert(0,{text:"\u85cf\u5e72",color:"gray",bz:!1}),n.push(e)}if(this.config.yuanju.nayin){var o=this.bazi.All.select((function(c){return{text:c.NaYin,color:""}}));o.insert(0,{text:"\u7eb3\u97f3",color:"gray",bz:!1}),n.push(o)}if(this.config.yuanju.changshen){var s=this.bazi.All.select((function(c){return{text:c.ChangSheng,color:""}}));s.insert(0,{text:"\u957f\u751f",color:"gray",bz:!1}),n.push(s)}var r=this.bazi.WuXings.map((function(c){return{text:"".concat(c.Name," - ").concat(c.Num),color:"gray",bz:!1}}));r.insert(0,{text:"\u4e94\u884c",color:"gray",bz:!1}),n.push(r),this.yuanju=n}},{key:"initShenShas",value:function(){for(var c=[],n=this.bazi.ShenSha.length,t=0;t<n;t++)c.push("[".concat(this.bazi.ShenSha[t].Name," - ").concat(this.bazi.ShenSha[t].Result.join(""),"]"));var i=this.config.shensha;this.ShenShas=[];for(var e=0;e<=n;e+=i){var a=c.slice(e,e+i>n?n:e+i);this.ShenShas.push(a)}var o=i-this.ShenShas[this.ShenShas.length-1].length;if(o>0)for(var s=0;s<o;s++)this.ShenShas[this.ShenShas.length-1].push("");this.ShenShaHead="[\u547d\u5bab - ".concat(this.bazi.MingGong.Name,"] [\u80ce\u5143 - ").concat(this.bazi.TaiYuan.Name,"]")}},{key:"initDayuns",value:function(){var c=this,n=this.config.shortname?1:0,t=this.bazi.Birthday.getFullYear(),i=[];this.bazi.DaYun.forEach((function(e){var a=[];a.push("".concat(e.Start.toChinaStr())),a.push(e.GZ.Shen10Gan[n]),a.push(e.GZ.Name),a.push(e.GZ.Shen10Zhi[n]),a.push(e.GZ.Zhi.CGan.map((function(c){return c.Name})).join("")),a.push(e.GZ.NaYin),a.push(e.GZ.ChangSheng),a.push(c.bazi.CalcShenSha(e.GZ)),a.push(e.Start.getFullYear()-t),i.push(a)})),this.Dayuns=i,this.SelectedDY=0;var e=[],a=!0,o=!1,s=void 0;try{for(var r,u=this.bazi.DaYun[Symbol.iterator]();!(a=(r=u.next()).done);a=!0){var l=r.value,h=this.calcXiaoyun(l.Start.getFullYear(),l.End.getFullYear());e.push({name:"".concat(l.GZ.Name,"\u8fd0 ").concat(l.Start.toChinaStr()),liu:h[0],xiao:h[1]})}}catch(d){o=!0,s=d}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}this.AllLiuNian=e}},{key:"calcXiaoyun",value:function(c,n){var t=this,i=this.config.shortname?1:0,e=[],a=[],o=this.bazi.Birthday.toChinaStr();return o=o.replace(this.bazi.Birthday.getFullYear().toString(),"##"),this.bazi.CalcLiuNian(c,n).forEach((function(c){var n=[],o=[];n.push("".concat(c.Start.getFullYear())),o.push("".concat(c.Start.getFullYear(),"\u5e74").concat(t.bazi.Birthday.getMonth()+1,"\u6708").concat(t.bazi.Birthday.getDate()+1,"\u65e5")),n.push(c.GZ.Shen10Gan[i]),n.push(c.GZ.Name),n.push(c.GZ.Shen10Zhi[i]),o.push(c.GZ2.Shen10Gan[i]),o.push(c.GZ2.Name),o.push(c.GZ2.Shen10Zhi[i]),e.push(n),a.push(o),n.push(c.GZ.Zhi.CGan.map((function(c){return c.Name})).join("")),o.push(c.GZ2.Zhi.CGan.map((function(c){return c.Name})).join("")),n.push(c.GZ.NaYin),o.push(c.GZ2.NaYin),n.push(c.GZ.ChangSheng),o.push(c.GZ2.ChangSheng),n.push(t.bazi.CalcShenSha(c.GZ)),o.push(t.bazi.CalcShenSha(c.GZ2)),n.push(c.Start.getFullYear()-t.bazi.Birthday.getFullYear())})),[e,a]}},{key:"Config",set:function(c){this.config=Object(r.b)(c)}},{key:"FontSize",get:function(){return"".concat(this.config.fontsize,"px")}},{key:"YuanJu",get:function(){return this.yuanju}},{key:"DayunName",get:function(){return this.dayunname}},{key:"SelectedDY",get:function(){return this.selectedDayun},set:function(c){this.selectedDayun=c;var n=this.bazi.DaYun[c];n.Start.getFullYear(),this.dayunname="".concat(n.GZ.Name)}},{key:"BaziText",set:function(c){this.baziText=c}},{key:"BaziInText",get:function(){return"".concat(this.bazi.Y.Name," / ").concat(this.bazi.M.Name," / ").concat(this.bazi.D.Name," / ").concat(this.bazi.T.Name," ")}}]),c}();return c.\u0275fac=function(n){return new(n||c)(l.Yb(e.hb),l.Yb(e.db))},c.\u0275cmp=l.Sb({type:c,selectors:[["app-baziview"]],inputs:{Config:"Config",BaziText:"BaziText"},decls:83,vars:39,consts:[[1,"ui","attached","left","aligned","segment",2,"margin-left","3px","max-width","500px"],[1,"ui","blue","ribbon","label"],[3,"closeOthers"],[3,"isOpen"],["title",""],[1,"dropdown","icon"],["content",""],[4,"ngIf"],["lines","none"],["fixed","",1,"bzgrid"],["class","ion-no-padding bzgrid",4,"ngFor","ngForOf"],[1,"bzgrid"],[2,"width","100%"],[4,"ngFor","ngForOf"],[1,"ui","equal","width","grid"],["class","column","style","padding-left: 0;padding-right: 0;text-align: center",4,"ngFor","ngForOf"],[1,"ion-no-padding"],[1,"item"],[3,"closeOthers",4,"ngFor","ngForOf"],[3,"click"],[1,"ion-no-padding","bzgrid"],["style","font-weight: bolder;",4,"ngIf"],[2,"font-weight","bolder"],[1,"column",2,"padding-left","0","padding-right","0","text-align","center"],[2,"color","gray"],[2,"margin-top","3px","font-weight","bold"],[2,"margin-bottom","3px","font-weight","bold"],[1,"ui","unstackable","very","basic","table","compact","striped"],[2,"font-weight","bold"]],template:function(c,n){1&c&&(l.dc(0,"div",0),l.dc(1,"div"),l.dc(2,"a",1),l.Jc(3),l.cc(),l.cc(),l.dc(4,"sui-accordion",2),l.dc(5,"sui-accordion-panel",3),l.dc(6,"div",4),l.Zb(7,"i",5),l.Jc(8),l.cc(),l.dc(9,"div",6),l.dc(10,"span"),l.Jc(11),l.cc(),l.Zb(12,"br"),l.dc(13,"span"),l.Jc(14),l.cc(),l.Zb(15,"br"),l.dc(16,"span"),l.Jc(17),l.cc(),l.Zb(18,"br"),l.Hc(19,g,2,1,"span",7),l.Zb(20,"br"),l.cc(),l.cc(),l.cc(),l.dc(21,"ion-item",8),l.dc(22,"ion-grid",9),l.Hc(23,v,2,1,"ion-row",10),l.pc(24,"slice"),l.cc(),l.cc(),l.dc(25,"sui-accordion",2),l.dc(26,"sui-accordion-panel",3),l.dc(27,"div",4),l.Zb(28,"i",5),l.Jc(29," \u516b\u5b57\u539f\u5c40 "),l.cc(),l.dc(30,"div",6),l.dc(31,"ion-grid",11),l.Hc(32,y,2,1,"ion-row",10),l.pc(33,"slice"),l.cc(),l.cc(),l.cc(),l.cc(),l.dc(34,"sui-accordion",2),l.dc(35,"sui-accordion-panel",3),l.dc(36,"div",4),l.Zb(37,"i",5),l.Jc(38),l.cc(),l.dc(39,"div",6),l.dc(40,"table",12),l.Hc(41,C,2,1,"tr",13),l.cc(),l.cc(),l.cc(),l.cc(),l.dc(42,"sui-accordion",2),l.dc(43,"sui-accordion-panel",3),l.dc(44,"div",4),l.Zb(45,"i",5),l.Jc(46),l.cc(),l.dc(47,"div",6),l.dc(48,"div",14),l.Hc(49,G,12,7,"div",15),l.cc(),l.dc(50,"ion-list",16),l.dc(51,"ion-item",17),l.dc(52,"small"),l.Jc(53),l.cc(),l.cc(),l.dc(54,"ion-item",17),l.dc(55,"small"),l.Jc(56),l.cc(),l.cc(),l.dc(57,"ion-item",17),l.dc(58,"small"),l.Jc(59),l.cc(),l.cc(),l.dc(60,"ion-item",17),l.dc(61,"small"),l.Jc(62),l.cc(),l.cc(),l.dc(63,"ion-item",17),l.dc(64,"small"),l.Jc(65),l.cc(),l.cc(),l.cc(),l.cc(),l.cc(),l.cc(),l.dc(66,"sui-accordion",2),l.dc(67,"sui-accordion-panel",3),l.dc(68,"div",4),l.Zb(69,"i",5),l.Jc(70," \u6d41\u5e74\u5c0f\u8fd0 "),l.cc(),l.dc(71,"div",6),l.Hc(72,k,19,4,"sui-accordion",18),l.cc(),l.cc(),l.cc(),l.dc(73,"ion-item",8),l.dc(74,"ion-segment"),l.dc(75,"ion-segment-button",19),l.lc("click",(function(){return n.ChangeTime(-1,0)})),l.Jc(76," \u524d\u65f6\u8fb0"),l.cc(),l.dc(77,"ion-segment-button",19),l.lc("click",(function(){return n.ChangeTime(1,0)})),l.Jc(78," \u540e\u65f6\u8fb0"),l.cc(),l.dc(79,"ion-segment-button",19),l.lc("click",(function(){return n.ChangeTime(-1,1)})),l.Jc(80," \u524d\u4e00\u65e5"),l.cc(),l.dc(81,"ion-segment-button",19),l.lc("click",(function(){return n.ChangeTime(1,1)})),l.Jc(82," \u540e\u4e00\u65e5"),l.cc(),l.cc(),l.cc(),l.cc()),2&c&&(l.Nb(3),l.Lc(" ",n.BaziInText," "),l.Nb(1),l.vc("closeOthers",!1),l.Nb(1),l.vc("isOpen",!1),l.Nb(3),l.Lc(" \u547d\u4e3b\uff1a",n.Person," "),l.Nb(3),l.Lc("\u751f\u65e5\uff1a",n.Birthday,""),l.Nb(3),l.Lc("\u519c\u5386\uff1a",n.BirthdayN,""),l.Nb(3),l.Lc("\u51fa\u751f\u5730\uff1a",n.Place,""),l.Nb(2),l.vc("ngIf",""!=n.RealTime),l.Nb(3),l.Gc("font-size",n.FontSize),l.Nb(1),l.vc("ngForOf",l.sc(24,32,n.YuanJu,0,4)),l.Nb(2),l.vc("closeOthers",!1),l.Nb(1),l.vc("isOpen",!1),l.Nb(5),l.Gc("font-size",n.FontSize),l.Nb(1),l.vc("ngForOf",l.rc(33,36,n.YuanJu,4)),l.Nb(2),l.vc("closeOthers",!1),l.Nb(1),l.vc("isOpen",!1),l.Nb(3),l.Lc(" \u795e\u715e\uff1a",n.ShenShaHead," "),l.Nb(3),l.vc("ngForOf",n.ShenShas),l.Nb(1),l.vc("closeOthers",!1),l.Nb(1),l.vc("isOpen",!1),l.Nb(3),l.Lc(" \u5927\u8fd0\uff1a",n.DayunName," "),l.Nb(3),l.vc("ngForOf",n.Dayuns),l.Nb(4),l.Lc("\u8d77\u59cb: ",n.Dayuns[n.SelectedDY][0],""),l.Nb(3),l.Lc("\u85cf\u5e72: ",n.Dayuns[n.SelectedDY][4],""),l.Nb(3),l.Lc("\u7eb3\u97f3: ",n.Dayuns[n.SelectedDY][5],""),l.Nb(3),l.Lc("\u957f\u751f\u4e8c\u5341\u5bab: ",n.Dayuns[n.SelectedDY][6],""),l.Nb(3),l.Lc("\u795e\u715e: ",n.Dayuns[n.SelectedDY][7],""),l.Nb(1),l.vc("closeOthers",!0),l.Nb(1),l.vc("isOpen",!1),l.Nb(5),l.vc("ngForOf",n.AllLiuNian))},directives:[h.a,h.b,d.j,e.w,e.r,d.i,e.D,h.d,e.N,e.fb,e.O,e.L,e.l,e.S],pipes:[d.p],styles:[".bzgrid[_ngcontent-%COMP%]{padding:0}.selected[_ngcontent-%COMP%]{background-color:#faebd7}"]}),c}()},n7QD:function(c,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("ofXK"),e=t("3Pt+"),a=t("c7TG"),o=(t("ylIl"),t("i/bi")),s=t("fXoL"),r=function(){var c=function c(){_classCallCheck(this,c)};return c.\u0275mod=s.Wb({type:c}),c.\u0275inj=s.Vb({factory:function(n){return new(n||c)},imports:[[i.b,e.c,o.e,a.X]]}),c}()},uEAi:function(c,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("ofXK"),e=t("3Pt+"),a=t("c7TG"),o=(t("gTpY"),t("i/bi")),s=t("fXoL"),r=function(){var c=function c(){_classCallCheck(this,c)};return c.\u0275mod=s.Wb({type:c}),c.\u0275inj=s.Vb({factory:function(n){return new(n||c)},imports:[[i.b,e.c,o.e,a.X]]}),c}()},ylIl:function(c,n,t){"use strict";t.d(n,"a",(function(){return S}));var i=t("mrSG"),e=t("c7TG"),a=(t("0eVs"),t("pNW8")),o=t("LTmD"),s=t("2QJI"),r=t("fXoL"),u=t("i/bi"),l=t("ofXK"),h=function(c){return{positive:c}},d=function(c){return{error:c}},g=function(c){return{warning:c}};function f(c,n){if(1&c&&(r.dc(0,"td",16),r.Jc(1),r.cc()),2&c){var t=n.$implicit;r.vc("colSpan",t.span)("ngClass",r.xc(5,h,"positive"===t.color))("ngClass",r.xc(7,d,"error"===t.color))("ngClass",r.xc(9,g,"warning"===t.color)),r.Nb(1),r.Lc("\xa0",t.txt,"\xa0")}}function b(c,n){if(1&c&&(r.dc(0,"tr"),r.Hc(1,f,2,11,"td",15),r.cc()),2&c){var t=n.$implicit;r.Nb(1),r.vc("ngForOf",t)}}function p(c,n){if(1&c){var t=r.ec();r.dc(0,"td",17),r.lc("click",(function(){return r.Cc(t),r.oc().calcColor(null)})),r.cc()}if(2&c){var i=n.$implicit;r.vc("colSpan",i.span)("innerHTML",i.txt,r.Dc)}}function v(c,n){if(1&c&&r.Zb(0,"div",22),2&c){var t=r.oc().$implicit;r.vc("innerHTML",t.text,r.Dc)}}function m(c,n){if(1&c&&r.Zb(0,"div",23),2&c){var t=r.oc().$implicit;r.vc("innerHTML",t.text,r.Dc)}}function N(c,n){if(1&c){var t=r.ec();r.dc(0,"td",19),r.lc("click",(function(){r.Cc(t);var c=n.index,i=r.oc().index;return r.oc().tostNayin(i,c)})),r.Hc(1,v,1,1,"div",20),r.Hc(2,m,1,1,"div",21),r.cc()}if(2&c){var i=n.$implicit;r.vc("ngClass",r.xc(5,h,"positive"===i.color))("ngClass",r.xc(7,d,"error"===i.color))("ngClass",r.xc(9,g,"warning"===i.color)),r.Nb(1),r.vc("ngIf","svg"!==i.size),r.Nb(1),r.vc("ngIf","svg"===i.size)}}function x(c,n){if(1&c&&(r.dc(0,"tr"),r.Hc(1,N,3,11,"td",18),r.cc()),2&c){var t=n.$implicit;r.Nb(1),r.vc("ngForOf",t)}}var y=function(c){return{gua:c}},S=function(){var c=function(){function c(n,t){_classCallCheck(this,c),this.toastController=n,this.settings=t,this.smallSymbol=!1,this.ColorRiYue=["","","",""],this.YaoSymbols=[{svg:"assets/shaoyin.svg",name:"\u5c11\u9634"},{svg:"assets/shaoyan.svg",name:"\u5c11\u9633"},{svg:"assets/laoyin.svg",name:"\u8001\u9634"},{svg:"assets/laoyan.svg",name:"\u8001\u9633"}]}return _createClass(c,[{key:"ngOnInit",value:function(){}},{key:"Reflash",value:function(c){c&&(this.config=Object(o.b)(c)),this.initShensha(),this.calcGuaLine()}},{key:"tostNayin",value:function(c,n){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,e,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=5-c,e=n<=4?1:2,e=n<=1?0:e,a=this.Gua.Ben.GanZhis[i],0===e?a=this.Gua.FuGua.GanZhis[i]:2===e&&(a=this.Gua.Bian.GanZhis[i]),-1===n&&(a=new s.b(c)),t.next=7,this.toastController.create({message:"".concat(a.Name," - ").concat(a.NaYin),duration:3e3});case 7:return o=t.sent,t.next=10,o.present();case 10:this.calcColor(a.Zhi.Index);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"calcColor",value:function(c){var n=null===c,t=n?"XX":new s.b(c).Zhi.Name,i=n?"XX":new s.b((c+6)%12).Zhi.Name,e=n?"XX":new s.b((13-c)%12).Zhi.Name;this.ShenSha.forEach((function(c){c.forEach((function(c){c.color=c.txt.includes(t)?"positive":c.txt.includes(i)?"error":c.txt.includes(e)?"warning":""}))})),this.gualine.forEach((function(c){c.forEach((function(c){c.color=c.text.includes(t)&&!c.text.startsWith("\u5b50\u5b59")?"positive":c.text.includes(i)&&!c.text.startsWith("\u5b50\u5b59")?"error":c.text.includes(e)&&!c.text.startsWith("\u5b50\u5b59")?"warning":""}))}));for(var a=[this.Gua.Yue.Name,this.Gua.Ri.Name,this.Xunkong[0],this.Xunkong[1]],o=0;o<4;o++)this.ColorRiYue[o]=a[o].includes(t)?o<2?"positive":"#4854e0":a[o].includes(i)?o<2?"error":"#cf3c4f":a[o].includes(e)?o<2?"warning":"#28ba62":""}},{key:"ChangSymbol",value:function(){!1===this.smallSymbol?(this.config_s=Object(o.b)(this.config),this.config.shensha=4,this.config.shortname=!0,this.config.shensha=4):this.config=Object(o.b)(this.config_s),this.smallSymbol=!this.smallSymbol,this.Reflash(null)}},{key:"initGua",value:function(){this.Titel="\u95ee\u5ff5\uff1a"+this.guaText.question,this.Gua=new a.a(this.guaText.time,this.guaText.ben,this.guaText.bian),this.GuaTime="\u8d77\u5366\u65f6\u95f4\uff1a"+("string"==typeof this.guaText.time?this.guaText.time:"".concat(this.guaText.time[0],"\u6708 ").concat(this.guaText.time[1],"\u65e5")).replace("00:00:00",""),this.Reflash(null)}},{key:"initShensha",value:function(){var c=this.config.shensha;this.shensha=[];for(var n=0;n<this.Gua.ShenShas.length-1;n+=c){for(var t=[],i=0;i<c;i++)if(!(i+n>=this.Gua.ShenShas.length-1)){var e=n+i===this.Gua.ShenShas.length-2,a=this.Gua.ShenShas[i+n];t.push({txt:"[".concat(a.Name," - ").concat(a.Result.join(""),"]"),span:e?2:1,color:""})}this.shensha.push(t)}}},{key:"calcGuaLine",value:function(){var c=this,n=['<img src="assets/svg/shaoyin32.svg"/>','<img src="assets/svg/shaoyan32.svg"/>','<img src="assets/svg/arrowX.svg"/>','<img src="assets/svg/arrowO.svg"/>'],t=!1;this.gualine=[];for(var i=6;i>0;i--){for(var e=this.Gua.GetLine(i,this.config.shortname),a=[],o=0,s=(t="string"==typeof e[1])?4:3,r=s+1,u=t?1:-1,l=0;l<e.length;l++){var h="number"==typeof e[l]?n[e[l]%2]:e[l];if(o="number"==typeof e[l]?e[l]%2:o,""===h)switch(l){case u:case s:case r:a.push({text:"",color:""})}else if(">"===h&&l===r)a.push({text:n[0===o?2:3],color:""});else{var d=l===u?"<small>&nbsp;".concat(h,"&nbsp;</small>"):h.toString();d=l===s?"&nbsp;".concat(d):d,a.push({text:d,color:""})}}this.gualine.push(a)}this.guachi=[],this.guachi.push({txt:this.Gua.Ben.GuaGong,span:t?2:3});var g=""!==this.Gua.Ben.Property?"(".concat(this.Gua.Ben.Property,")"):"";this.guachi.push({txt:"".concat(this.Gua.Ben.Name).concat(g),span:t?4:3}),this.Gua.Ben.Index!==this.Gua.Bian.Index?(g=""!==this.Gua.Bian.Property?"(".concat(this.Gua.Bian.Property,")"):"",this.guachi.push({txt:"".concat(this.Gua.Bian.Name).concat(g),span:2})):this.guachi.push({txt:"&nbsp;".repeat(5),span:2}),this.gualine.forEach((function(n){n.forEach((function(c){c.text.startsWith("<img")&&(c.size="svg")})),t||n.insert(1,{text:"&nbsp;".repeat(c.HasBianGua?1:5),color:"",size:""}),c.HasBianGua||(n.push({text:"&nbsp;",color:"",size:""}),n.push({text:"&nbsp;".repeat(25),color:"",size:""}))}))}},{key:"Config",set:function(c){this.config=Object(o.b)(c)}},{key:"Compact",get:function(){return this.settings.IsSmallScreen}},{key:"FontSize",get:function(){return"".concat(this.config.fontsize,"px")}},{key:"GuaText",get:function(){return this.guaText},set:function(c){this.guaText=c,this.initGua()}},{key:"ShenSha",get:function(){return this.shensha}},{key:"Xunkong",get:function(){return this.Gua.ShenShas[this.Gua.ShenShas.length-1].Result}},{key:"GuaLine",get:function(){return this.gualine}},{key:"GuaChi",get:function(){return this.guachi}},{key:"GuaInText",get:function(){return this.Gua.Ben.Index===this.Gua.Bian.Index?this.Gua.Ben.Name:"".concat(this.Gua.Ben.Name," \u4e4b ").concat(this.Gua.Bian.Name)}},{key:"HasBianGua",get:function(){return this.Gua.Ben.Index!==this.Gua.Bian.Index}}]),c}();return c.\u0275fac=function(n){return new(n||c)(r.Yb(e.hb),r.Yb(o.a))},c.\u0275cmp=r.Sb({type:c,selectors:[["app-guaview"]],inputs:{Config:"Config",GuaText:"GuaText"},decls:35,vars:45,consts:[[1,"ui","attached","left","aligned","segment",2,"margin-left","3px","max-width","500px"],[1,"ui","teal","ribbon","label"],[1,"ui","top","right","attached","icon","basic","label",3,"click"],[1,"cut","icon"],[3,"closeOthers"],[3,"isOpen"],["title",""],[1,"dropdown","icon"],["content",""],[1,"ui","unstackable","very","basic","table","collapsing","table-noline",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"ui","unstackable","very","basic","table","compact","collapsing",3,"ngClass"],[3,"colSpan","ngClass","click"],["colspan","4"],["class","collapsing",3,"colSpan","innerHTML","click",4,"ngFor","ngForOf"],[3,"colSpan","ngClass",4,"ngFor","ngForOf"],[3,"colSpan","ngClass"],[1,"collapsing",3,"colSpan","innerHTML","click"],["class","collapsing gua",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"collapsing","gua",3,"ngClass","click"],[3,"innerHTML",4,"ngIf"],["class","ui image",3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"ui","image",3,"innerHTML"]],template:function(c,n){1&c&&(r.dc(0,"div",0),r.dc(1,"div"),r.dc(2,"a",1),r.Jc(3),r.cc(),r.Jc(4),r.dc(5,"a",2),r.lc("click",(function(){return n.ChangSymbol()})),r.Zb(6,"i",3),r.cc(),r.cc(),r.dc(7,"sui-accordion",4),r.dc(8,"sui-accordion-panel",5),r.dc(9,"div",6),r.Zb(10,"i",7),r.Jc(11),r.cc(),r.dc(12,"div",8),r.dc(13,"p"),r.Jc(14),r.cc(),r.cc(),r.cc(),r.cc(),r.dc(15,"table",9),r.Hc(16,b,2,1,"tr",10),r.cc(),r.dc(17,"table",11),r.dc(18,"thead"),r.dc(19,"tr"),r.dc(20,"td",12),r.lc("click",(function(){return n.tostNayin(n.Gua.Yue.Index,-1)})),r.Jc(21),r.cc(),r.dc(22,"td",12),r.lc("click",(function(){return n.tostNayin(n.Gua.Ri.Index,-1)})),r.Jc(23),r.cc(),r.dc(24,"td",13),r.Jc(25),r.dc(26,"span"),r.Jc(27),r.cc(),r.dc(28,"span"),r.Jc(29),r.cc(),r.Jc(30,") "),r.cc(),r.cc(),r.dc(31,"tr"),r.Hc(32,p,1,2,"td",14),r.cc(),r.cc(),r.dc(33,"tbody"),r.Hc(34,x,2,1,"tr",10),r.cc(),r.cc(),r.cc()),2&c&&(r.Nb(3),r.Lc(" ",n.GuaInText," "),r.Nb(1),r.Mc(" ",n.Gua.Yue.Name,"\u6708 ",n.Gua.Ri.Name,"\u65e5 "),r.Nb(3),r.vc("closeOthers",!1),r.Nb(1),r.vc("isOpen",!0),r.Nb(3),r.Lc(" ",n.Titel," "),r.Nb(3),r.Kc(n.GuaTime),r.Nb(1),r.vc("ngClass",r.xc(29,y,n.Compact)),r.Nb(1),r.vc("ngForOf",n.ShenSha),r.Nb(1),r.vc("ngClass",r.xc(31,y,n.Compact)),r.Nb(3),r.vc("colSpan",n.GuaChi[0].span)("ngClass",r.xc(33,h,"positive"===n.ColorRiYue[0]))("ngClass",r.xc(35,d,"error"===n.ColorRiYue[0]))("ngClass",r.xc(37,g,"warning"===n.ColorRiYue[0])),r.Nb(1),r.Lc("",n.Gua.Yue.Name,"\u6708"),r.Nb(1),r.vc("colSpan",n.GuaChi[1].span)("ngClass",r.xc(39,h,"positive"===n.ColorRiYue[1]))("ngClass",r.xc(41,d,"error"===n.ColorRiYue[1]))("ngClass",r.xc(43,g,"warning"===n.ColorRiYue[1])),r.Nb(1),r.Lc("",n.Gua.Ri.Name,"\u65e5"),r.Nb(2),r.Lc("(",n.smallSymbol?"":"\u65ec\u7a7a\uff1a"," "),r.Nb(1),r.Gc("color",n.ColorRiYue[2]),r.Nb(1),r.Kc(n.Xunkong[0]),r.Nb(1),r.Gc("color",n.ColorRiYue[3]),r.Nb(1),r.Kc(n.Xunkong[1]),r.Nb(3),r.vc("ngForOf",n.GuaChi),r.Nb(2),r.vc("ngForOf",n.GuaLine))},directives:[u.a,u.b,l.h,l.i,l.j],styles:[".guatb[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.guagrid[_ngcontent-%COMP%]{margin-top:5px;margin-left:0;margin-right:0;--ion-grid-width-lg:540px;--ion-grid-width-md:540px;--ion-grid-width-sm:540px;--ion-grid-width-xl:540px;--ion-grid-width-xs:100%}.debug[_ngcontent-%COMP%]{border-color:red;border-style:solid}.guayao[_ngcontent-%COMP%]{margin-top:5px;border-bottom:1px dashed grey}.table-noline[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0!important;padding-top:0!important}.gua[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0;padding-right:0;text-align:left}table[_ngcontent-%COMP%]{padding:0;margin:0;background-color:#fff}td[_ngcontent-%COMP%]{padding-left:0;padding-right:0;border-collapse:collapse;text-align:left}"]}),c}()}}]);