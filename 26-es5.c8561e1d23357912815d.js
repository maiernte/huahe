function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"+cLM":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("2QJI"),a=i("l+bK"),s=i("uq+3"),h=function(t){return t[t.DaYun=0]="DaYun",t[t.LiuNian=1]="LiuNian",t[t.XiaoYun=2]="XiaoYun",t}({}),r=function(){var t=function(){function t(e,i,n,a){_classCallCheck(this,t),this.Start=e,this.GZ=i,this.birthYear=n,this.type=a,this.type===h.DaYun&&(this.end=new Date(this.Start.getTime()+t.tenyear))}return _createClass(t,[{key:"Old",get:function(){return this.Start.getFullYear()-this.birthYear}},{key:"End",get:function(){return this.end},set:function(t){this.end=t||this.end}},{key:"Year",get:function(){return this.Start.getFullYear()}}]),t}();return t.oneday=864e5,t.oneyear=365.25*t.oneday,t.tenyear=10*t.oneyear,t}(),u=function(){function t(e,i){_classCallCheck(this,t),this.Birthday=e,this.Gender=i,this.bazi=a.b.calcBazi(this.Birthday.getFullYear(),this.Birthday.getMonth()+1,this.Birthday.getDate(),this.Birthday.getHours(),this.Birthday.getMinutes()),this.bazi.Y.Base=this.bazi.D,this.bazi.M.Base=this.bazi.D,this.bazi.D.Base=this.bazi.D,this.bazi.T.Base=this.bazi.D,this.initShenSha(),this.initDaYun()}return _createClass(t,[{key:"CalcShenSha",value:function(t){var e=new Array,i=!0,n=!1,a=void 0;try{for(var s,h=this.ShenSha[Symbol.iterator]();!(i=(s=h.next()).done);i=!0){var r=s.value;1==r.Is(t)&&e.push(r.Name)}}catch(u){n=!0,a=u}finally{try{i||null==h.return||h.return()}finally{if(n)throw a}}return e.join("\u3001")}},{key:"CalcLiuNian",value:function(t,e){for(var i=new Array,s=t-1984;s<0;)s+=60;s%=60;var u=this.T.Index+(t-this.Birthday.getFullYear()+1)*this.Direction;u=(u+600)%60;for(var o=t;o<=e;o++){var c=new n.b(s);c.Base=this.D,c.ShenSha=this.CalcShenSha(c);var l=new n.b(u);l.Base=this.D,l.ShenSha=this.CalcShenSha(l);var g=a.b.getSolarTerms(o,2)[0],f=new r(g,c,this.Birthday.getFullYear(),h.LiuNian);f.GZ2=l,i.push(f),s+=1,s%=60,u=((u+=1*this.Direction)+60)%60}return i}},{key:"equal",value:function(t){return this.Gender==t.Gender&&this.Birthday.toString()==t.Birthday.toString()}},{key:"initShenSha",value:function(){this.shenshas=new Array;var t=this.Y.Index,e=this.M.Index,i=this.D.Index,n=this.T.Index;this.shenshas.push(new s.a("\u5c06\u661f",[i])),this.shenshas.push(new s.a("\u7f8a\u5203",[i])),this.shenshas.push(new s.a("\u7984\u795e",[i])),this.shenshas.push(new s.a("\u534e\u76d6",[i])),this.shenshas.push(new s.a("\u6587\u660c",[i])),this.shenshas.push(new s.a("\u5b66\u5802",[i])),this.shenshas.push(new s.a("\u5929\u559c",[e])),this.shenshas.push(new s.a("\u5929\u533b",[e])),this.shenshas.push(new s.a("\u8d35\u4eba",[i])),this.shenshas.push(new s.a("\u9a7f\u9a6c",[t,i])),this.shenshas.push(new s.a("\u6843\u82b1",[t,i])),this.shenshas.push(new s.a("\u707e\u715e",[t,i])),this.shenshas.push(new s.a("\u52ab\u715e",[t,i])),this.shenshas.push(new s.a("\u65ec\u7a7a",[i])),this.shenshas.push(new s.a("\u9b41\u7f61",[t,e,i,n])),this.shenshas.push(new s.a("\u56db\u5e9f",[t,e,i,n])),this.shenshas.push(new s.a("\u5b64\u8fb0\u5be1\u5bbf",[t,e,i,n])),this.shenshas.push(new s.a("\u9634\u5dee\u9633\u9519",[i]));var a=new s.a("\u5929\u7f57\u5730\u7f51",[t,e,i,n]);a.Gender=this.Gender,this.shenshas.push(a)}},{key:"initDaYun",value:function(){this.dayun=new Array;var t=this.qiDaYun(),e=this.Direction,i=(t.getFullYear(),this.Birthday.getFullYear(),new r(this.Birthday,this.M,this.Birthday.getFullYear(),h.DaYun));i.End=t,this.dayun.push(i);for(var a=0;a<10;a++){var s=new n.b((this.M.Index+(a+1)*e+60)%60);s.Base=this.bazi.D;var u=new Date(t.getTime()+315576e6*a),o=new r(u,s,this.Birthday.getFullYear(),h.DaYun);this.dayun.push(o)}}},{key:"qiDaYun",value:function(){var t=a.b.findNextJieQi(this.Birthday,("m"==this.Gender?1:-1)*(this.Y.Zhi.Index%2==0?1:-1)),e=Math.abs(t.getTime()-this.Birthday.getTime())/6e4*2;return new Date(this.Birthday.getTime()+36e5*e)}},{key:"Y",get:function(){return this.bazi.Y}},{key:"M",get:function(){return this.bazi.M}},{key:"D",get:function(){return this.bazi.D}},{key:"T",get:function(){return this.bazi.T}},{key:"All",get:function(){return[this.bazi.Y,this.bazi.M,this.bazi.D,this.bazi.T]}},{key:"Direction",get:function(){return("m"==this.Gender?1:-1)*(this.Y.Zhi.Index%2==0?1:-1)}},{key:"MingGong",get:function(){if(this.minggong)return this.minggong;var t=this.M.Zhi.Index+1+this.T.Zhi.Index+1,e=t<14?14-t:26-t;return new n.b([(this.Y.Gan.QiYueGan+((e-=1)-2+12)%12)%10,e])}},{key:"TaiYuan",get:function(){return new n.b([(this.M.Gan.Index+1)%10,(this.M.Zhi.Index+3)%12])}},{key:"WuXings",get:function(){if(this.wuxings)return this.wuxings;var t=[0,0,0,0,0];return t[this.Y.Gan.WuXing.Index]+=1,t[this.M.Gan.WuXing.Index]+=1,t[this.D.Gan.WuXing.Index]+=1,t[this.T.Gan.WuXing.Index]+=1,t[this.Y.Zhi.WuXing.Index]+=1,t[this.M.Zhi.WuXing.Index]+=1,t[this.D.Zhi.WuXing.Index]+=1,t[this.T.Zhi.WuXing.Index]+=1,this.wuxings=[{Name:"\u91d1",Num:t[0]},{Name:"\u6c34",Num:t[1]},{Name:"\u6728",Num:t[2]},{Name:"\u706b",Num:t[3]},{Name:"\u571f",Num:t[4]}],this.wuxings}},{key:"ShenSha",get:function(){return this.shenshas}},{key:"DaYun",get:function(){return this.dayun}}]),t}()},"06W+":function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),a=i("3Pt+"),s=i("tyNb"),h=i("c7TG"),r=i("mrSG"),u=i("gTpY"),o=i("ylIl"),c=i("LTmD"),l=(i("0eVs"),i("fXoL"));function g(t,e){if(1&t&&l.ac(0,"app-baziview",9),2&t){var i=l.pc();l.wc("Config",i.Config)("BaziText",i.Bazi)}}function f(t,e){if(1&t&&l.ac(0,"app-guaview",10),2&t){var i=l.pc();l.wc("Config",i.Config)("GuaText",i.Gua)}}function d(t,e){if(1&t&&l.ac(0,"ion-img",11),2&t){var i=l.pc();l.wc("src",i.Img)}}var b,y=((b=function(){function t(e,i,n,a){_classCallCheck(this,t),this.settings=e,this.alertController=i,this.route=n,this.location=a,this.smallSymbol=!1,this.Bazi=null,this.Gua=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.settings.WaitInit();case 2:this.guaconfig=Object(c.b)(this.settings.Gua),this.baziconfig=Object(c.b)(this.settings.Bazi),this.route.params.subscribe((function(t){var i=JSON.parse(t.arg);i&&void 0!==i.ben?e.Gua=i:i&&void 0!==i.male?e.Bazi=i:i&&void 0!==i.img&&(e.Img=atob(i.img),console.log("arg",e.Img))}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"ChangSymbol",value:function(){!1===this.smallSymbol?(this.guaconfig.shensha=4,this.guaconfig.symbol=1,this.baziconfig.shensha=4):(this.guaconfig=Object(c.b)(this.settings.Gua),this.baziconfig=Object(c.b)(this.settings.Bazi)),this.smallSymbol=!this.smallSymbol,this.guaview&&this.guaview.Reflash(this.guaconfig),this.baziview&&this.baziview.Reflash(this.baziconfig)}},{key:"GoBack",value:function(){this.location.back()}},{key:"presentAlert",value:function(t,e,i){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:t||"\u9519\u8bef",subHeader:e||"",message:i,buttons:["\u786e\u5b9a"]});case 2:return a=n.sent,n.next=5,a.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"Config",get:function(){return this.HasGua?this.guaconfig:this.HasBazi?this.baziconfig:null}},{key:"HasGua",get:function(){return!!this.Gua}},{key:"HasBazi",get:function(){return!!this.Bazi}}]),t}()).\u0275fac=function(t){return new(t||b)(l.Zb(c.a),l.Zb(h.b),l.Zb(s.a),l.Zb(n.f))},b.\u0275cmp=l.Tb({type:b,selectors:[["app-panfuviewer"]],viewQuery:function(t,e){var i;1&t&&(l.Oc(u.a,!0),l.Oc(o.a,!0)),2&t&&(l.yc(i=l.nc())&&(e.baziview=i.first),l.yc(i=l.nc())&&(e.guaview=i.first))},decls:18,vars:3,consts:[["color","primary"],["slot","start"],["defaulthref","","text","\u8fd4\u56de"],["slot","end"],[3,"click"],["name","md-options"],[3,"Config","BaziText",4,"ngIf"],[3,"Config","GuaText",4,"ngIf"],[3,"src",4,"ngIf"],[3,"Config","BaziText"],[3,"Config","GuaText"],[3,"src"]],template:function(t,e){1&t&&(l.ec(0,"ion-header"),l.ec(1,"ion-toolbar",0),l.ec(2,"ion-buttons",1),l.ac(3,"ion-back-button",2),l.dc(),l.ec(4,"ion-title"),l.Jc(5,"\u76d8\u7b26"),l.dc(),l.ec(6,"ion-buttons",3),l.ec(7,"ion-button",4),l.mc("click",(function(){return e.ChangSymbol()})),l.ac(8,"ion-icon",5),l.dc(),l.dc(),l.dc(),l.dc(),l.ec(9,"ion-content"),l.Hc(10,g,1,2,"app-baziview",6),l.Hc(11,f,1,2,"app-guaview",7),l.Hc(12,d,1,1,"ion-img",8),l.dc(),l.ec(13,"ion-footer"),l.ec(14,"ion-toolbar"),l.ec(15,"ion-buttons",3),l.ec(16,"ion-button",4),l.mc("click",(function(){return e.GoBack()})),l.Jc(17,"\u8fd4\u56de"),l.dc(),l.dc(),l.dc(),l.dc()),2&t&&(l.Nb(10),l.wc("ngIf",e.HasBazi),l.Nb(1),l.wc("ngIf",e.HasGua),l.Nb(1),l.wc("ngIf",e.Img))},directives:[h.t,h.Y,h.j,h.f,h.g,h.W,h.i,h.u,h.n,n.j,h.r,u.a,o.a,h.v],styles:[""]}),b),w=i("uEAi"),p=i("n7QD");i.d(e,"PanfuviewerPageModule",(function(){return k}));var v,m=[{path:"",component:y}],k=((v=function t(){_classCallCheck(this,t)}).\u0275mod=l.Xb({type:v}),v.\u0275inj=l.Wb({factory:function(t){return new(t||v)},imports:[[w.a,p.a,n.b,a.c,h.Z,s.j.forChild(m)]]}),v)}}]);