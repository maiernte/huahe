(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7L00":function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var s=i("mrSG"),n=i("c7TG"),o=i("PKx9"),r=i("G6JS"),c=i("fXoL"),a=i("ofXK"),l=i("3Pt+");function u(e,t){if(1&e){const e=c.ac();c.Zb(0,"ion-buttons",10),c.Zb(1,"ion-button",3),c.hc("click",(function(){return c.rc(e),c.jc().onclose(!1)})),c.xc(2," \u53d6\u6d88 "),c.Yb(),c.Yb()}}function d(e,t){if(1&e){const e=c.ac();c.Zb(0,"ion-item"),c.Zb(1,"ion-label"),c.Zb(2,"ion-text"),c.xc(3,"\u53d1\u9001\u7ed9\uff1a"),c.Yb(),c.Zb(4,"ion-text",11),c.hc("click",(function(){c.rc(e);const t=c.jc();return t.ShowUserInfo(t.Message.receiver)})),c.xc(5),c.Yb(),c.Yb(),c.Yb()}if(2&e){const e=c.jc();c.Mb(5),c.yc(e.Message.receiver)}}function h(e,t){if(1&e){const e=c.ac();c.Zb(0,"ion-item",12),c.Zb(1,"ion-label"),c.Zb(2,"ion-text"),c.xc(3),c.Yb(),c.Yb(),c.Zb(4,"ion-button",13),c.hc("click",(function(){return c.rc(e),c.jc().EditRoles()})),c.xc(5,"\u63a5\u6536\u8005\u89d2\u8272"),c.Yb(),c.Yb()}if(2&e){const e=c.jc();c.Mb(3),c.yc(e.RollerText)}}function b(e,t){if(1&e){const e=c.ac();c.Zb(0,"ion-item"),c.Zb(1,"ion-text"),c.xc(2,"\u53d1\u9001\u4eba\uff1a"),c.Yb(),c.Zb(3,"ion-select",14),c.hc("ngModelChange",(function(t){return c.rc(e),c.jc().Sender=t})),c.Zb(4,"ion-select-option",15),c.xc(5,"\u7cfb\u7edf\u53d1\u9001"),c.Yb(),c.Zb(6,"ion-select-option",16),c.xc(7),c.Yb(),c.Yb(),c.Zb(8,"ion-label"),c.Zb(9,"ion-segment",14),c.hc("ngModelChange",(function(t){return c.rc(e),c.jc().Replyable=t})),c.Zb(10,"ion-segment-button",17),c.xc(11,"\u53ef\u56de\u590d"),c.Yb(),c.Zb(12,"ion-segment-button",18),c.xc(13,"\u4e0d\u53ef\u56de\u590d"),c.Yb(),c.Yb(),c.Yb(),c.Yb()}if(2&e){const e=c.jc();c.Mb(3),c.oc("ngModel",e.Sender),c.Mb(3),c.oc("value",e.Message.author),c.Mb(1),c.yc(e.Message.author),c.Mb(2),c.oc("ngModel",e.Replyable)}}function f(e,t){if(1&e){const e=c.ac();c.Zb(0,"ion-item"),c.Zb(1,"ion-text"),c.xc(2,"\u6765\u81ea\u4e8e\uff1a"),c.Yb(),c.Zb(3,"ion-text",11),c.hc("click",(function(){c.rc(e);const t=c.jc();return t.ShowUserInfo(t.Message.author)})),c.xc(4),c.Yb(),c.Yb()}if(2&e){const e=c.jc();c.Mb(4),c.zc(" ",e.Message.author,"")}}function p(e,t){if(1&e&&(c.Zb(0,"ion-text"),c.xc(1),c.Yb()),2&e){const e=c.jc();c.Mb(1),c.yc(e.Message.readed?"[\u5df2\u8bfb]\uff1a":"[\u672a\u8bfb]\uff1a")}}function m(e,t){1&e&&(c.Zb(0,"ion-text"),c.xc(1,"\u4e3b\u9898\uff1a"),c.Yb())}function g(e,t){if(1&e){const e=c.ac();c.Zb(0,"ion-textarea",19),c.hc("ngModelChange",(function(t){return c.rc(e),c.jc().Message.content=t})),c.Yb()}if(2&e){const e=c.jc();c.oc("ngModel",e.Message.content)}}function v(e,t){if(1&e&&(c.Zb(0,"ion-label"),c.Xb(1,"br"),c.Zb(2,"ion-text"),c.xc(3),c.Yb(),c.Yb()),2&e){const e=c.jc();c.Mb(3),c.yc(e.Message.content)}}let y=(()=>{class e{constructor(e,t,i,s,n){this.toastController=e,this.loadingController=t,this.alertController=i,this.modalCtrl=s,this.forumservice=n,this.Read=!1,this.NoSend=!1,this.Sender="",this.Replyable="true",this.RollerText=""}ngOnInit(){this.Sender=this.Message.author,this.Replyable=JSON.stringify(this.Message.replyable),this.RollerText=this.Roles2Text(this.Message.roller)}get IsPublic(){return!this.Message.private}EditRoles(){return Object(s.b)(this,void 0,void 0,(function*(){const e=this.Message.roller;let t=!1;const i=yield this.alertController.create({header:"\u63a5\u6536\u8005\u89d2\u8272",inputs:[{name:"register",type:"checkbox",label:"\u6ce8\u518c\u7528\u6237",value:1,checked:(1&e)>0},{name:"vip",type:"checkbox",label:"VIP\u7528\u6237",value:2,checked:(2&e)>0},{name:"huahe",type:"checkbox",label:"\u534e\u9e64\u540c\u95e8",value:4,checked:(4&e)>0},{name:"bbs",type:"checkbox",label:"\u7248\u4e3b",value:8,checked:(8&e)>0},{name:"liuyao",type:"checkbox",label:"\u516d\u723b\u8001\u5e08",value:16,checked:(16&e)>0},{name:"bazi",type:"checkbox",label:"\u547d\u7406\u8001\u5e08",value:32,checked:(32&e)>0},{name:"fengshui",type:"checkbox",label:"\u98ce\u6c34\u8001\u5e08",value:64,checked:(64&e)>0},{name:"supermaster",type:"checkbox",label:"\u5927\u5b97\u5e08",value:128,checked:(128&e)>0},{name:"admin",type:"checkbox",label:"\u7ba1\u7406\u5458",value:256,checked:(256&e)>0}],buttons:[{text:"\u786e\u5b9a",handler:()=>{t=!0}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:()=>{}}]});yield i.present();const{data:s}=yield i.onWillDismiss();console.log("roles",s),this.Message.roller=0;for(const n of s.values)this.Message.roller=this.Message.roller|n;this.RollerText=this.Roles2Text(this.Message.roller),console.log(this.Message.roller)}))}Roles2Text(e){const t=[];return(1&e)>0&&t.push("\u6ce8\u518c\u7528\u6237"),(2&e)>0&&t.push("VIP\u7528\u6237"),(4&e)>0&&t.push("\u534e\u9e64\u540c\u95e8"),(8&e)>0&&t.push("\u7248\u4e3b"),(16&e)>0&&t.push("\u516d\u723b\u8001\u5e08"),(32&e)>0&&t.push("\u547d\u7406\u8001\u5e08"),(64&e)>0&&t.push("\u98ce\u6c34\u8001\u5e08"),(128&e)>0&&t.push("\u5927\u5b97\u5e08"),(256&e)>0&&t.push("\u7ba1\u7406\u5458"),t.join(";")}ShowUserInfo(e){return Object(s.b)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:r.a,componentProps:{Uerid:e}});yield t.present(),yield t.onWillDismiss()}))}onclose(e){return Object(s.b)(this,void 0,void 0,(function*(){this.IsPublic&&(this.Message.replyable="true"===this.Replyable,this.Message.author=this.Sender),this.NoSend&&e?this.modalCtrl.dismiss(!0):e&&!this.Read?(yield this.showLoading(),this.Message.created=Date.now(),this.forumservice.SendMessage(this.Message).then(e=>{this.ToastMsg(),this.modalCtrl.dismiss(!0)}).finally(()=>{this.closeLoading()})):this.modalCtrl.dismiss(!1)}))}ToastMsg(){return Object(s.b)(this,void 0,void 0,(function*(){const e=this.Message.private?this.Message.receiver:this.RollerText,t=yield this.toastController.create({message:`\u6d88\u606f\u5df2\u7ecf\u53d1\u9001\u7ed9 ${e}`,duration:3e3});yield t.present()}))}showLoading(){return Object(s.b)(this,void 0,void 0,(function*(){this.loadingView||(this.loadingView=yield this.loadingController.create({message:"\u4fdd\u5b58\u5230\u8bba\u575b...",duration:6e4})),yield this.loadingView.present()}))}closeLoading(){return Object(s.b)(this,void 0,void 0,(function*(){this.loadingView&&(yield this.loadingView.dismiss(),this.loadingView=null)}))}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(n.jb),c.Wb(n.bb),c.Wb(n.b),c.Wb(n.cb),c.Wb(o.a))},e.\u0275cmp=c.Qb({type:e,selectors:[["app-messageeditor"]],inputs:{Message:"Message",Read:"Read",NoSend:"NoSend"},decls:24,vars:13,consts:[[3,"color"],["slot","start",4,"ngIf"],["slot","end"],[3,"click"],[4,"ngIf"],["class","ion-text-wrap",4,"ngIf"],["required","","type","text","placeholder","\u8bf7\u8f93\u5165\u4e3b\u9898",3,"readonly","ngModel","ngModelChange"],[2,"margin-left","5px"],["position","stacked"],["placeholder","\u6d88\u606f\u5185\u5bb9\u3002\u3002\u3002","rows","12","auto-grow","true",3,"ngModel","ngModelChange",4,"ngIf"],["slot","start"],["color","primary",3,"click"],[1,"ion-text-wrap"],["slot","end",3,"click"],[3,"ngModel","ngModelChange"],["value","system"],[3,"value"],["value","true"],["value","false"],["placeholder","\u6d88\u606f\u5185\u5bb9\u3002\u3002\u3002","rows","12","auto-grow","true",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(c.Zb(0,"ion-header"),c.Zb(1,"ion-toolbar",0),c.wc(2,u,3,0,"ion-buttons",1),c.Zb(3,"ion-title"),c.xc(4),c.Yb(),c.Zb(5,"ion-buttons",2),c.Zb(6,"ion-button",3),c.hc("click",(function(){return t.onclose(!0)})),c.xc(7," \u786e\u5b9a "),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Zb(8,"ion-content"),c.Zb(9,"ion-list"),c.wc(10,d,6,1,"ion-item",4),c.wc(11,h,6,1,"ion-item",5),c.wc(12,b,14,4,"ion-item",4),c.wc(13,f,5,1,"ion-item",4),c.Zb(14,"ion-item"),c.Zb(15,"ion-label"),c.wc(16,p,2,1,"ion-text",4),c.wc(17,m,2,0,"ion-text",4),c.Yb(),c.Zb(18,"ion-input",6),c.hc("ngModelChange",(function(e){return t.Message.title=e})),c.Yb(),c.Yb(),c.Zb(19,"div",7),c.Zb(20,"ion-label",8),c.xc(21,"\u5185\u5bb9"),c.Yb(),c.wc(22,g,1,1,"ion-textarea",9),c.wc(23,v,4,1,"ion-label",4),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Mb(1),c.oc("color",t.Read?"primary":"secondary"),c.Mb(1),c.oc("ngIf",!t.Read),c.Mb(2),c.yc(t.Read?"\u6d88\u606f\u5185\u5bb9":"\u7f16\u8f91\u6d88\u606f"),c.Mb(6),c.oc("ngIf",!t.IsPublic),c.Mb(1),c.oc("ngIf",t.IsPublic),c.Mb(1),c.oc("ngIf",t.IsPublic),c.Mb(1),c.oc("ngIf",t.Read&&!t.IsPublic),c.Mb(3),c.oc("ngIf",t.Read),c.Mb(1),c.oc("ngIf",!t.Read),c.Mb(1),c.oc("readonly",t.Read)("ngModel",t.Message.title),c.Mb(4),c.oc("ngIf",!t.Read),c.Mb(1),c.oc("ngIf",t.Read))},directives:[n.s,n.Y,a.j,n.W,n.k,n.j,n.o,n.D,n.w,n.C,n.v,n.ib,l.e,l.c,l.d,n.T,n.P,n.hb,n.Q,n.N,n.O,n.U],styles:[""]}),e})()},"8/yo":function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var s=i("mrSG"),n=i("c7TG"),o=(i("Y6BA"),i("LTmD")),r=i("lEof"),c=i("+z1p"),a=i("LvB5"),l=i("SRjL"),u=i("pNW8"),d=i("+cLM"),h=i("PKx9"),b=i("CGrG"),f=i("i/He"),p=i("fXoL"),m=i("3Pt+"),g=i("ofXK"),v=i("zioG");const y=["filePicker"];function M(e,t){if(1&e){const e=p.ac();p.Zb(0,"ion-button",14),p.hc("click",(function(){return p.rc(e),p.jc().GuaInfo()})),p.Zb(1,"ion-text"),p.xc(2,"\u5366\u76d8"),p.Yb(),p.Yb()}}function x(e,t){if(1&e){const e=p.ac();p.Zb(0,"ion-button",14),p.hc("click",(function(){return p.rc(e),p.jc().BaziInfo()})),p.Zb(1,"ion-text"),p.xc(2,"\u547d\u76d8"),p.Yb(),p.Yb()}}const w=i("mxV5");let k=(()=>{class e{constructor(e,t,i,s,n,o){this.settings=e,this.host=t,this.forumservice=i,this.alertController=s,this.loadingController=n,this.modalCtrl=o,this.Private=!1,this.Gua=null,this.Bazi=null,this.Content="",this.TitelEditable=!0,this.Editor=c,this.EditorConfig={toolbar:["heading","|","bold","italic","bulletedList","numberedList","|","link","undo","redo"]},this.readMode=b.c.arrayBuffer}ngOnInit(){this.MainTopic?this.Titel=this.MainTopic.title:(this.Titel=this.forumname,this.forumname="\u56de\u5e16",this.TitelEditable=!1);const e=this.MainTopic||this.VTopic;this.Gua=e.gua,this.Bazi=e.bazi,this.Content=e.content}get Titel(){return this.titel||""}set Titel(e){this.titel=(e||"").substring(0,30)}onSave(){var e,t;return Object(s.b)(this,void 0,void 0,(function*(){this.Titel.trim().IsNullOrEmpty()?this.presentAlert("\u9519\u8bef",null,"\u9898\u76ee\u4e0d\u80fd\u4e3a\u7a7a"):(yield this.showLoading(),(null===(e=this.MainTopic)||void 0===e?void 0:e.id)||(null===(t=this.VTopic)||void 0===t?void 0:t.id)?this.UpdateToServer():this.SaveNewToServer())}))}onCancel(){this.modalCtrl.dismiss(null)}showPaiguaModal(){return Object(s.b)(this,void 0,void 0,(function*(){if(this.MainTopic.gua)return void(this.MainTopic.gua=null);const e=yield this.modalCtrl.create({component:a.a});yield e.present();const{data:t}=yield e.onWillDismiss();t.result&&(this.Gua=t.result,new u.a(this.Gua.time,this.Gua.ben,this.Gua.bian))}))}showPaiBaziModal(){return Object(s.b)(this,void 0,void 0,(function*(){if(this.MainTopic.bazi)return void(this.MainTopic.bazi=null);const e=yield this.modalCtrl.create({component:l.a});yield e.present();const{data:t}=yield e.onWillDismiss();t.result&&(this.Bazi=t.result)}))}GuaInfo(){return Object(s.b)(this,void 0,void 0,(function*(){const e=this.Gua,t="string"==typeof e.time?e.time:`${e.time[0]}\u6708${e.time[1]}\u65e5`,i=new u.a(e.time,e.ben,e.bian);this.presentAlert("\u5366\u672c",t,i.Ben.Name+(i.Ben.Index!==i.Bian.Index?` \u4e4b ${i.Bian.Name}`:""))}))}BaziInfo(){return Object(s.b)(this,void 0,void 0,(function*(){const e=this.Bazi,t=`${e.person} (${e.male?"\u4e7e":"\u5764"}\u9020)`,i=e.time.parseDate(),s=new d.a(i,e.male?"m":"f");this.presentAlert("\u547d\u76d8",t,`${s.Y.Name}\u5e74 ${s.M.Name}\u6708 ${s.D.Name}\u65e5 ${s.T.Name}\u65f6`)}))}CheckImageRight(){return Object(s.b)(this,void 0,void 0,(function*(){const e=(yield this.forumservice.ForumList()).find(e=>e.id===this.forumid);return e&&!1!==e.image?0==(2&this.settings.User.roller)?(this.presentAlert("\u4f20\u56fe\u6743\u9650",null,"\u76ee\u524d\u53ea\u5bf9VIP\u7528\u6237\u5f00\u653e\u672c\u5730\u56fe\u5e8a\u7684\u6743\u9650\u3002\n      \u975eVIP\u7528\u6237\u53ef\u4ee5\u5728\u5e16\u5b50\u5185\u5bb9\u91cc\u6dfb\u52a0\u5916\u90e8\u56fe\u7247\u94fe\u63a5\u3002"),Promise.resolve(!1)):""===((this.MainTopic||this.VTopic).id||"")?(this.presentAlert("\u4f20\u56fe\u6743\u9650",null,"\u8bf7\u5728\u521b\u5efa\u5e16\u5b50\u6210\u529f\u540e\uff0c\u4fee\u6539\u5e16\u5b50\u65f6\u6dfb\u52a0\u56fe\u7247\u3002"),Promise.resolve(!1)):Promise.resolve(!0):(this.presentAlert("\u4f20\u56fe\u6743\u9650",null,"\u672c\u8ba8\u8bba\u533a\u6ca1\u6709\u5f00\u653e\u56fe\u7247\u6743\u9650\u3002"),Promise.resolve(!1))}))}onReadStart(e){}onFilePicked(e){return Object(s.b)(this,void 0,void 0,(function*(){if(!(yield this.CheckImageRight()))return;const t=f.Buffer.from(e.content);if(t.length/1024>500)return void this.presentAlert("\u6587\u4ef6\u592a\u5927",null,"\u9650\u4e8e\u8fd0\u8425\u6210\u672c\uff0c\u76ee\u524d\u53ea\u63a5\u53d7\u5c0f\u4e8e 500KB \u7684\u56fe\u7247\u3002");const i=e.name.split("."),s=i[i.length-1].toLowerCase();if(!["jpg","png","jpeg"].includes(s))return void this.presentAlert("\u6587\u4ef6\u683c\u5f0f",null,"\u53ea\u63a5\u53d7 jpg, jpeg, png \u683c\u5f0f\u7684\u56fe\u7247\u3002");yield this.showLoading();const n=this.settings.User;this.host.GetAliToken(n.id,n.password,"osstoken").then(e=>{const i={region:e.region,accessKeyId:e.token.accessKeyId,accessKeySecret:e.token.accessKeySecret,stsToken:e.token.securityToken,bucket:"huaheapp",endpoint:e.endpoint};console.log("got token",i);const n=`forum/${this.forumid}/${(this.MainTopic||this.VTopic).id}.${s}`;return new w(i).put(n,t)}).then(e=>{const t=this.MainTopic||this.VTopic;return t.img=e.url,this.forumservice.UpdateTopic({img:e.url},t.id,this.Private)}).then(e=>{this.presentAlert("\u4e0a\u4f20\u6210\u529f\uff01",null,"\u8bf7\u70b9\u51fb\u66f4\u65b0\u7528\u6237\u8d44\u6599\uff0c\u66f4\u65b0\u5934\u50cf\u94fe\u63a5\u3002")}).catch(e=>{console.log("get token failed:",e),this.presentAlert("\u4e0a\u4f20\u5934\u50cf\u5931\u8d25",null," \u8bf7\u786e\u5b9a\u60a8\u62e5\u6709\u64cd\u4f5c\u6743\u9650\u3002\u8bf7\u91cd\u65b0\u4e0a\u4f20\uff0c\u6216\u7a0d\u540e\u518d\u8bd5\u3002")})}))}onReadEnd(e){this.filePicker.reset()}presentAlert(e,t,i){return Object(s.b)(this,void 0,void 0,(function*(){yield this.closeLoading();const s=yield this.alertController.create({header:e||"\u9519\u8bef",subHeader:t||"",message:i,buttons:["\u786e\u5b9a"]});yield s.present()}))}SaveNewToServer(){const e=this.SaveTo(this.MainTopic||this.VTopic);this.forumservice.NewTopic(this.Private?null:this.forumid,e).then(t=>{e.id=t.insertedId,this.modalCtrl.dismiss(e)}).catch(e=>{this.presentAlert("\u9519\u8bef","\u521b\u5efa\u5931\u8d25",JSON.stringify(e))}).finally(()=>{this.closeLoading()})}UpdateToServer(){var e,t;const i={};this.SaveTo(i);const s=(null===(e=this.MainTopic)||void 0===e?void 0:e.id)||(null===(t=this.VTopic)||void 0===t?void 0:t.id);this.forumservice.UpdateTopic(i,s,this.Private).then(e=>{this.SaveTo(this.MainTopic||this.VTopic),this.modalCtrl.dismiss(!0)}).catch(e=>{this.presentAlert("\u9519\u8bef","\u521b\u5efa\u5931\u8d25",JSON.stringify(e))}).finally(()=>{this.closeLoading()})}SaveTo(e){try{return this.MainTopic&&(e.title=this.Titel),e.gua=this.Gua,e.bazi=this.Bazi,e.content=this.Content,e.modified=Date.now(),e}catch(t){console.log(t)}}showLoading(){return Object(s.b)(this,void 0,void 0,(function*(){this.loadingView||(this.loadingView=yield this.loadingController.create({message:"\u4fdd\u5b58\u5230\u8bba\u575b...",duration:6e4})),yield this.loadingView.present()}))}closeLoading(){return Object(s.b)(this,void 0,void 0,(function*(){this.loadingView&&(yield this.loadingView.dismiss(),this.loadingView=null)}))}}return e.\u0275fac=function(t){return new(t||e)(p.Wb(o.a),p.Wb(r.a),p.Wb(h.a),p.Wb(n.b),p.Wb(n.bb),p.Wb(n.cb))},e.\u0275cmp=p.Qb({type:e,selectors:[["app-topiceditor"]],viewQuery:function(e,t){var i;1&e&&p.Ac(y,!0),2&e&&p.qc(i=p.ic())&&(t.filePicker=i.first)},inputs:{MainTopic:"MainTopic",VTopic:"VTopic",forumid:"forumid",forumname:"forumname",Private:"Private"},decls:40,vars:11,consts:[["color","secondary"],["slot","start"],[3,"click"],["name","close-circle"],["slot","end"],["name","save"],["position","fixed"],["placeholder","\u8bf7\u8f93\u5165\u9898\u76ee\uff1a\u4e0d\u8d85\u8fc730\u4e2a\u5b57\u7b26",3,"ngModel","disabled","ngModelChange"],["color","medium",3,"click",4,"ngIf"],[3,"name"],["ngxFilePicker","","fill","outline",3,"readMode","readStart","filePick","readEnd"],["filePicker","ngxFilePicker"],["name","image"],[3,"ngModel","config","editor","ngModelChange"],["color","medium",3,"click"]],template:function(e,t){1&e&&(p.Zb(0,"ion-header"),p.Zb(1,"ion-toolbar",0),p.Zb(2,"ion-buttons",1),p.Zb(3,"ion-button",2),p.hc("click",(function(){return t.onCancel()})),p.Xb(4,"ion-icon",3),p.Zb(5,"ion-text"),p.xc(6,"\u53d6\u6d88"),p.Yb(),p.Yb(),p.Yb(),p.Zb(7,"ion-title"),p.xc(8),p.Yb(),p.Zb(9,"ion-buttons",4),p.Zb(10,"ion-button",2),p.hc("click",(function(){return t.onSave()})),p.Xb(11,"ion-icon",5),p.Zb(12,"ion-text"),p.xc(13,"\u4fdd\u5b58"),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Zb(14,"ion-content"),p.Zb(15,"ion-item"),p.Zb(16,"ion-label",6),p.xc(17,"\u9898\u76ee"),p.Yb(),p.Zb(18,"ion-input",7),p.hc("ngModelChange",(function(e){return t.Titel=e})),p.Yb(),p.Yb(),p.Zb(19,"ion-item"),p.Zb(20,"ion-text"),p.xc(21,"\u5185\u5bb9"),p.Yb(),p.Zb(22,"ion-buttons"),p.wc(23,M,3,0,"ion-button",8),p.wc(24,x,3,0,"ion-button",8),p.Yb(),p.Zb(25,"ion-buttons",4),p.Zb(26,"ion-button",2),p.hc("click",(function(){return t.showPaiguaModal()})),p.Xb(27,"ion-icon",9),p.Zb(28,"ion-text"),p.xc(29,"\u516d\u723b"),p.Yb(),p.Yb(),p.Zb(30,"ion-button",2),p.hc("click",(function(){return t.showPaiBaziModal()})),p.Xb(31,"ion-icon",9),p.Zb(32,"ion-text"),p.xc(33,"\u516b\u5b57"),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Zb(34,"ion-item"),p.Zb(35,"ion-button",10,11),p.hc("readStart",(function(e){return t.onReadStart(e)}))("filePick",(function(e){return t.onFilePicked(e)}))("readEnd",(function(e){return t.onReadEnd(e)})),p.Xb(37,"ion-icon",12),p.xc(38," \u4e0a\u4f20\u56fe\u7247 "),p.Yb(),p.Yb(),p.Zb(39,"ckeditor",13),p.hc("ngModelChange",(function(e){return t.Content=e})),p.Yb(),p.Yb()),2&e&&(p.Mb(8),p.zc("\u7f16\u8f91\uff1a",t.forumname,""),p.Mb(10),p.oc("ngModel",t.Titel)("disabled",!t.TitelEditable),p.Mb(5),p.oc("ngIf",t.Gua),p.Mb(1),p.oc("ngIf",t.Bazi),p.Mb(3),p.oc("name",t.Gua?"backspace":"add"),p.Mb(4),p.oc("name",t.Bazi?"backspace":"add"),p.Mb(4),p.oc("readMode",t.readMode),p.Mb(4),p.oc("ngModel",t.Content)("config",t.EditorConfig)("editor",t.Editor))},directives:[n.s,n.Y,n.k,n.j,n.t,n.T,n.W,n.o,n.w,n.C,n.v,n.ib,m.c,m.d,g.j,b.a,v.a],styles:[""]}),e})()},CGrG:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return l}));var s=i("mrSG"),n=i("fXoL");const o=function(){var e={arrayBuffer:0,binaryString:1,dataURL:2,text:3};return e[e.arrayBuffer]="arrayBuffer",e[e.binaryString]="binaryString",e[e.dataURL]="dataURL",e[e.text]="text",e}();class r{constructor(e,t,i){this._underlyingFile=e,this._readMode=t,this._content=i}get name(){return this._underlyingFile.name}get size(){return this._underlyingFile.size}get type(){return this._underlyingFile.type}get readMode(){return this._readMode}get content(){return this._content}get underlyingFile(){return this._underlyingFile}}let c=(()=>{class e{constructor(){this.filter=()=>!0,this.readStart=new n.s,this.readEnd=new n.s}readFiles(e,t){return Object(s.b)(this,void 0,void 0,(function*(){const i=Array.from(e).filter(this.filter),n=i.length;this.readStart.emit(n),yield Promise.all(i.map(e=>Object(s.b)(this,void 0,void 0,(function*(){const i=yield function(e,t){return Object(s.b)(this,void 0,void 0,(function*(){return new Promise((i,s)=>{const n=new FileReader;switch(n.onload=s=>{const n=new r(e,t,s.target.result);i(n)},n.onerror=e=>{s(e)},t){case o.arrayBuffer:n.readAsArrayBuffer(e);break;case o.binaryString:n.readAsBinaryString(e);break;case o.text:n.readAsText(e);break;case o.dataURL:default:n.readAsDataURL(e)}})}))}(e,this.readMode);t(i)})))),this.readEnd.emit(n)}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Rb({type:e,inputs:{filter:"filter",readMode:"readMode"},outputs:{readStart:"readStart",readEnd:"readEnd"}}),e})(),a=(()=>{class e extends c{constructor(e,t){super(),this.el=e,this.renderer=t,this.accept="",this.filePick=new n.s}get multiple(){return this._multiple}set multiple(e){this._multiple=function(e){return null!=e&&"false"!==`${e}`}(e)}ngOnInit(){this._input=this.renderer.createElement("input"),this.renderer.appendChild(this.el.nativeElement,this._input),this.renderer.setAttribute(this._input,"type","file"),this.renderer.setAttribute(this._input,"accept",this.accept),this.renderer.setStyle(this._input,"display","none"),this.multiple&&this.renderer.setAttribute(this._input,"multiple","multiple"),this.renderer.listen(this._input,"change",e=>this._onListen(e))}reset(){this._input?this._input.value=null:console.error("It seems that ngOnInit() has not been executed or that the hidden _input element is null. Did you mess with the DOM?")}browse(){this._input?this._input.click():console.error("It seems that ngOnInit() has not been executed or that the hidden _input element is null. Did you mess with the DOM?")}_onListen(e){this.readFiles(e.target.files,e=>this.filePick.emit(e))}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(n.q),n.Wb(n.M))},e.\u0275dir=n.Rb({type:e,selectors:[["","ngxFilePicker",""]],hostBindings:function(e,t){1&e&&n.hc("click",(function(){return t.browse()}))},inputs:{accept:"accept",multiple:"multiple"},outputs:{filePick:"filePick"},exportAs:["ngxFilePicker"],features:[n.Jb]}),e})(),l=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)},imports:[[]]}),e})()},G6JS:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var s=i("mrSG"),n=i("c7TG"),o=i("PKx9"),r=i("LTmD"),c=i("7L00"),a=i("8/yo"),l=(i("0eVs"),i("Y6BA")),u=i("fXoL"),d=i("tyNb"),h=i("ofXK");function b(e,t){if(1&e&&(u.Zb(0,"ion-chip"),u.Zb(1,"ion-avatar"),u.Xb(2,"img",5),u.Yb(),u.Zb(3,"ion-text"),u.xc(4),u.Yb(),u.Yb()),2&e){const e=t.$implicit;u.Mb(2),u.oc("src",e.icon,u.tc),u.Mb(2),u.yc(e.name)}}function f(e,t){if(1&e){const e=u.ac();u.Zb(0,"ion-button",11),u.hc("click",(function(){return u.rc(e),u.jc().ShowPanfu()})),u.xc(1,"\u547d\u76d8"),u.Yb()}}function p(e,t){if(1&e){const e=u.ac();u.Zb(0,"ion-buttons",1),u.Zb(1,"ion-button",2),u.hc("click",(function(){return u.rc(e),u.jc(2).EditTopic()})),u.xc(2,"\u5411\u4ed6\u6c42\u52a9"),u.Yb(),u.Yb()}}function m(e,t){if(1&e){const e=u.ac();u.Zb(0,"ion-item"),u.Zb(1,"ion-buttons"),u.Zb(2,"ion-button",2),u.hc("click",(function(){return u.rc(e),u.jc().EditMessage()})),u.xc(3,"\u7ed9\u4ed6\u53d1\u77ed\u6d88\u606f"),u.Yb(),u.Yb(),u.wc(4,p,3,0,"ion-buttons",12),u.Yb()}if(2&e){const e=u.jc();u.Mb(4),u.oc("ngIf",e.IsMaster)}}function g(e,t){if(1&e){const e=u.ac();u.Zb(0,"ion-footer"),u.Zb(1,"ion-toolbar"),u.Zb(2,"ion-buttons"),u.Zb(3,"ion-button",2),u.hc("click",(function(){return u.rc(e),u.jc().EditRoles()})),u.xc(4,"\u66f4\u6539\u89d2\u8272"),u.Yb(),u.Zb(5,"ion-button",2),u.hc("click",(function(){return u.rc(e),u.jc().ExtendVIP()})),u.xc(6,"VIP\u5ef6\u671f"),u.Yb(),u.Yb(),u.Yb(),u.Yb()}}let v=(()=>{class e{constructor(e,t,i,s,n,o,r){this.modalCtrl=e,this.loadingController=t,this.toastController=i,this.alertController=s,this.forumservice=n,this.settings=o,this.router=r,this.Avatar="",this.Name="",this.Gender="\u6ca1\u6709\u516c\u5f00",this.Bazi=null,this.Describe="\u4ed6\u5f88\u61d2\uff0c\u4ec0\u4e48\u90fd\u6ca1\u5199\u3002",this.IsMaster=!1,this.Rolers=[]}ngOnInit(){return Object(s.b)(this,void 0,void 0,(function*(){this.Avatar=this.settings.Avatar("male"),yield this.showLoading(),this.forumservice.GetUserInfo(this.Uerid).then(e=>{this.Avatar=e.avatar||this.settings.Avatar(e.gender),this.Name=e.id,this.Rolers=this.settings.UserRolers(e.roller),this.Gender="male"===e.gender?"\u7537\u58eb":this.Gender,this.Gender="female"===e.gender?"\u5973\u58eb":this.Gender,this.Describe=""!==(e.describe||"")?e.describe:this.Describe,this.IsMaster=e.roller>=16,e.birthday&&(this.Bazi={person:e.id,male:"female"!==e.gender,time:e.birthday,place:["\u672a\u77e5","\u672a\u77e5"],realsuntime:!1}),this.vuser=e}).finally(()=>{this.closeLoading()})}))}get IsMe(){return this.Uerid===this.settings.User.id}get IsAmdin(){const e=this.settings.User;return!!e&&e.roller>=256}onSave(){this.modalCtrl.dismiss(!0)}ShowPanfu(){this.onSave(),this.router.navigate([`menu/topicpanfu/${JSON.stringify(this.Bazi)}`])}EditMessage(){return Object(s.b)(this,void 0,void 0,(function*(){const e={id:Object(l.b)(),created:Date.now(),valid:0,author:this.settings.User.id,receiver:this.Uerid,roller:0,readed:!1,private:!0,replyable:!0,title:"\u3002\u3002\u3002\u4f60\u597d\uff01",content:""},t=yield this.modalCtrl.create({component:c.a,componentProps:{Message:e}});yield t.present(),yield t.onWillDismiss()}))}EditTopic(){return Object(s.b)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:a.a,componentProps:{MainTopic:this.CreateMainTopic(),forumid:null,forumname:"\u4e2a\u4eba\u6c42\u52a9"}});yield e.present();const{data:t}=yield e.onWillDismiss();t&&this.presentToast("\u6c42\u52a9\u5df2\u53d1\u9001\uff0c\u8bf7\u7b49\u5f85\u56de\u590d\u3002")}))}EditRoles(){return Object(s.b)(this,void 0,void 0,(function*(){const e=this.vuser.roller;let t=!1;const i=yield this.alertController.create({header:"\u63a5\u6536\u8005\u89d2\u8272",inputs:[{name:"register",type:"checkbox",label:"\u6ce8\u518c\u7528\u6237",value:1,checked:(1&e)>0},{name:"vip",type:"checkbox",label:"VIP\u7528\u6237",value:2,checked:(2&e)>0},{name:"huahe",type:"checkbox",label:"\u534e\u9e64\u540c\u95e8",value:4,checked:(4&e)>0},{name:"bbs",type:"checkbox",label:"\u7248\u4e3b",value:8,checked:(8&e)>0},{name:"liuyao",type:"checkbox",label:"\u516d\u723b\u8001\u5e08",value:16,checked:(16&e)>0},{name:"bazi",type:"checkbox",label:"\u547d\u7406\u8001\u5e08",value:32,checked:(32&e)>0},{name:"fengshui",type:"checkbox",label:"\u98ce\u6c34\u8001\u5e08",value:64,checked:(64&e)>0},{name:"supermaster",type:"checkbox",label:"\u5927\u5b97\u5e08",value:128,checked:(128&e)>0},{name:"admin",type:"checkbox",label:"\u7ba1\u7406\u5458",value:256,checked:(256&e)>0}],buttons:[{text:"\u786e\u5b9a",handler:()=>{t=!0}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:()=>{}}]});yield i.present();const{data:s}=yield i.onWillDismiss();if(!t)return;let n=0;for(const o of s.values)n|=o;yield this.showLoading(),this.forumservice.UpgradUser(this.vuser.id,{roller:n}).then(()=>{this.vuser.roller=n,this.Rolers=this.settings.UserRolers(n)}).catch(e=>{this.presentToast("\u8bbe\u7f6e\u7528\u6237\u6743\u9650\u5931\u8d25\u3002")}).finally(()=>{this.closeLoading()})}))}ExtendVIP(){return Object(s.b)(this,void 0,void 0,(function*(){let e=!1;const t=yield this.alertController.create({header:"\u5ef6\u957fVIP",inputs:[{name:"30days",type:"radio",label:"30 \u65e5",value:30,checked:!0},{name:"60days",type:"radio",label:"60 \u65e5",value:90,checked:!1},{name:"90days",type:"radio",label:"90 \u65e5",value:90,checked:!1},{name:"180days",type:"radio",label:"180 \u65e5",value:180,checked:!1},{name:"365days",type:"radio",label:"365 \u65e5",value:365,checked:!1}],buttons:[{text:"\u786e\u5b9a",handler:()=>{e=!0}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary",handler:()=>{}}]});yield t.present();const{data:i}=yield t.onWillDismiss();yield this.showLoading(),this.forumservice.UpgradUser(this.vuser.id,{vip:i.values}).then(()=>{new Date(i.values),this.presentToast(`\u7528\u6237"${this.vuser.id}"\u7684VIP\u6743\u9650\u5ef6\u957f\u4e86 ${i.values} \u65e5\u3002`)}).catch(e=>{this.presentToast("\u8bbe\u7f6e\u7528\u6237\u6743\u9650\u5931\u8d25\u3002")}).finally(()=>{this.closeLoading()})}))}showLoading(){return Object(s.b)(this,void 0,void 0,(function*(){this.loadingView||(this.loadingView=yield this.loadingController.create({message:"\u4fdd\u5b58\u7528\u6237\u8d44\u6599...",duration:6e4})),yield this.loadingView.present()}))}closeLoading(){return Object(s.b)(this,void 0,void 0,(function*(){this.loadingView&&(yield this.loadingView.dismiss(),this.loadingView=null)}))}CreateMainTopic(){const e=this.settings.User,t=Date.now();return{id:"",created:t,modified:t,author:e.id,forumid:this.Uerid,title:"",top:0,good:!1,update:0,gua:null,bazi:null,img:null,content:"",frozen:!1,deleted:!1,child:0,view:0}}presentToast(e){return Object(s.b)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:e,duration:2e3})).present()}))}}return e.\u0275fac=function(t){return new(t||e)(u.Wb(n.cb),u.Wb(n.bb),u.Wb(n.jb),u.Wb(n.b),u.Wb(o.a),u.Wb(r.a),u.Wb(d.g))},e.\u0275cmp=u.Qb({type:e,selectors:[["app-publicprofil"]],inputs:{Uerid:"Uerid"},decls:28,vars:8,consts:[["color","secondary"],["slot","end"],[3,"click"],["name","log-out"],["slot","start"],[3,"src"],[1,"ion-text-wrap"],[4,"ngFor","ngForOf"],["fill","outline",3,"click",4,"ngIf"],[4,"ngIf"],[3,"innerHtml"],["fill","outline",3,"click"],["slot","end",4,"ngIf"]],template:function(e,t){1&e&&(u.Zb(0,"ion-header"),u.Zb(1,"ion-toolbar",0),u.Zb(2,"ion-title"),u.xc(3,"\u7b80\u4ecb/\u8d44\u5386"),u.Yb(),u.Zb(4,"ion-buttons",1),u.Zb(5,"ion-button",2),u.hc("click",(function(){return t.onSave()})),u.Xb(6,"ion-icon",3),u.Zb(7,"ion-text"),u.xc(8,"\u5173\u95ed"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(9,"ion-content"),u.Zb(10,"ion-item"),u.Zb(11,"ion-thumbnail",4),u.Xb(12,"ion-img",5),u.Yb(),u.Zb(13,"ion-label",6),u.Zb(14,"ion-text"),u.xc(15),u.Yb(),u.Xb(16,"p"),u.wc(17,b,5,2,"ion-chip",7),u.Yb(),u.Yb(),u.Zb(18,"ion-item"),u.Zb(19,"ion-label"),u.Zb(20,"ion-text"),u.xc(21),u.Yb(),u.Yb(),u.wc(22,f,2,0,"ion-button",8),u.Yb(),u.wc(23,m,5,1,"ion-item",9),u.Zb(24,"ion-item"),u.Zb(25,"ion-label"),u.Xb(26,"ion-text",10),u.Yb(),u.Yb(),u.Yb(),u.wc(27,g,7,0,"ion-footer",9)),2&e&&(u.Mb(12),u.oc("src",t.Avatar),u.Mb(3),u.yc(t.Name),u.Mb(2),u.oc("ngForOf",t.Rolers),u.Mb(4),u.zc("\u6027\u522b\uff1a",t.Gender,""),u.Mb(1),u.oc("ngIf",t.Bazi),u.Mb(1),u.oc("ngIf",!t.IsMe),u.Mb(3),u.oc("innerHtml",t.Describe,u.sc),u.Mb(1),u.oc("ngIf",t.IsAmdin))},directives:[n.s,n.Y,n.W,n.k,n.j,n.t,n.T,n.o,n.w,n.V,n.u,n.C,h.i,h.j,n.m,n.f,n.q],styles:[""]}),e})()},PKx9:function(e,t,i){"use strict";var s=i("mrSG"),n=i("LTmD"),o=i("lEof");i("aGhr");class r{constructor(){this.topics=[]}Reset(){this.topics=[]}GetPage(e,t=0){const i=this.topics.find(i=>i.forumid===e&&t===i.page);return i?{data:i.items,sum:i.sum}:null}SetPage(e,t,i,s){const n=this.topics.find(i=>i.forumid===e&&t===i.page);n?n.items=i:this.topics.push({forumid:e,page:t,items:i,sum:s})}GetTopic(e){for(const t of this.topics){const i=t.items.find(t=>t.id===e);if(i)return i}return null}SetTopic(e,t){const i=this.GetPage(t,0);i?i.data.insert(0,e):this.SetPage(t,0,[e],1)}DeleteTopic(e,t){if(t);else for(const i of this.topics)i.items.find(t=>t.id===e)&&(i.items=i.items.filter(t=>t.id!==e))}UpdateTopic(e){const t=this.GetTopic(e.id);if(t)for(let i in e)t[i]=e[i]}}var c=i("Y6BA"),a=(i("0eVs"),i("fXoL"));i.d(t,"a",(function(){return l}));let l=(()=>{class e{constructor(e,t){this.settings=e,this.host=t,this.vusers=[],this.currentTopics=[],this.ForumMG=new r,this.user=this.settings.User||c.a}get VUsers(){return this.vusers=this.vusers||[],this.vusers=this.vusers.filter(e=>!!e)||[],this.vusers}set VUsers(e){this.vusers=e||[]}ForumList(e=!1){return Object(s.b)(this,void 0,void 0,(function*(){return this.ForumMG.Forumlist&&!1===e?Promise.resolve(this.ForumMG.Forumlist):(yield this.settings.WaitInit(),this.user=this.settings.User||c.a,this.LoadForumList())}))}LoadTopicList(e,t,i){return Object(s.b)(this,void 0,void 0,(function*(){let s=e||"forum_"+i;s=-2===i?e+"good":s;const n=-1===i?i:t,o=this.ForumMG.GetPage(s,n);if(o)return Promise.resolve(o);const r={func:"TopicList",forumid:e,params:{filter:{},startColumn:20*t,private:!1}};return-1===i?r.params.filter.top=1:-2===i?r.params.filter.good=!0:-3===i?(r.params.filter.author=this.user.id,r.params.filter.topic=null):-4===i?(r.params.filter.author=this.user.id,r.params.filter.topic=null,r.params.private=!0):-5===i?(r.params.filter.forumid=this.user.id,r.params.filter.topic=null,r.params.private=!0):r.params.filter.top=0,e&&(r.params.filter.forumid=e),this.host.ForumRequest(this.user.id,this.user.password,r).then(e=>(e&&e.data&&this.ForumMG.SetPage(s,n,e.data,e.sum),e)).catch(e=>Promise.reject(e))}))}LoadAnswerList(e,t,i){return Object(s.b)(this,void 0,void 0,(function*(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"TopicList",forumid:t,params:{filter:{topic:e},sort:"created",startColumn:20*i,direction:1}}).then(e=>(console.log("\u8ddf\u5e16",e),e)).catch(e=>Promise.reject(e))}))}NewTopic(e,t){return Object(s.b)(this,void 0,void 0,(function*(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"NewTopic",forumid:e,params:t}).then(e=>e).catch(e=>Promise.reject(e))}))}GetTopic(e,t){return Object(s.b)(this,void 0,void 0,(function*(){const e=this.ForumMG.GetTopic(t);if(e)return Promise.resolve(e);Promise.reject("????")}))}UpdatForum(e,t){return Object(s.b)(this,void 0,void 0,(function*(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"UpdateForum",params:{id:t,data:e}}).then(e=>e).catch(e=>(console.log("updat failed",e),Promise.reject(e)))}))}UpdateTopic(e,t,i){return Object(s.b)(this,void 0,void 0,(function*(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"Update",params:{id:t,private:i,data:e}}).then(e=>e).catch(e=>(console.log("updat failed",e),Promise.reject(e)))}))}GetUserInfo(e,t=-1){const i=this.VUsers.find(t=>t.id===e);return i?Promise.resolve(i):this.host.ForumRequest(this.user.id,this.user.password,{func:"GetVUser",author:e,roller:t}).then(e=>(this.VUsers.push(e),e)).catch(e=>Promise.reject(e))}DeleteTopic(e,t){return this.host.ForumRequest(this.user.id,this.user.password,{func:"DeleteTopic",params:{topicid:e}}).then(i=>(this.ForumMG.DeleteTopic(e,t),i)).catch(e=>Promise.reject(e))}SendMessage(e){return this.host.ForumRequest(this.user.id,this.user.password,{func:"SendMessage",params:{message:e}}).then(e=>e).catch(e=>Promise.reject(e))}LoadMessages(e,t){return Object(s.b)(this,void 0,void 0,(function*(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"MessageList",params:{pageindex:e,forme:t}}).then(e=>e).catch(e=>Promise.reject(e))}))}DeleteMessage(e,t){return Object(s.b)(this,void 0,void 0,(function*(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"DeleteMessage",params:{msgid:e,todelete:t}}).then(e=>e).catch(e=>Promise.reject(e))}))}HoldPublicMessage(){return Object(s.b)(this,void 0,void 0,(function*(){return yield this.initial(),this.host.ForumRequest(this.user.id,this.user.password,{func:"HoldPublicMsg"}).then(e=>e).catch(e=>Promise.reject(e))}))}UpgradUser(e,t){return Object(s.b)(this,void 0,void 0,(function*(){return yield this.initial(),this.host.ForumRequest(this.user.id,this.user.password,{func:"UpgradeUser",params:{id:e,data:t}}).then(e=>e).catch(e=>Promise.reject(e))}))}initial(){return Object(s.b)(this,void 0,void 0,(function*(){return this.user||(yield this.settings.WaitInit(),this.user=this.settings.User),!0}))}LoadForumList(){return this.host.ForumRequest(this.user.id,this.user.password,{func:"ForumList"}).then(e=>(this.ForumMG.Forumlist=e,e)).catch(e=>Promise.reject(e))}}return e.\u0275fac=function(t){return new(t||e)(a.dc(n.a),a.dc(o.a))},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},aGhr:function(e,t){}}]);