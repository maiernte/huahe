(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"D+SI":function(e,t,o){"use strict";o.r(t);var n=o("ofXK"),i=o("3Pt+"),s=o("tyNb"),c=o("c7TG"),r=o("mrSG"),d=o("L99X"),l=o("LTmD"),b=o("lEof"),a=o("fXoL");let h=(()=>{class e{constructor(e,t){this.modalCtrl=e,this.toastCtrl=t,this.name="",this.nodetype=32,this.edit=!1,this.path=[]}ngOnInit(){}set NodeName(e){this.name=e}get NodeName(){return this.name}get NodeType(){return this.nodetype.toString()}set NodeType(e){this.nodetype=parseInt(e)}get Edit(){return this.edit}set Edit(e){this.edit=!0===e}set Path(e){console.log("path = ",e),this.path=e}get PathT(){return this.path.join(" / ")}onclose(e){return Object(r.b)(this,void 0,void 0,(function*(){if(this.name=(this.name||"").trim(),e&&this.name.IsNullOrEmpty())return void(yield this.toastCtrl.create({message:"\u6587\u4ef6\u5939\u7684\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a",duration:2e3})).present();let t={};e&&(t={name:this.name,type:this.nodetype}),this.modalCtrl.dismiss(t)}))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(c.cb),a.Wb(c.jb))},e.\u0275cmp=a.Qb({type:e,selectors:[["app-nodeeditor"]],inputs:{NodeName:"NodeName",NodeType:"NodeType",Edit:"Edit",Path:"Path"},decls:44,vars:4,consts:[["color","secondary"],["slot","end"],[3,"click"],["color","medium"],["position","floating"],["placeholder","\u6587\u4ef6\u5939\u6216\u5ba2\u6237\u540d\u79f0",3,"ngModel","ngModelChange"],["position","stacked"],[3,"ngModel","disabled","ngModelChange"],["value","1"],["name","folder"],["value","2"],["name","person"],["value","32","checked",""],["name","document"],["margin-top","10"]],template:function(e,t){1&e&&(a.Zb(0,"ion-header"),a.Zb(1,"ion-toolbar",0),a.Zb(2,"ion-title"),a.xc(3,"\u521b\u5efa\u8282\u70b9"),a.Yb(),a.Zb(4,"ion-buttons",1),a.Zb(5,"ion-button",2),a.hc("click",(function(){return t.onclose(!1)})),a.xc(6," \u53d6\u6d88 "),a.Yb(),a.Zb(7,"ion-button",2),a.hc("click",(function(){return t.onclose(!0)})),a.xc(8," \u786e\u5b9a "),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(9,"ion-content"),a.Zb(10,"ion-item"),a.Zb(11,"ion-text"),a.xc(12,"\u8def\u5f84\uff1a"),a.Yb(),a.Zb(13,"ion-text",3),a.xc(14),a.Yb(),a.Yb(),a.Zb(15,"ion-item"),a.Zb(16,"ion-label",4),a.xc(17,"\u76ee\u5f55\u540d\u79f0"),a.Yb(),a.Zb(18,"ion-input",5),a.hc("ngModelChange",(function(e){return t.NodeName=e})),a.Yb(),a.Yb(),a.Zb(19,"ion-item"),a.Zb(20,"ion-label",6),a.xc(21,"\u76ee\u5f55\u7c7b\u578b"),a.Yb(),a.Zb(22,"ion-segment",7),a.hc("ngModelChange",(function(e){return t.NodeType=e})),a.Zb(23,"ion-segment-button",8),a.Xb(24,"ion-icon",9),a.Zb(25,"ion-text"),a.xc(26,"\u5f52\u6863\u7bb1"),a.Yb(),a.Yb(),a.Zb(27,"ion-segment-button",10),a.Xb(28,"ion-icon",11),a.Zb(29,"ion-text"),a.xc(30,"\u5ba2\u6237\u5939"),a.Yb(),a.Yb(),a.Zb(31,"ion-segment-button",12),a.Xb(32,"ion-icon",13),a.Zb(33,"ion-text"),a.xc(34,"\u6587\u4ef6\u5939"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(35,"ion-item",14),a.Zb(36,"ion-text",3),a.xc(37,"\u6587\u4ef6\u5939\uff1a\u53ea\u53ef\u5b58\u653e\u516d\u723b\u548c\u516b\u5b57\u6848\u4f8b\u3002\u6587\u4ef6\u5939\u4e0b\u9762\u4e0d\u80fd\u518d\u5305\u542b\u5f52\u6863\u7bb1\u3001\u5ba2\u6237\u5939\u3001\u6587\u4ef6\u5939\u3002"),a.Yb(),a.Yb(),a.Zb(38,"ion-item",14),a.Zb(39,"ion-text",3),a.xc(40,"\u5f52\u6863\u7bb1\uff1a\u4e0d\u53ef\u5b58\u653e\u6848\u4f8b\uff0c\u4f46\u53ef\u4ee5\u5d4c\u5957\u5305\u542b\u5f52\u6863\u7bb1\u3001\u5ba2\u6237\u5939\u3001\u6587\u4ef6\u5939\u3002"),a.Yb(),a.Yb(),a.Zb(41,"ion-item",14),a.Zb(42,"ion-text",3),a.xc(43,"\u5ba2\u6237\u5939\uff1a\u4e0d\u53ef\u5b58\u653e\u6848\u4f8b\uff0c\u4f46\u53ef\u4ee5\u5d4c\u5957\u5305\u542b\u5f52\u6863\u7bb1\u3001\u5ba2\u6237\u5939\u3001\u6587\u4ef6\u5939\u3002"),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Mb(14),a.yc(t.PathT),a.Mb(4),a.oc("ngModel",t.NodeName),a.Mb(4),a.oc("ngModel",t.NodeType)("disabled",t.Edit))},directives:[c.s,c.Y,c.W,c.k,c.j,c.o,c.w,c.T,c.C,c.v,c.ib,i.c,i.d,c.N,c.hb,c.O,c.t,c.d],styles:[""]}),e})();var u=o("HQI1"),p=o("mo90");function m(e,t){1&e&&(a.Zb(0,"div",5),a.Xb(1,"ion-spinner",6),a.Yb())}function y(e,t){if(1&e&&a.Xb(0,"ion-icon",7),2&e){const e=a.jc();a.oc("name",1===e.SyncNodesFinished?"md-checkmark":"md-close")}}function f(e,t){1&e&&(a.Zb(0,"div",5),a.Xb(1,"ion-spinner",6),a.Yb())}function N(e,t){if(1&e&&a.Xb(0,"ion-icon",7),2&e){const e=a.jc().$implicit;a.oc("name",1===e.statue?"md-checkmark":"md-close")}}function g(e,t){if(1&e&&(a.Zb(0,"ion-item"),a.Zb(1,"ion-text",8),a.xc(2),a.Yb(),a.Zb(3,"ion-text"),a.xc(4),a.Yb(),a.wc(5,f,2,0,"div",1),a.wc(6,N,1,1,"ion-icon",2),a.Yb()),2&e){const e=t.$implicit;a.Mb(2),a.yc(e.type),a.Mb(2),a.yc(e.path),a.Mb(1),a.oc("ngIf",0===e.statue),a.Mb(1),a.oc("ngIf",0!==e.statue)}}const v=o("NFKh");let S=(()=>{class e{constructor(e,t,o,n,i){this.modalCtrl=e,this.alertController=t,this.dbservice=o,this.settings=n,this.host=i,this.Items=[],this.changed=!1,this.encrypKey="",this.usingencry=!1,this.Finished=!1,this.SyncNodesFinished=0}ngOnInit(){const e=this.settings.User;this.encrypKey=e.encryp,this.usingencry=!0===this.settings.Encryp,console.log("encrypKey",this.encrypKey,this.settings.Encryp),this.SyncNodes(e.id,e.password)}SyncNodes(e,t){return Object(r.b)(this,void 0,void 0,(function*(){const e=yield this.LoadTreeFromCloud().catch(()=>[]);if(!Array.isArray(e))return console.log(e),void this.modalCtrl.dismiss();let t=!1;if(this.SyncNodesFinished=1,e.length>0){const o=this.dbservice.SaveNodesFromCloud(e);if(o.length>0){t=!0;const e=o.map(e=>({type:"\u4e0b\u8f7d <= :",path:e[1],statue:0,id:e[0]}));this.Items=this.Items.concat(e),this.LoadRecordesFromCloud(e)}}const o=this.dbservice.NewNodesToCloud(e);if(o.length>0){t=!0;const e=o.map(e=>({type:"\u4e0a\u4f20 => :",path:e[1],statue:0,id:e[0]}));this.Items=this.Items.concat(e),yield this.UploadRecordes(e),yield this.UploadNodes().catch(()=>{this.SyncNodesFinished=-1})}!1===t?this.Items.push({type:"",path:"\u6ca1\u6709\u53ef\u66f4\u65b0\u7684\u6570\u636e\uff0c\u5df2\u7ecf\u4fdd\u5b58\u540c\u6b65\uff01",statue:1,id:""}):this.dbservice.SaveNodes(),this.dbservice.CleanNodes(),this.Finished=!0}))}DecrypData(e){try{const t=v.AES.decrypt(e,this.encrypKey).toString(v.enc.Utf8);return JSON.parse(t)}catch(t){throw this.presentAlert("\u89e3\u5bc6\u51fa\u9519",null,"\u65e0\u6cd5\u89e3\u5bc6\u4e91\u7aef\u6848\u4f8b\u6587\u4ef6\u3002\u6587\u4ef6\u5df2\u635f\u574f\u6216\u52a0\u5bc6\u53e3\u4ee4\u4e0d\u6b63\u786e\u3002"),new Error("\u6587\u4ef6\u5df2\u635f\u574f\uff0c\u6216\u52a0\u5bc6\u53e3\u4ee4\u4e0d\u6b63\u786e\uff0c\u65e0\u6cd5\u6253\u5f00\u6587\u4ef6\u3002")}}LoadTreeFromCloud(){const e=this.settings.User;return this.host.GetBookTree(e.id,e.password).then(t=>t&&t.id===e.id?!0===t.encryp?this.DecrypData(t.content):t.content:Promise.reject("\u670d\u52a1\u5668\u6587\u4ef6\u51fa\u9519\u3002")).catch(e=>Promise.reject(e))}UploadNodes(){const e=this.settings.User,t={id:e.id,modified:Date.now(),version:0,encryp:!1,content:this.dbservice.NodesAlle};return this.usingencry&&(t.content=v.AES.encrypt(JSON.stringify(this.dbservice.NodesAlle),this.encrypKey).toString(),t.encryp=!0),this.host.SaveBookTree(e.id,e.password,t).then(()=>(this.dbservice.Nodes.forEach(e=>{32!==e.type&&(e.dirty=!1)}),this.dbservice.SaveNodes(),!0)).catch(e=>!1)}LoadRecordesFromCloud(e){const t=this.settings.User,o=[];return e.forEach(e=>{const n=this.host.LoadRecord(t.id,t.password,e.id).then(t=>{if(t&&t.id===e.id){let o=t.content;return!0===t.encryp&&(o=this.DecrypData(t.content)),this.dbservice.SaveRecordes(e.id,o,!1),e.statue=1,!0}return e.statue=-1,!1}).catch(t=>(console.error(t),e.statue=-1,!1));o.push(n)}),Promise.all(o).then(t=>(console.log("LoadRecordesFromCloud promises",t),e.filter(e=>1===e.statue).length===e.length))}UploadRecordes(e){return Object(r.b)(this,void 0,void 0,(function*(){const t=this.settings.User;for(const o of e){const e=yield this.dbservice.GetRecordes(o.id).catch(()=>null),n=this.dbservice.Nodes.find(e=>e.id===o.id);if(e&&e.length>0){const i={id:o.id,modified:Date.now(),version:n.version,encryp:!1,content:e};this.usingencry&&(i.content=v.AES.encrypt(JSON.stringify(e),this.encrypKey).toString(),i.encryp=!0);const s=yield this.host.UploadRecord(t.id,t.password,i).then(()=>{console.log(`upload ${o.id} finished. set dirty false`),n.dirty=!1}).catch(()=>!1);o.statue=!1===s?-1:1}else o.statue=1}return Promise.resolve(!0)}))}Stop(){this.modalCtrl.dismiss(this.changed)}presentAlert(e,t,o){return Object(r.b)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({header:e||"\u9519\u8bef",subHeader:t||"",message:o,buttons:["\u786e\u5b9a"]});yield n.present()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(c.cb),a.Wb(c.b),a.Wb(d.a),a.Wb(l.a),a.Wb(b.a))},e.\u0275cmp=a.Qb({type:e,selectors:[["app-syncindicator"]],inputs:{Items:"Items"},decls:16,vars:4,consts:[["color","secondary"],["class","spin","slot","end",4,"ngIf"],["slot","end",3,"name",4,"ngIf"],[4,"ngFor","ngForOf"],["slot","end",3,"disabled","click"],["slot","end",1,"spin"],["name","bubbles"],["slot","end",3,"name"],["color","medium"]],template:function(e,t){1&e&&(a.Zb(0,"ion-header"),a.Zb(1,"ion-toolbar",0),a.Zb(2,"ion-title"),a.xc(3,"\u540c\u6b65\u6570\u636e\u5230\u670d\u52a1\u5668"),a.Yb(),a.Yb(),a.Yb(),a.Zb(4,"ion-content"),a.Zb(5,"ion-list"),a.Zb(6,"ion-item"),a.Zb(7,"ion-text"),a.xc(8,"\u540c\u6b65\u76ee\u5f55\u7ed3\u6784"),a.Yb(),a.wc(9,m,2,0,"div",1),a.wc(10,y,1,1,"ion-icon",2),a.Yb(),a.wc(11,g,7,4,"ion-item",3),a.Yb(),a.Yb(),a.Zb(12,"ion-footer"),a.Zb(13,"ion-toolbar"),a.Zb(14,"ion-button",4),a.hc("click",(function(){return t.Stop()})),a.xc(15,"\u786e\u5b9a"),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Mb(9),a.oc("ngIf",0===t.SyncNodesFinished),a.Mb(1),a.oc("ngIf",0!==t.SyncNodesFinished),a.Mb(1),a.oc("ngForOf",t.Items),a.Mb(3),a.oc("disabled",!t.Finished))},directives:[c.s,c.Y,c.W,c.o,c.D,c.w,c.T,n.j,n.i,c.q,c.j,c.R,c.t],styles:[""]}),e})();var Y=o("xPBH"),Z=(o("Y6BA"),o("vBXD"));function x(e,t){1&e&&(a.Zb(0,"div",12),a.Xb(1,"ion-spinner",13),a.Yb())}let I=(()=>{class e{constructor(e,t,o,n,i,s,c,r,d){this.dbservice=e,this.settings=t,this.host=o,this.actionsheetctrl=n,this.alertCtrl=i,this.popoverCtrl=s,this.modalController=c,this.route=r,this.router=d,this.selectedtNodeId=15,this.SortKey="created",this.SortName="\u521b\u5efa\u65e5\u671f",this.HasUser=!1,this.spinner=!1}ngOnInit(){return Object(r.b)(this,void 0,void 0,(function*(){yield this.settings.WaitInit(),yield this.dbservice.GetAllNodes().then(e=>{this.Nodes=this.buildNodeTree(e,null)}),this.HasUser=this.settings.HasUser}))}get OpenEnable(){return!!this.SelectedNode&&32===this.SelectedNode.Type}onNodeSelecte(e){this.SelectedNode&&(this.SelectedNode.IsSelected=!1),this.SelectedNode=e,this.SelectedNode.IsSelected=!0}sortOptions(e){return Object(r.b)(this,void 0,void 0,(function*(){const t=yield this.popoverCtrl.create({component:u.a,event:e,componentProps:{items:[{name:"\u76ee\u5f55\u540d\u79f0",value:"name"},{name:"\u521b\u5efa\u65f6\u95f4",value:"created"},{name:"\u4fee\u6539\u65f6\u95f4",value:"modified"}],currentOption:this.SortKey},translucent:!0});yield t.present();const{data:o}=yield t.onDidDismiss();if((o||this.SortKey)!==this.SortKey){switch(this.SortKey=o.toString(),this.SortKey){case"name":this.SortName="\u76ee\u5f55\u540d\u79f0";break;case"created":this.SortName="\u521b\u5efa\u65f6\u95f4";break;case"modified":this.SortName="\u4fee\u6539\u65f6\u95f4";break;default:this.SortName="\u9ed8\u8ba4"}this.dbservice.GetAllNodes().then(e=>{this.Nodes=this.buildNodeTree(e,null)})}}))}onNodeAdd(e){return Object(r.b)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:h,componentProps:{NodeName:null,NodeType:1,Edit:!1,Path:Y.a.getNodePath(null,e?e.ID:null,this.Nodes)}});yield t.present();const{data:o}=yield t.onWillDismiss();o.name&&!o.name.IsNullOrEmpty()&&(o.parent=e?e.ID:"",this.dbservice.CreateNode(o.parent,o.name,o.type).then(e=>{this.Nodes=this.buildNodeTree(e,null)}))}))}EditNode(){return Object(r.b)(this,void 0,void 0,(function*(){const e=Y.a.getNodePath(null,this.SelectedNode.ID,this.Nodes),t=yield this.modalController.create({component:h,componentProps:{NodeName:this.SelectedNode.Title,NodeType:this.SelectedNode.Type,Edit:!0,Path:e}});yield t.present();const{data:o}=yield t.onWillDismiss();o.name&&!o.name.IsNullOrEmpty()&&this.dbservice.ChangeNode(this.SelectedNode.ID,o.name).then(e=>{this.Nodes=this.buildNodeTree(e,null)})}))}DeleteNode(){return Object(r.b)(this,void 0,void 0,(function*(){const e=Y.a.getNodePath(null,this.SelectedNode?this.SelectedNode.ID:null,this.Nodes),t=yield this.alertCtrl.create({header:`${e.join("/")}`,subHeader:`\u5220\u9664 "${this.SelectedNode.Title}"`,message:"\u6b64\u76ee\u5f55\u4ee5\u53ca\u5176\u5305\u542b\u7684\u5b50\u76ee\u5f55\u548c\u76ee\u5f55\u5185\u7684\u6848\u4f8b\u5c06\u4f1a\u88ab\u5220\u9664\u3002\u786e\u5b9a\u6267\u884c\u5220\u9664\u64cd\u4f5c\u5417\uff1f",buttons:[{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary"},{text:"\u786e\u5b9a",handler:()=>{const e=[];this.SelectedNode.SubNodesId(e),this.dbservice.DeleteNodes(e).then(e=>{this.Nodes=this.buildNodeTree(e,null)})}}]});yield t.present()}))}MoveNode(){return Object(r.b)(this,void 0,void 0,(function*(){Y.a.getNodePath(null,this.SelectedNode?this.SelectedNode.ID:null,this.Nodes);const e=yield this.modalController.create({component:p.a,componentProps:{Titel:"\u9009\u62e9\u65b0\u76ee\u5f55",SelectDocument:!1,NodeID:this.SelectedNode.ID}});yield e.present();const{data:t}=yield e.onWillDismiss();t.nodeid&&!t.nodeid.IsNullOrEmpty()&&this.dbservice.ChangeNode(this.SelectedNode.ID,null,t.nodeid).then(e=>{this.Nodes=this.buildNodeTree(e,null)})}))}ShowRecordes(e){if(e){const t=[];this.findDocumentNode(e,t),this.router.navigateByUrl(`/menu/recordes/${t.join("-")}`)}else this.router.navigateByUrl("/menu/recordes/*")}ShowActions(){return Object(r.b)(this,void 0,void 0,(function*(){const e=yield this.actionsheetctrl.create({header:`\u7f16\u8f91\uff1a${this.SelectedNode.Title}`,buttons:[{text:"\u5220\u9664",role:"destructive",icon:"trash",handler:()=>{this.DeleteNode()}},{text:"\u4fee\u6539",icon:"create",handler:()=>{this.EditNode()}},{text:"\u8fc1\u79fb\u76ee\u5f55",icon:"arrow-round-back",handler:()=>{this.MoveNode()}},{text:" \u53d6\u6d88",icon:"close",role:"cancel",handler:()=>{}}]});yield e.present()}))}SyncCloud(){return Object(r.b)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:S});yield e.present(),yield e.onWillDismiss(),this.dbservice.GetAllNodes().then(e=>{this.Nodes=this.buildNodeTree(e,null)})}))}buildNodeTree(e,t){let o=[];return(t||"").IsNullOrEmpty(),t=null!=t?t:"",o=e.where(e=>(e.parent||"")===t).sortByKey(this.SortKey).select(e=>{const t=new Y.a(e.type,e.name);return t.ID=e.id||null,t.Version=e.version?e.version:0,t}),o.forEach(t=>{t.Sub=this.buildNodeTree(e,t.ID)}),o}findDocumentNode(e,t){if(32!==e.Type)for(const o of e.Sub||[])this.findDocumentNode(o,t);else t.push(e.ID)}findTreeNode(e,t){const o=(e||[]).find(e=>e.ID===t);if(o)return o;for(const n of e){const e=this.findTreeNode(n.Sub,t);if(e)return e}return null}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(d.a),a.Wb(l.a),a.Wb(b.a),a.Wb(c.a),a.Wb(c.b),a.Wb(c.fb),a.Wb(c.cb),a.Wb(s.a),a.Wb(s.g))},e.\u0275cmp=a.Qb({type:e,selectors:[["app-nodes"]],decls:36,vars:6,consts:[["color","primary"],["slot","start"],["slot","end"],["size","small",3,"disabled","click"],["slot","icon-only","name","cloud-upload"],["size","small",3,"click"],["name","md-funnel"],["class","spin",4,"ngIf"],[3,"nodes","nodeSelected","nodeAdd"],["name","add"],["name","book"],["name","build"],[1,"spin"],["name","bubbles"]],template:function(e,t){1&e&&(a.Zb(0,"ion-header"),a.Zb(1,"ion-toolbar",0),a.Zb(2,"ion-buttons",1),a.Xb(3,"ion-menu-button"),a.Yb(),a.Zb(4,"ion-title"),a.xc(5,"\u6848\u4f8b\u76ee\u5f55"),a.Yb(),a.Zb(6,"ion-buttons",2),a.Zb(7,"ion-button",3),a.hc("click",(function(){return t.SyncCloud()})),a.Xb(8,"ion-icon",4),a.Yb(),a.Zb(9,"ion-button",5),a.hc("click",(function(e){return t.sortOptions(e)})),a.Xb(10,"ion-icon",6),a.Zb(11,"ion-text"),a.xc(12),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(13,"ion-content"),a.wc(14,x,2,0,"div",7),a.Zb(15,"app-tree-node",8),a.hc("nodeSelected",(function(e){return t.onNodeSelecte(e)}))("nodeAdd",(function(e){return t.onNodeAdd(e)})),a.Yb(),a.Yb(),a.Zb(16,"ion-footer"),a.Zb(17,"ion-toolbar"),a.Zb(18,"ion-buttons",1),a.Zb(19,"ion-button",5),a.hc("click",(function(){return t.onNodeAdd(null)})),a.Xb(20,"ion-icon",9),a.Zb(21,"ion-text"),a.xc(22,"\u65b0\u5efa"),a.Yb(),a.Yb(),a.Zb(23,"ion-button",3),a.hc("click",(function(){return t.ShowRecordes(t.SelectedNode)})),a.Xb(24,"ion-icon",10),a.Zb(25,"ion-text"),a.xc(26,"\u6253\u5f00"),a.Yb(),a.Yb(),a.Zb(27,"ion-button",3),a.hc("click",(function(){return t.ShowActions()})),a.Xb(28,"ion-icon",11),a.Zb(29,"ion-text"),a.xc(30,"\u7f16\u8f91"),a.Yb(),a.Yb(),a.Yb(),a.Zb(31,"ion-buttons",2),a.Zb(32,"ion-button",5),a.hc("click",(function(){return t.ShowRecordes(null)})),a.Xb(33,"ion-icon",10),a.Zb(34,"ion-text"),a.xc(35,"\u5168\u90e8"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Mb(7),a.oc("disabled",!t.HasUser),a.Mb(5),a.yc(t.SortName),a.Mb(2),a.oc("ngIf",!0===t.spinner),a.Mb(1),a.oc("nodes",t.Nodes),a.Mb(8),a.oc("disabled",!t.SelectedNode),a.Mb(4),a.oc("disabled",!t.SelectedNode))},directives:[c.s,c.Y,c.k,c.G,c.W,c.j,c.t,c.T,c.o,n.j,Z.a,c.q,c.R],styles:[".spin[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;stroke:#444;fill:#222}"]}),e})();o("yLV6");let w=(()=>{let e=class{};return e.\u0275mod=a.Ub({type:e}),e.\u0275inj=a.Tb({factory:function(t){return new(t||e)},imports:[[n.b]]}),e})();o.d(t,"NodesPageModule",(function(){return T}));const C=[{path:"",component:I}];let T=(()=>{class e{}return e.\u0275mod=a.Ub({type:e}),e.\u0275inj=a.Tb({factory:function(t){return new(t||e)},imports:[[n.b,i.a,c.Z,w,s.i.forChild(C)]]}),e})()},HQI1:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var n=o("c7TG"),i=o("fXoL"),s=o("ofXK");function c(e,t){if(1&e){const e=i.ac();i.Zb(0,"ion-item",2),i.hc("click",(function(){i.rc(e);const o=t.$implicit;return i.jc(2).onSelect(o.value)})),i.Zb(1,"ion-text"),i.xc(2),i.Yb(),i.Yb()}if(2&e){const e=t.$implicit,o=i.jc(2);i.oc("color",e.value===o.currentOption?"light":""),i.Mb(2),i.yc(e.name)}}function r(e,t){if(1&e&&(i.Zb(0,"div"),i.wc(1,c,3,2,"ion-item",1),i.Yb()),2&e){const e=i.jc();i.Mb(1),i.oc("ngForOf",e.items)}}function d(e,t){if(1&e&&(i.Zb(0,"ion-item",4),i.Zb(1,"ion-note"),i.xc(2),i.Yb(),i.Zb(3,"ion-label",5),i.xc(4),i.Yb(),i.Yb()),2&e){const e=t.$implicit;i.Mb(2),i.yc(e.name),i.Mb(2),i.zc(" ",e.value," ")}}function l(e,t){if(1&e&&(i.Zb(0,"small"),i.wc(1,d,5,2,"ion-item",3),i.Yb()),2&e){const e=i.jc();i.Mb(1),i.oc("ngForOf",e.items)}}let b=(()=>{class e{constructor(e){this.popoverCtrl=e,this.toselect=!0}ngOnInit(){}onSelect(e){this.popoverCtrl.dismiss(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(n.fb))},e.\u0275cmp=i.Qb({type:e,selectors:[["app-optionpopover"]],inputs:{currentOption:"currentOption",items:"items",toselect:"toselect"},decls:2,vars:2,consts:[[4,"ngIf"],["button","",3,"color","click",4,"ngFor","ngForOf"],["button","",3,"color","click"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end",1,"ion-text-wrap"]],template:function(e,t){1&e&&(i.wc(0,r,2,1,"div",0),i.wc(1,l,2,1,"small",0)),2&e&&(i.oc("ngIf",t.toselect),i.Mb(1),i.oc("ngIf",!t.toselect))},directives:[s.j,s.i,n.w,n.T,n.I,n.C],styles:[""]}),e})()}}]);