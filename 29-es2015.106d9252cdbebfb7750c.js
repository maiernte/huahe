(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{tfv3:function(i,t,n){"use strict";n.r(t);var o=n("ofXK"),e=n("3Pt+"),s=n("tyNb"),c=n("c7TG"),a=n("mrSG"),l=n("SRjL"),r=n("B8lH"),b=(n("0eVs"),n("LTmD")),d=n("gTpY"),u=n("mo90"),f=n("L99X"),h=n("fXoL");function g(i,t){if(1&i&&(h.Zb(0,"ion-text",10),h.xc(1),h.Yb()),2&i){const i=h.jc();h.Mb(1),h.yc(i.Slogen)}}function p(i,t){if(1&i&&h.Xb(0,"app-baziview",11),2&i){const i=h.jc();h.oc("Config",i.Config)("BaziText",i.Bazi)}}let m=(()=>{class i{constructor(i,t,n){this.modalController=i,this.dbservice=t,this.setting=n,this.Slogen=""}get Config(){return this.config||(this.config=Object(b.b)(this.setting.Bazi)),this.config}set Config(i){i&&(this.config=i)}get Bazi(){return this.bazi}get HasBazi(){return!!this.bazi}ngOnInit(){}SaveBazi(){return Object(a.b)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:u.a,componentProps:{Titel:"\u9009\u62e9\u65b0\u76ee\u5f55",SelectDocument:!0,NodeID:""}});yield i.present();const{data:t}=yield i.onWillDismiss();t&&t.nodeid&&this.dbservice.SaveRecord(t.nodeid,this.bazi.person,16,JSON.stringify(this.bazi))}))}showPaipanModal(){return Object(a.b)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:l.a});yield i.present();const{data:t}=yield i.onWillDismiss();this.bazi=t.result?t.result:null}))}showSettingModal(){return Object(a.b)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:r.a,componentProps:{SettingComponent:"bazi",Config:Object(b.b)(this.Config)}});yield i.present();const{data:t}=yield i.onWillDismiss();Object(b.c)({},t.result)||!Object(b.c)(this.Config,t.result)&&(this.Config=Object(b.b)(t.result),this.baziview&&this.baziview.Reflash(this.Config))}))}typingSlogen(){"\u7269\u683c\u800c\u540e\u77e5\u81f3\uff0c\u77e5\u81f3\u800c\u540e\u610f\u8bda\uff0c\u610f\u8bda\u800c\u540e\u5fc3\u6b63\uff0c\u5fc3\u6b63\u800c\u540e\u8eab\u4fee\uff0c\u8eab\u4fee\u800c\u540e\u5bb6\u9f50\uff0c\u5bb6\u9f50\u800c\u540e\u56fd\u6cbb\uff0c\u56fd\u6cbb\u800c\u540e\u5929\u4e0b\u5e73\u3002".split("").forEach(i=>{setTimeout(()=>{this.Slogen+=i},1e3)})}}return i.\u0275fac=function(t){return new(t||i)(h.Wb(c.W),h.Wb(f.a),h.Wb(b.a))},i.\u0275cmp=h.Qb({type:i,selectors:[["app-paibazi"]],viewQuery:function(i,t){var n;1&i&&h.Ac(d.a,!0),2&i&&h.qc(n=h.ic())&&(t.baziview=n.first)},decls:16,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],["slot","icon-only","name","add-circle-outline"],["slot","icon-only","name","settings"],[3,"disabled","click"],["slot","icon-only","name","save"],[1,"ion-padding"],["class","slogen",4,"ngIf"],[3,"Config","BaziText",4,"ngIf"],[1,"slogen"],[3,"Config","BaziText"]],template:function(i,t){1&i&&(h.Zb(0,"ion-header"),h.Zb(1,"ion-toolbar"),h.Zb(2,"ion-buttons",0),h.Xb(3,"ion-menu-button"),h.Yb(),h.Zb(4,"ion-title"),h.xc(5,"\u516b\u5b57"),h.Yb(),h.Zb(6,"ion-buttons",1),h.Zb(7,"ion-button",2),h.hc("click",(function(i){return t.showPaipanModal()})),h.Xb(8,"ion-icon",3),h.Yb(),h.Zb(9,"ion-button",2),h.hc("click",(function(i){return t.showSettingModal()})),h.Xb(10,"ion-icon",4),h.Yb(),h.Zb(11,"ion-button",5),h.hc("click",(function(i){return t.SaveBazi()})),h.Xb(12,"ion-icon",6),h.Yb(),h.Yb(),h.Yb(),h.Yb(),h.Zb(13,"ion-content",7),h.wc(14,g,2,1,"ion-text",8),h.wc(15,p,1,2,"app-baziview",9),h.Yb()),2&i&&(h.Mb(11),h.oc("disabled",!t.HasBazi),h.Mb(3),h.oc("ngIf",!t.HasBazi),h.Mb(1),h.oc("ngIf",t.HasBazi))},directives:[c.p,c.T,c.i,c.y,c.R,c.h,c.q,c.l,o.j,c.O,d.a],styles:[""]}),i})(),z=(()=>{class i{}return i.\u0275mod=h.Ub({type:i}),i.\u0275inj=h.Tb({factory:function(t){return new(t||i)},imports:[[o.b,e.a,c.U]]}),i})();var v=n("KPWP"),y=n("uEAi");n.d(t,"PaibaziPageModule",(function(){return C}));const w=[{path:"",component:m}];let C=(()=>{class i{}return i.\u0275mod=h.Ub({type:i}),i.\u0275inj=h.Tb({factory:function(t){return new(t||i)},imports:[[z,v.a,y.a,o.b,e.a,c.U,s.i.forChild(w)]]}),i})()}}]);